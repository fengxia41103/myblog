<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta
      name="viewport"
      content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"
    />

    <meta name="description" content="" />
    <meta name="author" content="" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/monokai-sublime.min.css" integrity="sha512-ade8vHOXH67Cm9z/U2vBpckPD1Enhdxl3N05ChXyFx5xikfqggrK4RrEele+VWY/iaZyfk7Bhk6CyZvlh7+5JQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css"
    />

    <link rel="stylesheet" href="https://fengxia41103.github.io/myblog/theme/css/my.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
            integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>



    <title>Be Care Free</title>
  </head>

  <body>
    <header id="mypage-index">
      <a href="https://fengxia41103.github.io/myblog/">Be Care Free </a>

      <a href="https://fengxia41103.github.io/myblog/about.html"> . About </a>
      <a href="https://fengxia41103.github.io/myblog/lei.html"> . 夏雷 </a>
      <a href="https://fengxia41103.github.io/myblog/project euler.html"> . Project Euler </a>
      <a href="https://fengxia41103.github.io/myblog/quote.html"> . Quote </a>
      <a href="https://fengxia41103.github.io/myblog/resume.html"> . Resum&eacute; </a>
      <a href="https://fengxia41103.github.io/myblog/search.html"> . Search </a>
      <a href="https://fengxia41103.github.io/myblog/slides.html"> . Impression </a>
    </header>
    <!-- end of block navbar -->

    <div class="split-screen">
      <div class="split-left-pane">
<!-- <video autoplay muted loop id="myVideo">
     <source src="downloads/polina.mp4" type="video/mp4" />}
     </video>
-->
      </div>

      <div class="split-right-pane">
        <div id="content" class="container">
<article>
   <div>
    <i class="fa fa-calendar" style="opacity: 0.5">&nbsp;</i>
    2017-10-04


    <a class="wave-effect" href="dev.html">
      <i class="fa fa-folder-open-o"></i>
      dev
    </a>


    <h1 class="myhighlight">Linux laptop</h1>
  </div>

  <ol id="toc" class="row"></ol>

  <div>
    <div id="article-content">
      <p><p>Instructions to get Ubuntu Xenial &amp; Bionic (or any Linux) as your laptop OS.</p>
<h1>Install Linux</h1>
<p>You can do a dual boot or just wipe the whole disk. Window's boot
manager will interfere, somehow, which I don't remember the details
anymore. Google it. Eventually it will work. The rest assumes you have
Linux installed.</p>
<p>Also, follow <a href="https://fengxia41103.github.io/myblog/emacs.html">these steps</a> to get your Linux in a good shape.</p>
<h1>VPN</h1>
<p>Most importantly, you need VPN.</p>
<ol>
<li>Go to <code>otp.company.com</code> to register your phone number.</li>
<li>Install <code>Company OTP</code> from your app store.</li>
<li>Keep <code>Company OTP</code> app running so you can see the active OTP.</li>
<li><code>apt install openconnect screen tmux</code></li>
<li>
<p>In a screen, <code>sudo openconnect -u [username] webvpn.us.company.com</code></p>
<ol>
<li>first password: your regular domain login pwd</li>
<li>second one: OTP</li>
</ol>
</li>
</ol>
<p>If works, you should see something like this:</p>
<div class="highlight"><pre><span></span><code>root@fengxia-company:~#<span class="w"> </span>openconnect<span class="w"> </span>-u<span class="w"> </span>fxia1<span class="w"> </span>webvpn.us.company.com
POST<span class="w"> </span>https://webvpn.us.company.com/
Attempting<span class="w"> </span>to<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>server<span class="w"> </span><span class="m">104</span>.232.254.247:443
SSL<span class="w"> </span>negotiation<span class="w"> </span>with<span class="w"> </span>webvpn.us.company.com
Connected<span class="w"> </span>to<span class="w"> </span>HTTPS<span class="w"> </span>on<span class="w"> </span>webvpn.us.company.com
Got<span class="w"> </span>HTTP<span class="w"> </span>response:<span class="w"> </span>HTTP/1.0<span class="w"> </span><span class="m">302</span><span class="w"> </span>Object<span class="w"> </span>Moved
GET<span class="w"> </span>https://webvpn.us.company.com/
Attempting<span class="w"> </span>to<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>server<span class="w"> </span><span class="m">104</span>.232.254.247:443
SSL<span class="w"> </span>negotiation<span class="w"> </span>with<span class="w"> </span>webvpn.us.company.com
Connected<span class="w"> </span>to<span class="w"> </span>HTTPS<span class="w"> </span>on<span class="w"> </span>webvpn.us.company.com
Got<span class="w"> </span>HTTP<span class="w"> </span>response:<span class="w"> </span>HTTP/1.0<span class="w"> </span><span class="m">302</span><span class="w"> </span>Object<span class="w"> </span>Moved
GET<span class="w"> </span>https://webvpn.us.company.com/+webvpn+/index.html
SSL<span class="w"> </span>negotiation<span class="w"> </span>with<span class="w"> </span>webvpn.us.company.com
Connected<span class="w"> </span>to<span class="w"> </span>HTTPS<span class="w"> </span>on<span class="w"> </span>webvpn.us.company.com
Please<span class="w"> </span>enter<span class="w"> </span>your<span class="w"> </span>username<span class="w"> </span>and<span class="w"> </span>password.

Password:<span class="w">  </span>&lt;---<span class="w"> </span>A/D<span class="w"> </span>password
Password:<span class="w">  </span>&lt;---<span class="w"> </span>OTP

POST<span class="w"> </span>https://webvpn.us.company.com/+webvpn+/index.html
Got<span class="w"> </span>CONNECT<span class="w"> </span>response:<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK
CSTP<span class="w"> </span>connected.<span class="w"> </span>DPD<span class="w"> </span><span class="m">30</span>,<span class="w"> </span>Keepalive<span class="w"> </span><span class="m">30</span>
Connected<span class="w"> </span>tun0<span class="w"> </span>as<span class="w"> </span><span class="m">10</span>.38.102.28,<span class="w"> </span>using<span class="w"> </span>SSL
Established<span class="w"> </span>DTLS<span class="w"> </span>connection<span class="w"> </span><span class="o">(</span>using<span class="w"> </span>GnuTLS<span class="o">)</span>.<span class="w"> </span>Ciphersuite<span class="w"> </span><span class="o">(</span>DTLS0.9<span class="o">)</span>-<span class="o">(</span>RSA<span class="o">)</span>-<span class="o">(</span>AES-256-CBC<span class="o">)</span>-<span class="o">(</span>SHA1<span class="o">)</span>.
</code></pre></div>

<p>A list of VPN servers:</p>
<ul>
<li><code>webvpn.cn.company.com</code>   for China user</li>
<li><code>webvpn.hk.company.com</code>   for AP region user</li>
<li><code>webvpn.us.company.com</code>   for AG region user</li>
<li><code>webvpn.sk.company.com</code>   for EMEA user​    </li>
</ul>
<h2>recompile openconnect &amp; vpnc-script</h2>
<p>Well, once a while the enterprise decides to change their server
configuration so that one server works, but the other keeps failing
even though you have typed in the correct everything &mdash; my <code>.hk</code>
server was happy (but complaining about a cert mismatch, not a blocker
though), while my <code>.us</code> server just won't work.</p>
<p>Time to recompile from <a href="https://www.infradead.org/openconnect/vpnc-script.html">source</a>:</p>
<ol>
<li>get source: <code>git clone
   git://git.infradead.org/users/dwmw2/openconnect.git</code></li>
<li>The usual steps: <code>./autogen.sh &amp;&amp; ./configure</code>.</li>
<li>Download the <a href="http://git.infradead.org/users/dwmw2/vpnc-scripts.git/blob_plain/HEAD:/vpnc-script">latest vpnc-script</a> or install <code>apt install vpnc</code>.</li>
<li>Remove the stock openconnect: <code>apt remove openconnect &amp;&amp; apt purge
   openconnect</code>.</li>
<li><code>make</code> and <code>sudo make install</code>. Check that it's installed in
   <code>/usr/local/bin</code>.</li>
<li>Run it again, this time using the <code>vpnc-script</code> if you have one:
   <code>openconnect -u username --reconnect-timeout 600 --script &lt;path to
   vnpc-script&gt; webvpn.us.company.com</code>.</li>
</ol>
<p>Enjoy your VPN.</p>
<h1>Email</h1>
<p>These settings work for Thunderbird. Terminology may be different for
other clients.</p>
<p>Incoming (IMAP) settings:</p>
<ol>
<li>server: <code>outlookae.company.com</code>, port <code>993</code></li>
<li>username: your domain login</li>
<li>connection security: <code>SSL/TLS</code></li>
<li>authentication method: <code>Normal password</code></li>
</ol>
<p>Outgoing (SMTP) settings:</p>
<ol>
<li>server: <code>mailae.company.com</code>, port <code>587</code></li>
<li>connection security: <code>STARTTLS</code></li>
<li>authentication method: <code>NTLM</code></li>
<li>username: domain login</li>
</ol>
<p>Alternatively, use <a href="https://fengxia41103.github.io/myblog/mbsync mu4e email.html">mbsync w/ Davmail</a>.</p>
<h1>Lync</h1>
<p>A couple options: <a href="https://www.skype.com/en/download-skype/skype-for-computer/">skype for business</a>, <a href="https://launchpad.net/~sipe-collab/+archive/ubuntu/ppa">pidgin-sipe</a>.</p>
<h2>pidgin</h2>
<p><strong>DON'T use the stock package!</strong> It will not work. And don't follow
<a href="http://sipe.sourceforge.net/install/">this instruction</a>, either.  The only way to get it working is
<a href="https://launchpad.net/~sipe-collab/+archive/ubuntu/ppa">this</a> to install <code>pidgin pidgin-sipe</code>, then add configuration
listed below!</p>
<ol>
<li>add ppa: <code>add-apt-repository ppa:sipe-collab/ppa</code></li>
<li><code>apt update &amp;&amp; apt install pidgin pidgin-sipe</code></li>
<li><code>snap install remmina</code> </li>
</ol>
<p>Create a new account with these settings:</p>
<ol>
<li>protocol: <code>Office Communicator</code></li>
<li>username: <code>you@company.com</code></li>
<li>password: domain password</li>
<li>connection type: <code>Auto</code></li>
<li>user agent: <code>UCCAPI/16.0.6001.1073 OC/16.0.6001.1073 (Skype for Business)</code></li>
<li>authentication scheme: <code>NTLM</code></li>
<li>remote desktop client: <code>remmina</code> (or <code>xfreerdp</code>)</li>
</ol>
<p>Leave everything else as default/blank.</p>
<h1>jira &amp; Emacs</h1>
<p>See my <a href="https://fengxia41103.github.io/myblog/jira.html">jira</a> and <a href="https://fengxia41103.github.io/myblog/emacs.html">emacs</a> articles.</p></p>

      <p>
        &mdash; by
        <a href="feng-xia.html">Feng Xia</a>
      </p>
    </div>
  </div>

</article>



          <div id="related">
          </div>
        </div>
      </div>
    </div>

    <footer class="split-screen">
      <div class="container">
        <h5>Categories:</h5>
        <a href="https://fengxia41103.github.io/myblog/demo.html">
          <i class="fa fa-folder-open-o"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/dev.html">
          <i class="fa fa-folder-open-o"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/fashion.html">
          <i class="fa fa-folder-open-o"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/gkp.html">
          <i class="fa fa-folder-open-o"></i>
          gkp
        </a>
        <a href="https://fengxia41103.github.io/myblog/lenovo.html">
          <i class="fa fa-folder-open-o"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/odoo.html">
          <i class="fa fa-folder-open-o"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/openstack.html">
          <i class="fa fa-folder-open-o"></i>
          openstack
        </a>
        <a href="https://fengxia41103.github.io/myblog/pm.html">
          <i class="fa fa-folder-open-o"></i>
          pm
        </a>
        <a href="https://fengxia41103.github.io/myblog/react.html">
          <i class="fa fa-folder-open-o"></i>
          REACT
        </a>
        <a href="https://fengxia41103.github.io/myblog/rh.html">
          <i class="fa fa-folder-open-o"></i>
          rh
        </a>
        <a href="https://fengxia41103.github.io/myblog/stock.html">
          <i class="fa fa-folder-open-o"></i>
          stock
        </a>
        <a href="https://fengxia41103.github.io/myblog/thoughts.html">
          <i class="fa fa-folder-open-o"></i>
          thoughts
        </a>

        <h5>Tags:</h5>
        <a href="https://fengxia41103.github.io/myblog/tag-thoughts.html">
          <i class="fa fa-tag"></i>
          thoughts
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-dev.html">
          <i class="fa fa-tag"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-react.html">
          <i class="fa fa-tag"></i>
          react
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-love.html">
          <i class="fa fa-tag"></i>
          love
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-lenovo.html">
          <i class="fa fa-tag"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-angular.html">
          <i class="fa fa-tag"></i>
          angular
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-feng.html">
          <i class="fa fa-tag"></i>
          feng
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-design.html">
          <i class="fa fa-tag"></i>
          design
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-family.html">
          <i class="fa fa-tag"></i>
          family
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-demo.html">
          <i class="fa fa-tag"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-odoo.html">
          <i class="fa fa-tag"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-fashion.html">
          <i class="fa fa-tag"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-gkp.html">
          <i class="fa fa-tag"></i>
          gkp
        </a>
        <div class="">
          <h5>Show Cases:</h5>
          <div id="showcase">
            <p>
              Photo album:
              <a href="https://fengxia41103.github.io/moment/1236/#/">1236</a>
            </p>
            <p>
              API & charts:
              <a href="http://sp500chart.s3-website-us-east-1.amazonaws.com"
                >SP500</a
              >
            </p>
            <p>
              API & charts:
              <a
                href="http://snapshots.world.s3-website.ap-northeast-2.amazonaws.com/"
                >Snapshot of The World</a
              >
            </p>

            <p>
              Django (in Chinese):
              <a href="https://fengxia41103.github.io/myblog/project gkp demo.html">GKP</a>
            </p>
            <p>
              ERP:
              <a href="https://fengxia41103.github.io/myblog/project fashion demo.html">Fashion</a>
            </p>
            <p>
              Data processing:
              <a href="https://fengxia41103.github.io/myblog/project stock demo.html">Stock</a>
            </p>
            <p>
              Angular & REACT:
              <a href="https://fengxia41103.github.io/myblog/car leasing.html">Car leasing</a>
              &nbsp;|&nbsp;
              <a href="https://fengxia41103.github.io/spa-dashboard/">
                YAML Config Dashboard
              </a>
            </p>
            <p>
              API & REACT:
              <a href="https://fengxia41103.github.io/movie/">Movies</a>
            </p>
          </div>
        </div>
      </div>
      <video autoplay muted loop id="myVideo">
        <source src="downloads/polina.mp4" type="video/mp4" />
      </video>
    </footer>
    <div class="footer-copyright">
      <div class="container">
        <div class="row">
          <div class="col l8 m8 s12">
            <p>
              2016-2022 PY Consulting Ltd. 601 W. Rosemary St., Chapel Hill, NC 27516
            </p>

            <p>
              <a href="mailto:feng_xia41103@hotmail.com">
                <i class="fa fa-envelope"></i>
              </a>

              <a href="http://github.com/fengxia41103">
                <i class="fa fa-github"></i>
              </a>

              <a href="https://www.linkedin.com/in/fengxia41103">
                <i class="fa fa-linkedin"></i>
              </a>

              <a href="">
                <i class="fa fa-phone-square"></i>
                (508)801-1794
              </a>
            </p>
          </div>
          <div class="col l4 m4 s12">
            <p class="right">
              <i class="fa fa-copyright"></i>
              All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- end of block main -->

    <!-- Placed at the end of the document so the pages load faster -->

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://fengxia41103.github.io/myblog/theme/js/bundle.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/xml.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/diff.min.js"
    ></script>

    <script type="text/javascript">
     var exports = {};
     var j$ = jQuery.noConflict();

     j$(document).ready(function () {
       // highlight.js initialization
       hljs.initHighlightingOnLoad();
       j$("pre").each(function (i, block) {
         hljs.highlightBlock(block);
       });

       // tooltips
       j$('[data-toggle="tooltip"]').tooltip();

       // image materialbox
       j$(".materialboxed").materialbox();
     });
    </script>
    <!-- end of block JS -->

  </body>
</html>