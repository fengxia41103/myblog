<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-11-23 Mon 18:17 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Paf's portable Emacs configuration</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Pascal Fleury" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Paf's portable Emacs configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org87825f7">1. Personal plans</a>
<ul>
<li><a href="#orgd8d1f22">1.1. Currently under review</a></li>
</ul>
</li>
<li><a href="#org4b81e63">2. One-time initial setup</a>
<ul>
<li><a href="#orgdf57fbe">2.1. Bootstrap</a></li>
<li><a href="#orgb166b09">2.2. Recompile all packages</a></li>
<li><a href="#org35bd195">2.3. One-time configure</a></li>
</ul>
</li>
<li><a href="#org68b188a">3. Initialize Emacs</a>
<ul>
<li><a href="#orgcfc70dc">3.1. Info header</a></li>
<li><a href="#org49e8e2c">3.2. melpa</a></li>
<li><a href="#org977c9cf">3.3. use-package</a></li>
<li><a href="#orgd92468c">3.4. tangle-this-config</a></li>
</ul>
</li>
<li><a href="#orgae4f467">4. Personal initialization</a>
<ul>
<li><a href="#org5cb214b">4.1. Clear <code>C-M-x</code> so I can use it as a prefix</a></li>
</ul>
</li>
<li><a href="#org026c2e1">5. Helper functions</a>
<ul>
<li><a href="#org1fabe08">5.1. add-hook-run-once</a></li>
</ul>
</li>
<li><a href="#org98dcc67">6. Environment</a>
<ul>
<li><a href="#org833e82b">6.1. Browser default</a></li>
<li><a href="#orgb60dea1">6.2. Setup server</a></li>
<li><a href="#orgf8fa7a9">6.3. UTF-8</a></li>
<li><a href="#org2f94699">6.4. Newline (only Unix wanted)</a></li>
<li><a href="#org6c4dde3">6.5. save &amp; restore buffers</a></li>
<li><a href="#orgd3495b2">6.6. auto revert</a></li>
<li><a href="#org6c95c6a">6.7. yes-or-no</a></li>
<li><a href="#orgf140f2f">6.8. shell env</a></li>
<li><a href="#org26d3a3b">6.9. always show line number?</a></li>
</ul>
</li>
<li><a href="#org87a09f0">7. Managing buffers</a>
<ul>
<li><a href="#org15ad645">7.1. winner-mode (layout managing)</a></li>
<li><a href="#org135a98c">7.2. eyebrowse (layout managing)</a></li>
<li><a href="#orgde4006d">7.3. toggle-maximize-buffer</a></li>
<li><a href="#orgc43de27">7.4. select buffer</a></li>
</ul>
</li>
<li><a href="#orgb87803c">8. Navigate file &amp; dir</a>
<ul>
<li><a href="#orgbeef153">8.1. dir hack</a></li>
<li><a href="#org474e0b3">8.2. dired-rainbow</a></li>
<li><a href="#org9877a9b">8.3. dired-narrow</a></li>
<li><a href="#orge8421a6">8.4. dired-collapse</a></li>
<li><a href="#org2f2c3a4">8.5. dired-filter</a></li>
</ul>
</li>
<li><a href="#org306f2c9">9. Colors and Look</a>
<ul>
<li><a href="#org5868ec8">9.1. Theme</a></li>
<li><a href="#org86c7f9f">9.2. Hide menu bar &amp; toolbar</a></li>
<li><a href="#orgfb18746">9.3. Be quiet</a></li>
<li><a href="#org13054e0">9.4. Fontlock</a>
<ul>
<li><a href="#org080c348">9.4.1. <span class="todo TODO">TODO</span> Note: this should be the default, maybe this can go ?</a></li>
</ul>
</li>
<li><a href="#org221138a">9.5. In terminal mode</a></li>
<li><a href="#orge949106">9.6. In X11 mode: mouse and window title</a></li>
<li><a href="#orgf4b5605">9.7. Look: buffer naming</a></li>
<li><a href="#orgc4e8e4a">9.8. Buffer Decorations</a></li>
<li><a href="#org635e990">9.9. nyan-mode</a></li>
<li><a href="#org25600ba">9.10. dynamic cursor colors</a></li>
<li><a href="#org80e5280">9.11. faces</a></li>
<li><a href="#orgb8b7c3d">9.12. delight</a></li>
<li><a href="#org4f76d22">9.13. remove some modelines</a></li>
<li><a href="#org0dd2d6c">9.14. alternate key mappings</a></li>
<li><a href="#org275619d">9.15. Macros</a></li>
<li><a href="#org681f08c">9.16. Text size</a></li>
<li><a href="#org9d25fb3">9.17. multiple regions</a></li>
<li><a href="#org7215625">9.18. Moving around buffers</a></li>
<li><a href="#org2f451ea">9.19. multiple-cursors</a></li>
<li><a href="#orgfba329f">9.20. Hydra</a></li>
<li><a href="#orgaf6fc20">9.21. dimmer</a></li>
<li><a href="#orgb7a7045">9.22. Highlight indent</a></li>
<li><a href="#orged59398">9.23. ace-jump-mode</a></li>
</ul>
</li>
<li><a href="#org04d8aec">10. Editing style</a>
<ul>
<li><a href="#org709cb2f">10.1. No tabs, ever. No trailing spaces either.</a></li>
<li><a href="#org3b7072b">10.2. Mark the 80 cols boundary</a></li>
<li><a href="#org52d7ba3">10.3. Better kill ring</a></li>
<li><a href="#org639c78a">10.4. Parenthesis</a>
<ul>
<li><a href="#org6a2488c">10.4.1. show matching delimiters</a></li>
<li><a href="#org0db3657">10.4.2. type using smartparens</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org15a8123">11. Cool packages</a>
<ul>
<li><a href="#orgf6a608b">11.1. annotate-mode</a></li>
<li><a href="#orgab82cd0">11.2. protobuf-mode</a></li>
<li><a href="#org5269002">11.3. Helm (list completion)</a></li>
<li><a href="#org818b1b2">11.4. emmet-mode</a></li>
<li><a href="#orgc07b676">11.5. rainbow-mode</a></li>
<li><a href="#org8632c2e">11.6. writeroom-mode</a></li>
<li><a href="#org3f9857b">11.7. wgrep-mode</a></li>
<li><a href="#org1a9e010">11.8. ledger-mode</a>
<ul>
<li><a href="#org33815cf">11.8.1. Cleanup ledger file</a></li>
<li><a href="#org926be8e">11.8.2. Setup</a></li>
</ul>
</li>
<li><a href="#orgd40d1b3">11.9. hyperbole</a></li>
<li><a href="#org24328c9">11.10. ztree</a></li>
<li><a href="#org0c16411">11.11. anzu</a></li>
<li><a href="#orgef1456d">11.12. whitespace</a></li>
<li><a href="#org7da3211">11.13. move-text</a></li>
<li><a href="#orga3378e7">11.14. string inflection</a></li>
<li><a href="#org1d5ecc7">11.15. telephone-line</a></li>
</ul>
</li>
<li><a href="#orgfb4684d">12. Coding</a>
<ul>
<li><a href="#org7dae757">12.1. Version control</a>
<ul>
<li><a href="#org9afd6ac">12.1.1. magit</a></li>
<li><a href="#orge0cf3cf">12.1.2. monky</a></li>
<li><a href="#orgb15d863">12.1.3. Global caller</a></li>
</ul>
</li>
<li><a href="#orgb0d4573">12.2. Projectile</a></li>
<li><a href="#orgfeb5f89">12.3. no indentation of namespaces in C++</a></li>
<li><a href="#orgd4f3c6d">12.4. search &amp; jump</a>
<ul>
<li><a href="#org16016c7">12.4.1. ag</a></li>
<li><a href="#orgaf10f47">12.4.2. dumb-jump</a></li>
<li><a href="#org51a9c0e">12.4.3. ripgrep</a></li>
</ul>
</li>
<li><a href="#org4edd2fa">12.5. commenting out</a></li>
<li><a href="#org0813efe">12.6. Deduplicate and sort</a></li>
<li><a href="#org0ef0137">12.7. diffing</a></li>
<li><a href="#org4369203">12.8. yasnippet</a></li>
<li><a href="#orgaa2603f">12.9. Selective display</a></li>
<li><a href="#orge9e2297">12.10. Info in the gutter</a>
<ul>
<li><a href="#org0bbcb92">12.10.1. git informations</a></li>
</ul>
</li>
<li><a href="#org9fa9505">12.11. Speedup VCS</a></li>
<li><a href="#orgcc409cb">12.12. Dealing with numbers</a></li>
<li><a href="#orgd84c566">12.13. GDB with many windows</a>
<ul>
<li><a href="#orgb0a341c">12.13.1. <span class="todo TODO">TODO</span> Make it so that the source frame placement is forced only when using gdb.</a></li>
</ul>
</li>
<li><a href="#org6ed5694">12.14. IRC circe &amp; helm-circe</a></li>
<li><a href="#orgd71b1f3">12.15. specific languages</a>
<ul>
<li><a href="#org905d214">12.15.1. c</a></li>
<li><a href="#org54ef4c9">12.15.2. web-mode</a></li>
<li><a href="#orgf83c935">12.15.3. csv-mode</a></li>
<li><a href="#orgad2bf8b">12.15.4. taskjuggler-mode (tj3-mode)</a></li>
<li><a href="#orgb3784ec">12.15.5. markdown-mode</a></li>
<li><a href="#org23928f0">12.15.6. python</a></li>
<li><a href="#orgae956f6">12.15.7. javascript family: .js .ts .jsx</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgeac6c6a">13. Org</a>
<ul>
<li><a href="#org92ef7b5">13.1. Init</a>
<ul>
<li><a href="#org4264438">13.1.1. <span class="todo NEXT">NEXT</span> This does not seem to work, check out doc about defcustom</a></li>
</ul>
</li>
<li><a href="#org3919809">13.2. Access my remote Org files directory</a></li>
<li><a href="#orge8dd23a">13.3. Helper Functions / Tools found on the web / worg</a>
<ul>
<li><a href="#org157c41c">13.3.1. Open remote org dir</a></li>
<li><a href="#org99ab221">13.3.2. org-protocol</a></li>
<li><a href="#org44e5c00">13.3.3. Org-relative file function</a></li>
<li><a href="#org9d06d9e">13.3.4. Adjust tags on the right</a></li>
<li><a href="#orgbb464d4">13.3.5. Preserve structure in archives</a></li>
<li><a href="#org8f29a84">13.3.6. Auto-Refresh Agenda</a></li>
<li><a href="#orgb5865a9">13.3.7. Display Agenda when idle</a></li>
<li><a href="#orgd98227c">13.3.8. Display location in agenda</a></li>
<li><a href="#org03203b9">13.3.9. org-gtasks</a></li>
<li><a href="#org4dfd358">13.3.10. org-super-agenda</a></li>
<li><a href="#org0a72c04">13.3.11. org-roam</a></li>
<li><a href="#orge017096">13.3.12. org-clock-convenience</a></li>
<li><a href="#org4717b4d">13.3.13. org-kanban</a></li>
<li><a href="#orgd7493a7">13.3.14. org-board</a></li>
<li><a href="#org36c49b7">13.3.15. org-reveal</a></li>
<li><a href="#org962f4ef">13.3.16. iimage (M-I)</a></li>
<li><a href="#orgc7c9df3">13.3.17. Properties collector</a></li>
</ul>
</li>
<li><a href="#orgaa30a03">13.4. My Setup</a>
<ul>
<li><a href="#org9a3748b">13.4.1. key mappings</a></li>
<li><a href="#org8da57f9">13.4.2. display settings</a></li>
<li><a href="#org0051077">13.4.3. org-bullets</a></li>
<li><a href="#org986cd76">13.4.4. org-habit</a></li>
<li><a href="#orga99eb74">13.4.5. bash command</a></li>
<li><a href="#org4faa961">13.4.6. org-clock properties</a></li>
<li><a href="#org937dd73">13.4.7. open first agenda file</a></li>
<li><a href="#org72730f5">13.4.8. org-ehtml [localhost:55555]</a></li>
<li><a href="#org07b5b53">13.4.9. org-link-abbrev</a></li>
<li><a href="#orgcaffba0">13.4.10. org-secretary</a></li>
<li><a href="#org8f181eb">13.4.11. task tracking</a></li>
<li><a href="#org9d848c2">13.4.12. effort &amp; columns mode</a></li>
<li><a href="#orge44fe26">13.4.13. org-todo keywords</a></li>
<li><a href="#org0dbb5e3">13.4.14. org-agenda</a></li>
<li><a href="#org02935cf">13.4.15. org-duration</a></li>
<li><a href="#org06865e9">13.4.16. Capture &amp; refile</a></li>
<li><a href="#org3fb0e80">13.4.17. OrgRoam templates</a></li>
<li><a href="#org0728616">13.4.18. org-babel</a></li>
<li><a href="#org4ea0fb0">13.4.19. org-export</a></li>
<li><a href="#orgfd3ade0">13.4.20. plant-uml</a></li>
<li><a href="#org4e9cc00">13.4.21. PDF-Tools</a></li>
<li><a href="#orgfd902da">13.4.22. yankpad</a></li>
<li><a href="#org2e6f789">13.4.23. Zetteldeft</a></li>
<li><a href="#orgf281861">13.4.24. reload org</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org801b06f">14. Write chinese</a></li>
<li><a href="#org179d8eb">15. Office stuff</a>
<ul>
<li><a href="#org07a08f8">15.1. mu4e email</a>
<ul>
<li><a href="#org6ac7947">15.1.1. install &amp; minimal setup</a></li>
<li><a href="#org3e32ade">15.1.2. how to get mails</a></li>
<li><a href="#orgcca6c5d">15.1.3. list view</a></li>
<li><a href="#org00d2af3">15.1.4. read &amp; attachment</a></li>
<li><a href="#orgb902de7">15.1.5. write new</a></li>
<li><a href="#orgd2058dc">15.1.6. send</a></li>
<li><a href="#org9f9b451">15.1.7. reply</a></li>
<li><a href="#orgfcfa024">15.1.8. kill all buffer upon exit</a></li>
<li><a href="#org615eff9">15.1.9. write html</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgfcb7d9f">16. Hobbies</a>
<ul>
<li><a href="#org87e706c">16.1. elfeed</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
This is my Emacs config. You need to tangle this into a file that then
gets loaded by Emacs: <code>C-c C-v t</code> [org-babel-tangle]. Below, I also
explain how this tangling is automated.
</p>

<p>
Find extensive documentation about how to do this <a href="https://github.com/larstvei/dot-emacs">here</a>.
</p>

<div id="outline-container-org87825f7" class="outline-2">
<h2 id="org87825f7"><span class="section-number-2">1</span> Personal plans</h2>
<div class="outline-text-2" id="text-1">
<p>
I regularly try out new packages, this is my current list of things
being evaluated.  They usually live temporarily in my <code>~/.emacs</code> until
I am happy, in which case I move their config into this file so that
it gets replicated on all machines I work on with Emacs.
</p>
</div>

<div id="outline-container-orgd8d1f22" class="outline-3">
<h3 id="orgd8d1f22"><span class="section-number-3">1.1</span> Currently under review</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li><a href="https://github.com/Kungsgeten/yankpad">yankpad</a> + <a href="https://github.com/joaotavora/yasnippet">yasnippet</a></li>
<li><a href="https://github.com/yjwen/org-reveal">ox-reveal</a> (see <a href="https://github.com/yjwen/org-reveal#set-the-location-of-revealjs">installation</a>)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org4b81e63" class="outline-2">
<h2 id="org4b81e63"><span class="section-number-2">2</span> One-time initial setup</h2>
<div class="outline-text-2" id="text-2">
<p>
I have my config in directory <code>~/Emacs</code> which is where I clone this repository. The config setup is maintained purely in the <code>~/Emacs/emacs_setup.org</code> file.
</p>

<p>
In your <code>~/.emacs</code> file, all you need to add is
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org0b51539"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Loads PAF's emacs setup with bootstrap</span>
<span style="color: #8c8c8c;">(</span>load-file <span style="color: #EEDC82;">"~/Emacs/emacs_setup.el"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgdf57fbe" class="outline-3">
<h3 id="orgdf57fbe"><span class="section-number-3">2.1</span> Bootstrap</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Initially when cloning this repository, you have the <code>emacs_setup.org</code>
file, that contains the config that you adapt to your specific setup,
and an <code>emacs_setup.el</code> with a bootstrap content that will tangle and
compile the org file, <i>and replace itself</i>. This is useful the very
first time.
</p>

<p>
After that, the config itself should have the hook to re-tangle and
re-compile the setup at each save.
</p>

<p>
Therefore my setup is very easy to install, and it needs these steps:
</p>

<ol class="org-ol">
<li>clone this repo into <code>~/Emacs</code></li>
<li>add the one line in you <code>~/.emacs</code></li>
<li>make sure Emacs re-interprets its init (you could restart it)</li>
</ol>

<p>
It may be that <a href="https://github.com/jwiegley/use-package">use-package</a> is not installed on your setup, so it will
first try to install that. After that step, it will also start
installing any package that is marked as needed in this config
automatically.
</p>

<p>
The original content of the <code>emacs_setup.el</code> is as follows:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">This is the initial state of the file to be loaded.</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">It will replace itself with the actual configuration at first run.</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">org</span><span style="color: #8c8c8c;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">We can't tangle without org!</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> config_base <span style="color: #93a8c6;">(</span>expand-file-name <span style="color: #EEDC82;">"emacs_setup"</span>
                                    <span style="color: #b0b1a3;">(</span>file-name-directory
                                     <span style="color: #97b098;">(</span><span style="color: #F92672;">or</span> load-file-name buffer-file-name<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>find-file <span style="color: #93a8c6;">(</span>concat config_base <span style="color: #EEDC82;">".org"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>        <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">Open the configuration</span>
<span style="color: #8c8c8c;">(</span>org-babel-tangle<span style="color: #8c8c8c;">)</span>                             <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">tangle it</span>
<span style="color: #8c8c8c;">(</span>load-file <span style="color: #93a8c6;">(</span>concat config_base <span style="color: #EEDC82;">".el"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>         <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">load it</span>
<span style="color: #8c8c8c;">(</span>byte-compile-file <span style="color: #93a8c6;">(</span>concat config_base <span style="color: #EEDC82;">".el"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">finally byte-compile it</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb166b09" class="outline-3">
<h3 id="orgb166b09"><span class="section-number-3">2.2</span> Recompile all packages</h3>
<div class="outline-text-3" id="text-2-2">
<p>
This will force-recompile everything in <code>~/.emacs.d/elpa/...</code> Just run <code>M-:</code> and then enter this:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>byte-recompile-directory package-user-dir nil 'force<span style="color: #8c8c8c;">)</span>
</pre>
</div>
<p>
or simply <code>C-x C-e</code> at the end of that line.
</p>
</div>
</div>

<div id="outline-container-org35bd195" class="outline-3">
<h3 id="org35bd195"><span class="section-number-3">2.3</span> One-time configure</h3>
<div class="outline-text-3" id="text-2-3">
<p>
To preserve the original state of this file when updating the git repos with new config settings, execute the following block once (<code>C-c C-c</code>):
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;">#</span><span style="color: #8C8C8C;">!/bin/</span><span style="color: #F92672;">bash</span>
<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Make git ignore the tangled &amp; updated emacs_setup.el</span>
<span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> -z <span style="color: #EEDC82;">"$(which git)"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
  <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"You will need 'git' to be installed !"</span>
  <span style="color: #F92672;">exit</span> 1
<span style="color: #F92672;">fi</span>
<span style="color: #F92672;">if</span>  <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> -z <span style="color: #EEDC82;">"$(which emacs)"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
  <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"You might need 'emacs' for this to be useful !"</span>
  <span style="color: #F92672;">exit</span> 1
<span style="color: #F92672;">fi</span>

<span style="color: #FD971F;">GIT_ROOT</span>=$<span style="color: #8c8c8c;">(</span>dirname $<span style="color: #FD971F;">0</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #FF80F4;">cd</span> $<span style="color: #93a8c6;">{</span><span style="color: #FD971F;">GIT_ROOT</span><span style="color: #93a8c6;">}</span> &amp;&amp; git update-index --skip-worktree emacs_setup.el<span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Maybe this is a new install, .emacs does not exist</span>
test -e ~/.emacs || touch ~/.emacs

<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Initial tangle of files.</span>
emacs --batch --load $<span style="color: #8c8c8c;">{</span><span style="color: #FD971F;">GIT_ROOT</span><span style="color: #8c8c8c;">}</span>/emacs_setup.el

<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Add the load-file as the first thing in the user's ~/.emacs</span>
<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">If not yet added.</span>
<span style="color: #FF80F4;">declare</span> <span style="color: #FD971F;">lines</span>=$<span style="color: #8c8c8c;">(</span>grep <span style="color: #EEDC82;">';; dot_emacs.el'</span> ~/.emacs | wc -l<span style="color: #8c8c8c;">)</span>
<span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">(</span> lines &lt; 1 <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>; <span style="color: #F92672;">then</span>
  <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Added loading the config in your ~/.emacs"</span>
  <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">";; dot_emacs.el"</span> &gt; ~/.emacs.new
  cat $<span style="color: #8c8c8c;">{</span><span style="color: #FD971F;">GIT_ROOT</span><span style="color: #8c8c8c;">}</span>/dot_emacs.el &gt;&gt; ~/.emacs.new
  cat ~/.emacs &gt;&gt; ~/.emacs.new
  mv ~/.emacs.new ~/.emacs
<span style="color: #F92672;">else</span>
  <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Config in your ~/.emacs already set up!"</span>
<span style="color: #F92672;">fi</span>

<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Install system dependencies</span>
<span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Installing dependencies"</span>
bash $<span style="color: #8c8c8c;">{</span><span style="color: #FD971F;">GIT_ROOT</span><span style="color: #8c8c8c;">}</span>/install_deps.sh

<span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Cleanup"</span>
rm $<span style="color: #8c8c8c;">{</span><span style="color: #FD971F;">GIT_ROOT</span><span style="color: #8c8c8c;">}</span>/dot_emacs.el
rm $<span style="color: #8c8c8c;">{</span><span style="color: #FD971F;">GIT_ROOT</span><span style="color: #8c8c8c;">}</span>/install_deps.sh
</pre>
</div>

<p>
This script is then used to install the needed packages on the system.
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;">#</span><span style="color: #8C8C8C;">!/bin/</span><span style="color: #F92672;">bash</span>

<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Trick to make it work on Termux</span>
<span style="color: #FF80F4;">which</span> <span style="color: #EEDC82;">"ls"</span> || pkg install debianutils

<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">This is a bit of heuristics to find out what the install system is</span>
<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">They are attempted in this order, put the least likely first.</span>
<span style="color: #FF80F4;">declare</span> -a <span style="color: #FD971F;">PKG_MGRS</span>=<span style="color: #8c8c8c;">(</span><span style="color: #EEDC82;">"pkg"</span> <span style="color: #EEDC82;">"brew"</span> <span style="color: #EEDC82;">"apt-get"</span><span style="color: #8c8c8c;">)</span>

<span style="color: #FD971F;">PKG_PREFIX_apt_get</span>=<span style="color: #EEDC82;">"sudo"</span>

<span style="color: #F92672;">for</span> pkg<span style="color: #F92672;"> in</span> <span style="color: #EEDC82;">"${PKG_MGRS[@]}"</span>; <span style="color: #F92672;">do</span>
    <span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> -x <span style="color: #EEDC82;">"$(which ${pkg})"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
        <span style="color: #FD971F;">INSTALLER</span>=<span style="color: #EEDC82;">"${pkg}"</span>
        <span style="color: #F92672;">break</span>
    <span style="color: #F92672;">fi</span>
<span style="color: #F92672;">done</span>
<span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> -z <span style="color: #EEDC82;">"${INSTALLER}"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
    <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Did not find a suitable installer (tried ${PKG_MGRS[@]})"</span>
    <span style="color: #F92672;">exit</span> 1
<span style="color: #F92672;">fi</span>

<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">This is the function to call to install anything. It can optionally</span>
<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">check for a binary and avoid installing if it's found.  install_pkg</span>
<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">[-x &lt;binary&gt;] &lt;package&gt;</span>
<span style="color: #F92672;">function</span> <span style="color: #A6E22E;">install_pkg</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #F92672;">if</span> <span style="color: #93a8c6;">[</span><span style="color: #b0b1a3;">[</span> <span style="color: #EEDC82;">"$1"</span> == <span style="color: #EEDC82;">"-x"</span> <span style="color: #b0b1a3;">]</span><span style="color: #93a8c6;">]</span>; <span style="color: #F92672;">then</span>
        <span style="color: #FF80F4;">local</span> <span style="color: #FD971F;">binary</span>=<span style="color: #EEDC82;">"$(which $2)"</span>
        <span style="color: #F92672;">if</span> <span style="color: #93a8c6;">[</span><span style="color: #b0b1a3;">[</span> -n <span style="color: #EEDC82;">"${binary}"</span> &amp;&amp; -x <span style="color: #EEDC82;">"${binary}"</span> <span style="color: #b0b1a3;">]</span><span style="color: #93a8c6;">]</span>; <span style="color: #F92672;">then</span>
            <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Found $2 (${binary}), nothing to install for $3."</span>
            <span style="color: #F92672;">return</span>
        <span style="color: #F92672;">fi</span>
        <span style="color: #FF80F4;">shift</span> 2
    <span style="color: #F92672;">fi</span>

    <span style="color: #FF80F4;">local</span> <span style="color: #FD971F;">token</span>=$<span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">echo</span> -n $<span style="color: #b0b1a3;">{</span><span style="color: #FD971F;">INSTALLER</span><span style="color: #b0b1a3;">}</span> | tr -c <span style="color: #EEDC82;">'0-9a-zA-Z_'</span> <span style="color: #EEDC82;">'_'</span><span style="color: #93a8c6;">)</span>
    <span style="color: #FF80F4;">local</span> <span style="color: #FD971F;">prefix_var</span>=<span style="color: #EEDC82;">"PKG_PREFIX_${token}"</span>

    <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Trying: ${INSTALLER} install $*"</span>
    $<span style="color: #93a8c6;">{</span><span style="color: #FD971F;">!</span>prefix_var<span style="color: #93a8c6;">}</span> $<span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">which</span> $<span style="color: #b0b1a3;">{</span><span style="color: #FD971F;">INSTALLER</span><span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span> install <span style="color: #EEDC82;">"$@"</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org68b188a" class="outline-2">
<h2 id="org68b188a"><span class="section-number-2">3</span> Initialize Emacs</h2>
<div class="outline-text-2" id="text-3">
<p>
This section sets up Emacs so it can tangle the config, find <code>use-package</code>, and find the ELPA repositories where to get the new packes from.
</p>
</div>
<div id="outline-container-orgcfc70dc" class="outline-3">
<h3 id="orgcfc70dc"><span class="section-number-3">3.1</span> Info header</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Just to add a little information in the tangled file.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">===== this file was auto-tangled, only edit the emacs_setup.org =====</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org49e8e2c" class="outline-3">
<h3 id="org49e8e2c"><span class="section-number-3">3.2</span> melpa</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Make sure we have the package system initialized before we load anything.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">package</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> <span style="color: #93a8c6;">(</span>&lt; emacs-major-version 27<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>package-initialize<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Adding my choice of packages repositories.
#+NAME melpa-setup
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> package-archives '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"org"</span> . <span style="color: #EEDC82;">"https://orgmode.org/elpa/"</span><span style="color: #b0b1a3;">)</span>
                         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"stable-melpa"</span> . <span style="color: #EEDC82;">"https://stable.melpa.org/packages/"</span><span style="color: #b0b1a3;">)</span>
                         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"melpa"</span> . <span style="color: #EEDC82;">"https://melpa.org/packages/"</span><span style="color: #b0b1a3;">)</span>
                         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"gnu"</span> . <span style="color: #EEDC82;">"https://elpa.gnu.org/packages/"</span><span style="color: #b0b1a3;">)</span>
                         <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">("marmalade" . "https://marmalade-repo.org/packages/")</span>
                        <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org977c9cf" class="outline-3">
<h3 id="org977c9cf"><span class="section-number-3">3.3</span> use-package</h3>
<div class="outline-text-3" id="text-3-3">
<p>
I use <code>use-package</code> for most configuration, and that needs to be at the top of the file.  <code>use-package</code> verifies the presence of the requested package, otherwise installs it, and presents convenient sections for configs of variables, key bindings etc. that happen only if the package is actually loaded.
</p>

<p>
First, make sure it gets installed if it is not there yet.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">make sure use-package is installed</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">unless</span> <span style="color: #93a8c6;">(</span>package-installed-p 'use-package<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>package-refresh-contents<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>package-install 'use-package<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">use-package</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">eval-when-compile</span> <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">use-package</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd92468c" class="outline-3">
<h3 id="orgd92468c"><span class="section-number-3">3.4</span> tangle-this-config</h3>
<div class="outline-text-3" id="text-3-4">
<p>
I set this up to tangle the init org-mode file into the actual Emacs init file as soon as I save it.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">tangle-init</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"If the current buffer is 'init.org' the code-blocks are</span>
<span style="color: #EEDC82;">tangled, and the tangled file is compiled."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span>equal <span style="color: #97b098;">(</span>buffer-file-name<span style="color: #97b098;">)</span>
               <span style="color: #97b098;">(</span>expand-file-name <span style="color: #EEDC82;">"~/Emacs/emacs_setup.org"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Avoid running hooks when tangling.</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">let</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>prog-mode-hook nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>org-babel-tangle<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>byte-compile-file <span style="color: #EEDC82;">"~/Emacs/emacs_setup.el"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'after-save-hook 'tangle-init<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgae4f467" class="outline-2">
<h2 id="orgae4f467"><span class="section-number-2">4</span> Personal initialization</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org5cb214b" class="outline-3">
<h3 id="org5cb214b"><span class="section-number-3">4.1</span> Clear <code>C-M-x</code> so I can use it as a prefix</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Remove <code>C-M-x</code> that I want to use for <b>me</b> personally as a prefix.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x"</span><span style="color: #93a8c6;">)</span> nil<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org026c2e1" class="outline-2">
<h2 id="org026c2e1"><span class="section-number-2">5</span> Helper functions</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org1fabe08" class="outline-3">
<h3 id="org1fabe08"><span class="section-number-3">5.1</span> add-hook-run-once</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Use instead of add-hook to run it a single time.
<a href="https://emacs.stackexchange.com/questions/3323/is-there-any-way-to-run-a-hook-function-only-once">found here</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defmacro</span> <span style="color: #A6E22E;">add-hook-run-once</span> <span style="color: #93a8c6;">(</span>hook function <span style="color: #66D9EF;">&amp;optional</span> append local<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Like add-hook, but remove the hook after it is called"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>sym <span style="color: #aebed8;">(</span>make-symbol <span style="color: #EEDC82;">"#once"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    `<span style="color: #b0b1a3;">(</span><span style="color: #F92672;">progn</span>
       <span style="color: #97b098;">(</span><span style="color: #F92672;">defun</span> ,sym <span style="color: #aebed8;">()</span>
         <span style="color: #aebed8;">(</span>remove-hook ,hook ',sym ,local<span style="color: #aebed8;">)</span>
         <span style="color: #aebed8;">(</span>funcall ,function<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
       <span style="color: #97b098;">(</span>add-hook ,hook ',sym ,append ,local<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org98dcc67" class="outline-2">
<h2 id="org98dcc67"><span class="section-number-2">6</span> Environment</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org833e82b" class="outline-3">
<h3 id="org833e82b"><span class="section-number-3">6.1</span> Browser default</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> browse-url-generic-program <span style="color: #93a8c6;">(</span>executable-find <span style="color: #EEDC82;">"google-chrome"</span><span style="color: #93a8c6;">)</span>
  browse-url-browser-function 'browse-url-generic<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb60dea1" class="outline-3">
<h3 id="orgb60dea1"><span class="section-number-3">6.2</span> Setup server</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Start the background server, so we can use emacsclient.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>server-start<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf8fa7a9" class="outline-3">
<h3 id="orgf8fa7a9"><span class="section-number-3">6.3</span> UTF-8</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Make Emacs request UTF-8 first when pasting stuff.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">unicode-escape</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> x-select-request-type '<span style="color: #b0b1a3;">(</span>UTF8_STRING COMPOUND_TEXT TEXT STRING<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-language-environment <span style="color: #EEDC82;">"UTF-8"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2f94699" class="outline-3">
<h3 id="org2f94699"><span class="section-number-3">6.4</span> Newline (only Unix wanted)</h3>
<div class="outline-text-3" id="text-6-4">
<p>
This should automatically convert any files with dos or Mac line endings into Unix style ones. Code found <a href="https://www.emacswiki.org/emacs/EndOfLineTips">here</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">no-junk-please-we-are-unixish</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>coding-str <span style="color: #aebed8;">(</span>symbol-name buffer-file-coding-system<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> <span style="color: #97b098;">(</span>string-match <span style="color: #EEDC82;">"-</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(?:</span><span style="color: #EEDC82;">dos</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">mac</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">$"</span> coding-str<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>set-buffer-file-coding-system 'unix<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'find-file-hook 'no-junk-please-we-are-unixish<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c4dde3" class="outline-3">
<h3 id="org6c4dde3"><span class="section-number-3">6.5</span> save &amp; restore buffers</h3>
<div class="outline-text-3" id="text-6-5">
<p>
Turn on global:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-path <span style="color: #93a8c6;">(</span>list <span style="color: #EEDC82;">"~/.emacs.d/savehist"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-dirname <span style="color: #EEDC82;">"~/.emacs.d/savehist"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-restore-eager 5<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-load-locked-desktop t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>desktop-save-mode 1<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>savehist-mode 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> history-length t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> history-delete-duplicates t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> savehist-save-minibuffer-history 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> savehist-additional-variables '<span style="color: #93a8c6;">(</span>kill-ring search-ring regexp-search-ring<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>

<p>
But skip the followings:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-buffers-not-to-save
     <span style="color: #93a8c6;">(</span>concat <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">"</span>
             <span style="color: #EEDC82;">"^nn\\.a[0-9]+</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.log</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">(ftp)</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">^tags</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">^TAGS"</span>
             <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.emacs.*</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.diary</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.newsrc-dribble</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.bbdb"</span>
             <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">$"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'dired-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'Info-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'info-lookup-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'fundamental-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd3495b2" class="outline-3">
<h3 id="orgd3495b2"><span class="section-number-3">6.6</span> auto revert</h3>
<div class="outline-text-3" id="text-6-6">
<p>
Use <code>auto-revert</code>, which reloads a file if it's updated on disk
and not modified in the buffer.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-auto-revert-mode 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>put 'upcase-region 'disabled nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>put 'narrow-to-region 'disabled nil<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c95c6a" class="outline-3">
<h3 id="org6c95c6a"><span class="section-number-3">6.7</span> yes-or-no</h3>
<div class="outline-text-3" id="text-6-7">
<p>
Change all prompts to y or n:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>fset 'yes-or-no-p 'y-or-n-p<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf140f2f" class="outline-3">
<h3 id="orgf140f2f"><span class="section-number-3">6.8</span> shell env</h3>
<div class="outline-text-3" id="text-6-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  exec-path-from-shell
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>exec-path-from-shell-initialize<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org26d3a3b" class="outline-3">
<h3 id="org26d3a3b"><span class="section-number-3">6.9</span> always show line number?</h3>
<div class="outline-text-3" id="text-6-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org87a09f0" class="outline-2">
<h2 id="org87a09f0"><span class="section-number-2">7</span> Managing buffers</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org15ad645" class="outline-3">
<h3 id="org15ad645"><span class="section-number-3">7.1</span> winner-mode (layout managing)</h3>
<div class="outline-text-3" id="text-7-1">
<p>
Enables <code>winner-mode</code>. Navigate buffer-window configs with <code>C-c left</code>
and <code>C-c right</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>winner-mode 1<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org135a98c" class="outline-3">
<h3 id="org135a98c"><span class="section-number-3">7.2</span> eyebrowse (layout managing)</h3>
<div class="outline-text-3" id="text-7-2">
<p>
Awesome window manager. It's like using i3m but inside emacs. Use the
<code>C-c C-w &lt;0..9&gt;</code> key to switch to so called desktop. On each desktop,
you can have different buffers open and so on, so I don't have to
close buffers, or <code>C-x b</code> a lot anymore.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">eyebrowse</span>
    <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>eyebrowse-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde4006d" class="outline-3">
<h3 id="orgde4006d"><span class="section-number-3">7.3</span> toggle-maximize-buffer</h3>
<div class="outline-text-3" id="text-7-3">
<p>
Temporarily maximize a buffer.
<a href="https://gist.github.com/mads379/3402786">found here</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">toggle-maximize-buffer</span> <span style="color: #93a8c6;">()</span> <span style="color: #EEDC82;">"Maximize buffer"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b1a3;">(</span>= 1 <span style="color: #97b098;">(</span>length <span style="color: #aebed8;">(</span>window-list<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
      <span style="color: #b0b1a3;">(</span>jump-to-register '_<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">progn</span>
      <span style="color: #97b098;">(</span>window-configuration-to-register '_<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>delete-other-windows<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Map it to a key.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>M-f8<span style="color: #93a8c6;">]</span> 'toggle-maximize-buffer<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc43de27" class="outline-3">
<h3 id="orgc43de27"><span class="section-number-3">7.4</span> select buffer</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ace-window</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> aw-ignore-current t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> aw-keys '<span style="color: #b0b1a3;">(</span>?a ?s ?d ?f ?g ?h ?j ?k ?l<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> aw-background nil<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"M-o"</span><span style="color: #b0b1a3;">)</span> 'ace-window<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>custom-set-faces
   '<span style="color: #b0b1a3;">(</span>aw-leading-char-face
     <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:inherit</span> ace-jump-face-foreground
                   <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"GhostWhite"</span>
                   <span style="color: #FF80F4;">:box</span> nil<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb87803c" class="outline-2">
<h2 id="orgb87803c"><span class="section-number-2">8</span> Navigate file &amp; dir</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgbeef153" class="outline-3">
<h3 id="orgbeef153"><span class="section-number-3">8.1</span> dir hack</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dash</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-hacks-utils</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org474e0b3" class="outline-3">
<h3 id="org474e0b3"><span class="section-number-3">8.2</span> dired-rainbow</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Make the dired coloful:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-rainbow</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">progn</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define-chmod</span> directory <span style="color: #EEDC82;">"#6cb2eb"</span> <span style="color: #EEDC82;">"d.*"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> html <span style="color: #EEDC82;">"#eb5286"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"css"</span> <span style="color: #EEDC82;">"less"</span> <span style="color: #EEDC82;">"sass"</span> <span style="color: #EEDC82;">"scss"</span> <span style="color: #EEDC82;">"htm"</span> <span style="color: #EEDC82;">"html"</span> <span style="color: #EEDC82;">"jhtm"</span> <span style="color: #EEDC82;">"mht"</span> <span style="color: #EEDC82;">"eml"</span> <span style="color: #EEDC82;">"mustache"</span> <span style="color: #EEDC82;">"xhtml"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> xml <span style="color: #EEDC82;">"#f2d024"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"xml"</span> <span style="color: #EEDC82;">"xsd"</span> <span style="color: #EEDC82;">"xsl"</span> <span style="color: #EEDC82;">"xslt"</span> <span style="color: #EEDC82;">"wsdl"</span> <span style="color: #EEDC82;">"bib"</span> <span style="color: #EEDC82;">"json"</span> <span style="color: #EEDC82;">"msg"</span> <span style="color: #EEDC82;">"pgn"</span> <span style="color: #EEDC82;">"rss"</span> <span style="color: #EEDC82;">"yaml"</span> <span style="color: #EEDC82;">"yml"</span> <span style="color: #EEDC82;">"rdata"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> document <span style="color: #EEDC82;">"#9561e2"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"docm"</span> <span style="color: #EEDC82;">"doc"</span> <span style="color: #EEDC82;">"docx"</span> <span style="color: #EEDC82;">"odb"</span> <span style="color: #EEDC82;">"odt"</span> <span style="color: #EEDC82;">"pdb"</span> <span style="color: #EEDC82;">"pdf"</span> <span style="color: #EEDC82;">"ps"</span> <span style="color: #EEDC82;">"rtf"</span> <span style="color: #EEDC82;">"djvu"</span> <span style="color: #EEDC82;">"epub"</span> <span style="color: #EEDC82;">"odp"</span> <span style="color: #EEDC82;">"ppt"</span> <span style="color: #EEDC82;">"pptx"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> markdown <span style="color: #EEDC82;">"#ffed4a"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"org"</span> <span style="color: #EEDC82;">"etx"</span> <span style="color: #EEDC82;">"info"</span> <span style="color: #EEDC82;">"markdown"</span> <span style="color: #EEDC82;">"md"</span> <span style="color: #EEDC82;">"mkd"</span> <span style="color: #EEDC82;">"nfo"</span> <span style="color: #EEDC82;">"pod"</span> <span style="color: #EEDC82;">"rst"</span> <span style="color: #EEDC82;">"tex"</span> <span style="color: #EEDC82;">"textfile"</span> <span style="color: #EEDC82;">"txt"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> database <span style="color: #EEDC82;">"#6574cd"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"xlsx"</span> <span style="color: #EEDC82;">"xls"</span> <span style="color: #EEDC82;">"csv"</span> <span style="color: #EEDC82;">"accdb"</span> <span style="color: #EEDC82;">"db"</span> <span style="color: #EEDC82;">"mdb"</span> <span style="color: #EEDC82;">"sqlite"</span> <span style="color: #EEDC82;">"nc"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> media <span style="color: #EEDC82;">"#de751f"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"mp3"</span> <span style="color: #EEDC82;">"mp4"</span> <span style="color: #EEDC82;">"MP3"</span> <span style="color: #EEDC82;">"MP4"</span> <span style="color: #EEDC82;">"avi"</span> <span style="color: #EEDC82;">"mpeg"</span> <span style="color: #EEDC82;">"mpg"</span> <span style="color: #EEDC82;">"flv"</span> <span style="color: #EEDC82;">"ogg"</span> <span style="color: #EEDC82;">"mov"</span> <span style="color: #EEDC82;">"mid"</span> <span style="color: #EEDC82;">"midi"</span> <span style="color: #EEDC82;">"wav"</span> <span style="color: #EEDC82;">"aiff"</span> <span style="color: #EEDC82;">"flac"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> image <span style="color: #EEDC82;">"#f66d9b"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"tiff"</span> <span style="color: #EEDC82;">"tif"</span> <span style="color: #EEDC82;">"cdr"</span> <span style="color: #EEDC82;">"gif"</span> <span style="color: #EEDC82;">"ico"</span> <span style="color: #EEDC82;">"jpeg"</span> <span style="color: #EEDC82;">"jpg"</span> <span style="color: #EEDC82;">"png"</span> <span style="color: #EEDC82;">"psd"</span> <span style="color: #EEDC82;">"eps"</span> <span style="color: #EEDC82;">"svg"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> log <span style="color: #EEDC82;">"#c17d11"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"log"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> shell <span style="color: #EEDC82;">"#f6993f"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"awk"</span> <span style="color: #EEDC82;">"bash"</span> <span style="color: #EEDC82;">"bat"</span> <span style="color: #EEDC82;">"sed"</span> <span style="color: #EEDC82;">"sh"</span> <span style="color: #EEDC82;">"zsh"</span> <span style="color: #EEDC82;">"vim"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> interpreted <span style="color: #EEDC82;">"#38c172"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"py"</span> <span style="color: #EEDC82;">"ipynb"</span> <span style="color: #EEDC82;">"rb"</span> <span style="color: #EEDC82;">"pl"</span> <span style="color: #EEDC82;">"t"</span> <span style="color: #EEDC82;">"msql"</span> <span style="color: #EEDC82;">"mysql"</span> <span style="color: #EEDC82;">"pgsql"</span> <span style="color: #EEDC82;">"sql"</span> <span style="color: #EEDC82;">"r"</span> <span style="color: #EEDC82;">"clj"</span> <span style="color: #EEDC82;">"cljs"</span> <span style="color: #EEDC82;">"scala"</span> <span style="color: #EEDC82;">"js"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> compiled <span style="color: #EEDC82;">"#4dc0b5"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"asm"</span> <span style="color: #EEDC82;">"cl"</span> <span style="color: #EEDC82;">"lisp"</span> <span style="color: #EEDC82;">"el"</span> <span style="color: #EEDC82;">"c"</span> <span style="color: #EEDC82;">"h"</span> <span style="color: #EEDC82;">"c++"</span> <span style="color: #EEDC82;">"h++"</span> <span style="color: #EEDC82;">"hpp"</span> <span style="color: #EEDC82;">"hxx"</span> <span style="color: #EEDC82;">"m"</span> <span style="color: #EEDC82;">"cc"</span> <span style="color: #EEDC82;">"cs"</span> <span style="color: #EEDC82;">"cp"</span> <span style="color: #EEDC82;">"cpp"</span> <span style="color: #EEDC82;">"go"</span> <span style="color: #EEDC82;">"f"</span> <span style="color: #EEDC82;">"for"</span> <span style="color: #EEDC82;">"ftn"</span> <span style="color: #EEDC82;">"f90"</span> <span style="color: #EEDC82;">"f95"</span> <span style="color: #EEDC82;">"f03"</span> <span style="color: #EEDC82;">"f08"</span> <span style="color: #EEDC82;">"s"</span> <span style="color: #EEDC82;">"rs"</span> <span style="color: #EEDC82;">"hi"</span> <span style="color: #EEDC82;">"hs"</span> <span style="color: #EEDC82;">"pyc"</span> <span style="color: #EEDC82;">".java"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> executable <span style="color: #EEDC82;">"#8cc4ff"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"exe"</span> <span style="color: #EEDC82;">"msi"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> compressed <span style="color: #EEDC82;">"#51d88a"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"7z"</span> <span style="color: #EEDC82;">"zip"</span> <span style="color: #EEDC82;">"bz2"</span> <span style="color: #EEDC82;">"tgz"</span> <span style="color: #EEDC82;">"txz"</span> <span style="color: #EEDC82;">"gz"</span> <span style="color: #EEDC82;">"xz"</span> <span style="color: #EEDC82;">"z"</span> <span style="color: #EEDC82;">"Z"</span> <span style="color: #EEDC82;">"jar"</span> <span style="color: #EEDC82;">"war"</span> <span style="color: #EEDC82;">"ear"</span> <span style="color: #EEDC82;">"rar"</span> <span style="color: #EEDC82;">"sar"</span> <span style="color: #EEDC82;">"xpi"</span> <span style="color: #EEDC82;">"apk"</span> <span style="color: #EEDC82;">"xz"</span> <span style="color: #EEDC82;">"tar"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> packaged <span style="color: #EEDC82;">"#faad63"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"deb"</span> <span style="color: #EEDC82;">"rpm"</span> <span style="color: #EEDC82;">"apk"</span> <span style="color: #EEDC82;">"jad"</span> <span style="color: #EEDC82;">"jar"</span> <span style="color: #EEDC82;">"cab"</span> <span style="color: #EEDC82;">"pak"</span> <span style="color: #EEDC82;">"pk3"</span> <span style="color: #EEDC82;">"vdf"</span> <span style="color: #EEDC82;">"vpk"</span> <span style="color: #EEDC82;">"bsp"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> encrypted <span style="color: #EEDC82;">"#ffed4a"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"gpg"</span> <span style="color: #EEDC82;">"pgp"</span> <span style="color: #EEDC82;">"asc"</span> <span style="color: #EEDC82;">"bfe"</span> <span style="color: #EEDC82;">"enc"</span> <span style="color: #EEDC82;">"signature"</span> <span style="color: #EEDC82;">"sig"</span> <span style="color: #EEDC82;">"p12"</span> <span style="color: #EEDC82;">"pem"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> fonts <span style="color: #EEDC82;">"#6cb2eb"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"afm"</span> <span style="color: #EEDC82;">"fon"</span> <span style="color: #EEDC82;">"fnt"</span> <span style="color: #EEDC82;">"pfb"</span> <span style="color: #EEDC82;">"pfm"</span> <span style="color: #EEDC82;">"ttf"</span> <span style="color: #EEDC82;">"otf"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> partition <span style="color: #EEDC82;">"#e3342f"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"dmg"</span> <span style="color: #EEDC82;">"iso"</span> <span style="color: #EEDC82;">"bin"</span> <span style="color: #EEDC82;">"nrg"</span> <span style="color: #EEDC82;">"qcow"</span> <span style="color: #EEDC82;">"toast"</span> <span style="color: #EEDC82;">"vcd"</span> <span style="color: #EEDC82;">"vmdk"</span> <span style="color: #EEDC82;">"bak"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> vc <span style="color: #EEDC82;">"#0074d9"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"git"</span> <span style="color: #EEDC82;">"gitignore"</span> <span style="color: #EEDC82;">"gitattributes"</span> <span style="color: #EEDC82;">"gitmodules"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define-chmod</span> executable-unix <span style="color: #EEDC82;">"#38c172"</span> <span style="color: #EEDC82;">"-.*x.*"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org9877a9b" class="outline-3">
<h3 id="org9877a9b"><span class="section-number-3">8.3</span> dired-narrow</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-narrow</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge8421a6" class="outline-3">
<h3 id="orge8421a6"><span class="section-number-3">8.4</span> dired-collapse</h3>
<div class="outline-text-3" id="text-8-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-collapse</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2f2c3a4" class="outline-3">
<h3 id="org2f2c3a4"><span class="section-number-3">8.5</span> dired-filter</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-filter</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org306f2c9" class="outline-2">
<h2 id="org306f2c9"><span class="section-number-2">9</span> Colors and Look</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org5868ec8" class="outline-3">
<h3 id="org5868ec8"><span class="section-number-3">9.1</span> Theme</h3>
<div class="outline-text-3" id="text-9-1">
<p>
Loading a theme I like:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">sublime-themes</span>
    <span style="color: #FF80F4;">:ensure</span>
    <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'after-init-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>load-theme 'spolsky t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org86c7f9f" class="outline-3">
<h3 id="org86c7f9f"><span class="section-number-3">9.2</span> Hide menu bar &amp; toolbar</h3>
<div class="outline-text-3" id="text-9-2">
<p>
Using i3 is forcing me to use keyboard.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>menu-bar-mode -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>toggle-scroll-bar -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>tool-bar-mode -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>blink-cursor-mode -1<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfb18746" class="outline-3">
<h3 id="orgfb18746"><span class="section-number-3">9.3</span> Be quiet</h3>
<div class="outline-text-3" id="text-9-3">
<p>
Remove bell and dings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> ring-bell-function
      '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
         <span style="color: #b0b1a3;">(</span>message <span style="color: #EEDC82;">"The answer is 42..."</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> echo-keystrokes 0.1 use-dialog-box nil visible-bell t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org13054e0" class="outline-3">
<h3 id="org13054e0"><span class="section-number-3">9.4</span> Fontlock</h3>
<div class="outline-text-3" id="text-9-4">
<p>
This gets the font coloring switched on for all buffers.
</p>
</div>
<div id="outline-container-org080c348" class="outline-4">
<h4 id="org080c348"><span class="section-number-4">9.4.1</span> <span class="todo TODO">TODO</span> Note: this should be the default, maybe this can go ?</h4>
<div class="outline-text-4" id="text-9-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-font-lock-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org221138a" class="outline-3">
<h3 id="org221138a"><span class="section-number-3">9.5</span> In terminal mode</h3>
<div class="outline-text-3" id="text-9-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> <span style="color: #93a8c6;">(</span>display-graphic-p<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-background-color <span style="color: #EEDC82;">"#ffffff"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-foreground-color <span style="color: #EEDC82;">"#141312"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge949106" class="outline-3">
<h3 id="orge949106"><span class="section-number-3">9.6</span> In X11 mode: mouse and window title</h3>
<div class="outline-text-3" id="text-9-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> frame-title-format <span style="color: #EEDC82;">"emacs @ %b - %f"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> window-system
  <span style="color: #93a8c6;">(</span>mouse-wheel-mode<span style="color: #93a8c6;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">enable wheelmouse support by default</span>
  <span style="color: #93a8c6;">(</span>set-selection-coding-system 'compound-text-with-extensions<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf4b5605" class="outline-3">
<h3 id="orgf4b5605"><span class="section-number-3">9.7</span> Look: buffer naming</h3>
<div class="outline-text-3" id="text-9-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">uniquify</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> uniquify-buffer-name-style 'post-forward-angle-brackets<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc4e8e4a" class="outline-3">
<h3 id="orgc4e8e4a"><span class="section-number-3">9.8</span> Buffer Decorations</h3>
<div class="outline-text-3" id="text-9-8">
<p>
Setup the visual cues about the current editing buffer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>column-number-mode t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> visible-bell t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> scroll-step 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq-default</span> transient-mark-mode t<span style="color: #8c8c8c;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">highlight selection</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org635e990" class="outline-3">
<h3 id="org635e990"><span class="section-number-3">9.9</span> nyan-mode</h3>
<div class="outline-text-3" id="text-9-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">nyan-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-M-x n"</span> . 'nyan-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org25600ba" class="outline-3">
<h3 id="org25600ba"><span class="section-number-3">9.10</span> dynamic cursor colors</h3>
<div class="outline-text-3" id="text-9-10">
<p>
The cursor is displayed in different colors, depending on overwrite or insert mode.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-color <span style="color: #EEDC82;">""</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-buffer <span style="color: #EEDC82;">""</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">hcz-set-cursor-color-according-to-mode</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"change cursor color according to some minor modes."</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">set-cursor-color is somewhat costly, so we only call it when needed:</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>color
         <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> buffer-read-only <span style="color: #EEDC82;">"orange"</span>
           <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">if</span> overwrite-mode <span style="color: #EEDC82;">"red"</span>
             <span style="color: #EEDC82;">"green"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">unless</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">and</span>
             <span style="color: #aebed8;">(</span>string= color hcz-set-cursor-color-color<span style="color: #aebed8;">)</span>
             <span style="color: #aebed8;">(</span>string= <span style="color: #b0b0b3;">(</span>buffer-name<span style="color: #b0b0b3;">)</span> hcz-set-cursor-color-buffer<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>set-cursor-color <span style="color: #aebed8;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-color color<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-buffer <span style="color: #aebed8;">(</span>buffer-name<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'post-command-hook 'hcz-set-cursor-color-according-to-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org80e5280" class="outline-3">
<h3 id="org80e5280"><span class="section-number-3">9.11</span> faces</h3>
<div class="outline-text-3" id="text-9-11">
<p>
This makes some of the faces a bit more contrasted.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">faces for general region highlighting zenburn is too low-key.</span>
<span style="color: #8c8c8c;">(</span>custom-set-faces
 '<span style="color: #93a8c6;">(</span>highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"forest green"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>region <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"forest green"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
<p>
<b>*</b>
</p>
</div>
</div>
<div id="outline-container-orgb8b7c3d" class="outline-3">
<h3 id="orgb8b7c3d"><span class="section-number-3">9.12</span> delight</h3>
<div class="outline-text-3" id="text-9-12">
<p>
Package to remove some info from the mode-line for minor-modes.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">delight</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4f76d22" class="outline-3">
<h3 id="org4f76d22"><span class="section-number-3">9.13</span> remove some modelines</h3>
<div class="outline-text-3" id="text-9-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">eldoc</span>
  <span style="color: #FF80F4;">:delight</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0dd2d6c" class="outline-3">
<h3 id="org0dd2d6c"><span class="section-number-3">9.14</span> alternate key mappings</h3>
<div class="outline-text-3" id="text-9-14">
<p>
Letting one enter chars that are otherwise difficult in e.g. the minibuffer.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-m"</span><span style="color: #93a8c6;">)</span> 'newline-and-indent<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-j"</span><span style="color: #93a8c6;">)</span> 'newline<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>delete<span style="color: #93a8c6;">]</span> 'delete-char<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>kp-delete<span style="color: #93a8c6;">]</span> 'delete-char<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org275619d" class="outline-3">
<h3 id="org275619d"><span class="section-number-3">9.15</span> Macros</h3>
<div class="outline-text-3" id="text-9-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f3<span style="color: #93a8c6;">]</span> 'start-kbd-macro<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f4<span style="color: #93a8c6;">]</span> 'end-kbd-macro<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f5<span style="color: #93a8c6;">]</span> 'call-last-kbd-macro<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org681f08c" class="outline-3">
<h3 id="org681f08c"><span class="section-number-3">9.16</span> Text size</h3>
<div class="outline-text-3" id="text-9-16">
<p>
Increase/decrease text size
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>define-key global-map <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-+"</span><span style="color: #93a8c6;">)</span> 'text-scale-increase<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key global-map <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C--"</span><span style="color: #93a8c6;">)</span> 'text-scale-decrease<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9d25fb3" class="outline-3">
<h3 id="org9d25fb3"><span class="section-number-3">9.17</span> multiple regions</h3>
<div class="outline-text-3" id="text-9-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-i"</span><span style="color: #93a8c6;">)</span> 'iedit-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7215625" class="outline-3">
<h3 id="org7215625"><span class="section-number-3">9.18</span> Moving around buffers</h3>
<div class="outline-text-3" id="text-9-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c &lt;C-left&gt;"</span><span style="color: #93a8c6;">)</span>  'windmove-left<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c &lt;C-right&gt;"</span><span style="color: #93a8c6;">)</span> 'windmove-right<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c &lt;C-up&gt;"</span><span style="color: #93a8c6;">)</span>    'windmove-up<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c &lt;C-down&gt;"</span><span style="color: #93a8c6;">)</span>  'windmove-down<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c C-g"</span><span style="color: #93a8c6;">)</span> 'goto-line<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2f451ea" class="outline-3">
<h3 id="org2f451ea"><span class="section-number-3">9.19</span> multiple-cursors</h3>
<div class="outline-text-3" id="text-9-19">
<p>
Configure the shortcuts for multiple cursors
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">multiple-cursors</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-S-c C-S-c"</span> . 'mc/edit-lines<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-&gt;"</span> . 'mc/mark-next-like-this<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-&lt;"</span> . 'mc/mark-previous-like-this<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c C-&gt;"</span> . 'mc/mark-all-like-this<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfba329f" class="outline-3">
<h3 id="orgfba329f"><span class="section-number-3">9.20</span> Hydra</h3>
<div class="outline-text-3" id="text-9-20">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">hydra</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgaf6fc20" class="outline-3">
<h3 id="orgaf6fc20"><span class="section-number-3">9.21</span> dimmer</h3>
<div class="outline-text-3" id="text-9-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dimmer</span>
<span style="color: #FF80F4;">:ensure</span>
<span style="color: #FF80F4;">:config</span>
 <span style="color: #93a8c6;">(</span>dimmer-configure-which-key<span style="color: #93a8c6;">)</span>
 <span style="color: #93a8c6;">(</span>dimmer-configure-helm<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
 <span style="color: #8c8c8c;">(</span>dimmer-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb7a7045" class="outline-3">
<h3 id="orgb7a7045"><span class="section-number-3">9.22</span> Highlight indent</h3>
<div class="outline-text-3" id="text-9-22">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">highlight-indent-guides</span>
<span style="color: #FF80F4;">:ensure</span>
<span style="color: #FF80F4;">:config</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> highlight-indent-guides-method 'character<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook 'highlight-indent-guides-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orged59398" class="outline-3">
<h3 id="orged59398"><span class="section-number-3">9.23</span> ace-jump-mode</h3>
<div class="outline-text-3" id="text-9-23">
<p>
Let's one jump around text
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ace-jump-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c C-SPC"</span> . 'ace-jump-mode<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c C-DEL"</span> . 'ace-jump-mode-pop-mark<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org04d8aec" class="outline-2">
<h2 id="org04d8aec"><span class="section-number-2">10</span> Editing style</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org709cb2f" class="outline-3">
<h3 id="org709cb2f"><span class="section-number-3">10.1</span> No tabs, ever. No trailing spaces either.</h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq-default</span> indent-tabs-mode nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> require-final-newline t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> next-line-add-newlines nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'before-save-hook 'delete-trailing-whitespace<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3b7072b" class="outline-3">
<h3 id="org3b7072b"><span class="section-number-3">10.2</span> Mark the 80 cols boundary</h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">column-enforce-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> column-enforce-column 80<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-c m"</span> . 'column-enforce-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">column-enforce-face</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org52d7ba3" class="outline-3">
<h3 id="org52d7ba3"><span class="section-number-3">10.3</span> Better kill ring</h3>
<div class="outline-text-3" id="text-10-3">
<p>
Don't use <code>popup-kill-ring</code> as it's dead. Use the <a href="https://github.com/browse-kill-ring/browse-kill-ring">browse-kill-ring</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">browse-kill-ring</span>
<span style="color: #FF80F4;">:ensure</span>
<span style="color: #FF80F4;">:config</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> browse-kill-ring-highlight-current-entry t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> browse-kill-ring-highlight-inserted-item t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>browse-kill-ring-default-keybindings<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org639c78a" class="outline-3">
<h3 id="org639c78a"><span class="section-number-3">10.4</span> Parenthesis</h3>
<div class="outline-text-3" id="text-10-4">
<p>
Borrowing from old init.el:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>show-paren-mode t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-attribute 'region nil
                    <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"#666"</span>
                    <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#d52349"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-background 'show-paren-match <span style="color: #93a8c6;">(</span>face-background 'default<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-foreground 'show-paren-match <span style="color: #EEDC82;">"#d52349"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-attribute 'show-paren-match nil
                    <span style="color: #FF80F4;">:weight</span> 'extra-bold<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org6a2488c" class="outline-4">
<h4 id="org6a2488c"><span class="section-number-4">10.4.1</span> show matching delimiters</h4>
<div class="outline-text-4" id="text-10-4-1">
<p>
Use <a href="https://github.com/Fanael/rainbow-delimiters">rainbow-delimiter</a>. Do not set the
<code>rainbow-delimiters-mismatched-face</code> because it will raise alarm all
all the following brackets when there is a mismatch, like a xmas
lights, and it's distracting to find out the actual mismatch!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">rainbow-delimiters</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>set-face-attribute 'rainbow-delimiters-unmatched-face nil
                      <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"GhostWhite"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook #'rainbow-delimiters-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0db3657" class="outline-4">
<h4 id="org0db3657"><span class="section-number-4">10.4.2</span> type using smartparens</h4>
<div class="outline-text-4" id="text-10-4-2">
<p>
Well, who wants to type parenthesis:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">smartparens</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">smartparens-config</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook #'smartparens-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org15a8123" class="outline-2">
<h2 id="org15a8123"><span class="section-number-2">11</span> Cool packages</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-orgf6a608b" class="outline-3">
<h3 id="orgf6a608b"><span class="section-number-3">11.1</span> annotate-mode</h3>
<div class="outline-text-3" id="text-11-1">
<p>
The file-annotations are store externally. Seems to fail with <code>args-out-of-range</code> and then Emacs is confused. (filed issue for this)
</p>

<p>
Also, it seems to interfere with colorful modes like <code>magit</code> or <code>org-agenda-mode</code> so that I went with a whitelist instead of the wish of a blacklist of modes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">annotate</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-c C-A"</span> . 'annotate-annotate<span style="color: #93a8c6;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">for ledger-mode, as 'C-c C-a' is taken there.</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'org-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'csv-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c++-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'sh-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'ledger-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
<span style="color: #8C8C8C;">;;;  </span><span style="color: #8C8C8C;">(define-globalized-minor-mode global-annotate-mode annotate-mode</span>
<span style="color: #8C8C8C;">;;;    </span><span style="color: #8C8C8C;">(lambda () (annotate-mode 1)))</span>
<span style="color: #8C8C8C;">;;;  </span><span style="color: #8C8C8C;">(global-annotate-mode 1)</span>
  <span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab82cd0" class="outline-3">
<h3 id="orgab82cd0"><span class="section-number-3">11.2</span> protobuf-mode</h3>
<div class="outline-text-3" id="text-11-2">
<p>
Mode for Google protocol buffer mode
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">protobuf-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:mode</span> <span style="color: #EEDC82;">"\\.proto\\'"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5269002" class="outline-3">
<h3 id="org5269002"><span class="section-number-3">11.3</span> Helm (list completion)</h3>
<div class="outline-text-3" id="text-11-3">
<p>
Trying out Helm instead of icicles, as it is available on ELPA.
</p>

<p>
I just took over the config described in this <a href="https://tuhdo.github.io/helm-intro.html">helm intro</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">helm</span>
 <span style="color: #FF80F4;">:ensure</span> t
 <span style="color: #FF80F4;">:delight</span> helm-mode
 <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">helm-config</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">The default "C-x c" is quite close to "C-x C-c", which quits Emacs.</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Changed to "C-c h". Note: We must set "C-c h" globally, because we</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">cannot change `</span><span style="color: #FF80F4;">helm-command-prefix-key</span><span style="color: #8C8C8C;">' once `</span><span style="color: #FF80F4;">helm-config</span><span style="color: #8C8C8C;">' is loaded.</span>
  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c h"</span><span style="color: #b0b1a3;">)</span> 'helm-command-prefix<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>global-unset-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-x c"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span>define-key helm-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"&lt;tab&gt;"</span><span style="color: #b0b1a3;">)</span> 'helm-execute-persistent-action<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">rebind tab to run persistent action</span>
  <span style="color: #93a8c6;">(</span>define-key helm-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-M-x"</span><span style="color: #b0b1a3;">)</span> 'helm-execute-persistent-action<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">make TAB work in terminal</span>
  <span style="color: #93a8c6;">(</span>define-key helm-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-z"</span><span style="color: #b0b1a3;">)</span>  'helm-select-action<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">list actions using C-z</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span>executable-find <span style="color: #EEDC82;">"curl"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> helm-google-suggest-use-curl-p t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-split-window-inside-p            t <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">open helm buffer inside current window, not occupy whole other window</span>
        helm-move-to-line-cycle-in-source     t <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">move to end or beginning of source when reaching top or bottom of source.</span>
        helm-ff-search-library-in-sexp        t <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">search for library in `</span><span style="color: #FF80F4;">require</span><span style="color: #8C8C8C;">' and `</span><span style="color: #FF80F4;">declare-function</span><span style="color: #8C8C8C;">' sexp.</span>
        helm-scroll-amount                    8 <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">scroll 8 lines other window using M-&lt;next&gt;/M-&lt;prior&gt;</span>
        helm-ff-file-name-history-use-recentf t
        helm-echo-input-in-header-line t<span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-autoresize-max-height 50<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-autoresize-min-height 0<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>helm-autoresize-mode 1<span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-M-x-fuzzy-match t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-buffers-fuzzy-matching t
        helm-recentf-fuzzy-match    t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-semantic-fuzzy-match t
        helm-imenu-fuzzy-match    t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-locate-fuzzy-match t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-apropos-fuzzy-match t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-lisp-fuzzy-completion t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span>helm-mode 1<span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"M-x"</span><span style="color: #b0b1a3;">)</span> 'helm-M-x<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
I don't know what this is about, copied from the intro:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">spacemacs//helm-hide-minibuffer-maybe</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Hide minibuffer in Helm session if we use the header line as input field."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">with-helm-buffer</span> helm-echo-input-in-header-line<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">let</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>ov <span style="color: #b0b0b3;">(</span>make-overlay <span style="color: #90a890;">(</span>point-min<span style="color: #90a890;">)</span> <span style="color: #90a890;">(</span>point-max<span style="color: #90a890;">)</span> nil nil t<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>overlay-put ov 'window <span style="color: #aebed8;">(</span>selected-window<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>overlay-put ov 'face
                   <span style="color: #aebed8;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>bg-color <span style="color: #a2b6da;">(</span>face-background 'default nil<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
                     `<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:background</span> ,bg-color <span style="color: #FF80F4;">:foreground</span> ,bg-color<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">setq-local</span> cursor-type nil<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'helm-minibuffer-set-up-hook
          'spacemacs//helm-hide-minibuffer-maybe<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Found <a href="https://www.reddit.com/r/emacs/comments/30yer0/helm_and_recentf_tips/">this reddit post</a> of using <code>helm-mini</code>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> helm-mini-default-sources '<span style="color: #93a8c6;">(</span>helm-source-buffers-list
                                  helm-source-recentf
                                  helm-source-bookmarks
                                  helm-source-buffer-not-found<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org818b1b2" class="outline-3">
<h3 id="org818b1b2"><span class="section-number-3">11.4</span> <a href="https://github.com/smihica/emmet-mode">emmet-mode</a></h3>
<div class="outline-text-3" id="text-11-4">
<p>
Useful abbreviations when coding in HTML.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">emmet-mode</span>
<span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc07b676" class="outline-3">
<h3 id="orgc07b676"><span class="section-number-3">11.5</span> rainbow-mode</h3>
<div class="outline-text-3" id="text-11-5">
<p>
Colorize color names and codes in the correct color.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">rainbow-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8632c2e" class="outline-3">
<h3 id="org8632c2e"><span class="section-number-3">11.6</span> writeroom-mode</h3>
<div class="outline-text-3" id="text-11-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">writeroom-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-M-x w"</span><span style="color: #b0b1a3;">)</span> 'writeroom-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f9857b" class="outline-3">
<h3 id="org3f9857b"><span class="section-number-3">11.7</span> wgrep-mode</h3>
<div class="outline-text-3" id="text-11-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">wgrep</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a9e010" class="outline-3">
<h3 id="org1a9e010"><span class="section-number-3">11.8</span> <a href="https://github.com/ledger/ledger-mode">ledger-mode</a></h3>
<div class="outline-text-3" id="text-11-8">
</div>
<div id="outline-container-org33815cf" class="outline-4">
<h4 id="org33815cf"><span class="section-number-4">11.8.1</span> Cleanup ledger file</h4>
<div class="outline-text-4" id="text-11-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">single-lines-only</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"replace multiple blank lines with a single one"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>goto-char <span style="color: #b0b1a3;">(</span>point-min<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">while</span> <span style="color: #b0b1a3;">(</span>re-search-forward <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">^\\s-*$</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\n"</span> nil t<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>replace-match <span style="color: #EEDC82;">"\n"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>forward-char 1<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/cleanup-ledger-buffer</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Cleanup the ledger file"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>delete-trailing-whitespace<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>single-lines-only<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>ledger-mode-clean-buffer<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>ledger-sort-buffer<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org926be8e" class="outline-4">
<h4 id="org926be8e"><span class="section-number-4">11.8.2</span> Setup</h4>
<div class="outline-text-4" id="text-11-8-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ledger-mode</span>
  <span style="color: #FF80F4;">:ensure</span> nil
  <span style="color: #FF80F4;">:pin</span> manual
  <span style="color: #FF80F4;">:mode</span> <span style="color: #EEDC82;">"\\.ledger\\'"</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"&lt;f6&gt;"</span> . 'paf/cleanup-ledger-buffer<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> ledger-reconcile-default-commodity <span style="color: #EEDC82;">"CHF"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd40d1b3" class="outline-3">
<h3 id="orgd40d1b3"><span class="section-number-3">11.9</span> <a href="http://www.gnu.org/software/hyperbole/">hyperbole</a></h3>
<div class="outline-text-3" id="text-11-9">
<p>
Let's try this too, even though I do not quite get the point of this
whole package yet.
</p>

<p>
<b>NOTE</b> assigns <code>hui-search-web</code> to <code>C-c C-/</code> to not clobber the later used <code>C-c /</code> from OrgMode (org-mode sparse trees). This works because hyperbole will first check if the function is already bound to some key before binding it to the coded default.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">hyperbole</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">bind-key</span> <span style="color: #EEDC82;">"C-c C-/"</span> 'hui-search-web<span style="color: #93a8c6;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">bind before calling require</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">hyperbole</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org24328c9" class="outline-3">
<h3 id="org24328c9"><span class="section-number-3">11.10</span> <a href="https://github.com/fourier/ztree#ztree">ztree</a></h3>
<div class="outline-text-3" id="text-11-10">
<p>
A tree-view navigation of files, with diff tool for directories.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ztree</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0c16411" class="outline-3">
<h3 id="org0c16411"><span class="section-number-3">11.11</span> anzu</h3>
<div class="outline-text-3" id="text-11-11">
<p>
Show number of search matches.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  anzu

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-anzu-mode +1<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgef1456d" class="outline-3">
<h3 id="orgef1456d"><span class="section-number-3">11.12</span> whitespace</h3>
<div class="outline-text-3" id="text-11-12">
<p>
Highlight unnecessary chars and lines over 80.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  whitespace

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> whitespace-style '<span style="color: #b0b1a3;">(</span>face empty tabs lines-tail trailing<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>global-whitespace-mode t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7da3211" class="outline-3">
<h3 id="org7da3211"><span class="section-number-3">11.13</span> move-text</h3>
<div class="outline-text-3" id="text-11-13">
<p>
Looks convenient:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">move-text</span>
    <span style="color: #FF80F4;">:ensure</span>
    <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>move-text-default-bindings<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga3378e7" class="outline-3">
<h3 id="orga3378e7"><span class="section-number-3">11.14</span> string inflection</h3>
<div class="outline-text-3" id="text-11-14">
<p>
Change text style quickly:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">string-inflection</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'elpy-mode-hook
            '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
               <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-q C-u"</span><span style="color: #97b098;">)</span> 'string-inflection-python-style-cycle<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
            '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
               <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-q C-u"</span><span style="color: #97b098;">)</span> 'string-inflection-python-style-cycle<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'mu4e-compose-mode-hook
            '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
               <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-q C-u"</span><span style="color: #97b098;">)</span> 'string-inflection-python-style-cycle<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1d5ecc7" class="outline-3">
<h3 id="org1d5ecc7"><span class="section-number-3">11.15</span> telephone-line</h3>
<div class="outline-text-3" id="text-11-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">telephone-line</span>
    <span style="color: #FF80F4;">:ensure</span>
    <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>telephone-line-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfb4684d" class="outline-2">
<h2 id="orgfb4684d"><span class="section-number-2">12</span> Coding</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org7dae757" class="outline-3">
<h3 id="org7dae757"><span class="section-number-3">12.1</span> Version control</h3>
<div class="outline-text-3" id="text-12-1">
</div>
<div id="outline-container-org9afd6ac" class="outline-4">
<h4 id="org9afd6ac"><span class="section-number-4">12.1.1</span> magit</h4>
<div class="outline-text-4" id="text-12-1-1">
<p>
Add the powerful Magit
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">magit</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'after-save-hook 'magit-after-save-refresh-status t<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-x g"</span> . 'magit-status<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">magit-todos</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  magit-gitflow

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>add-hook 'magit-mode-hook 'turn-on-magit-gitflow<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge0cf3cf" class="outline-4">
<h4 id="orge0cf3cf"><span class="section-number-4">12.1.2</span> monky</h4>
<div class="outline-text-4" id="text-12-1-2">
<p>
Add the Magit-copy for Mercurial 'monky'
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">monky</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-x m"</span> . 'monky-status<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb15d863" class="outline-4">
<h4 id="orgb15d863"><span class="section-number-4">12.1.3</span> Global caller</h4>
<div class="outline-text-4" id="text-12-1-3">
<p>
Have a single binding to call the most appropriate tool given the repository.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/vcs-status</span> <span style="color: #93a8c6;">()</span>
     <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
     <span style="color: #93a8c6;">(</span><span style="color: #F92672;">condition-case</span> nil
         <span style="color: #b0b1a3;">(</span>magit-status-setup-buffer<span style="color: #b0b1a3;">)</span>
       <span style="color: #b0b1a3;">(</span><span style="color: #FF6C60;">error</span> <span style="color: #97b098;">(</span>monky-status<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x v"</span><span style="color: #93a8c6;">)</span> 'paf/vcs-status<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb0d4573" class="outline-3">
<h3 id="orgb0d4573"><span class="section-number-3">12.2</span> Projectile</h3>
<div class="outline-text-3" id="text-12-2">
<p>
Start using projectile. It has the documentation <a href="https://docs.projectile.mx/en/latest/">here</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">projectile</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>define-key projectile-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c p"</span><span style="color: #b0b1a3;">)</span> 'projectile-command-map<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> projectile-completion-system 'helm<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>projectile-mode +1<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">helm-projectile</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> projectile
  <span style="color: #FF80F4;">:requires</span> projectile
  <span style="color: #FF80F4;">:delight</span> projectile-mode
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>helm-projectile-on<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Also make sure we do have the faster <a href="https://github.com/ggreer/the_silver_searcher#the-silver-searcher">silver searcher</a> version.  This
may need you to install the corresponding tool for this, with the
following snippet:
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">helm-ag uses this for faster grepping</span>
<span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> <span style="color: #EEDC82;">"$(uname)"</span> == <span style="color: #EEDC82;">"Darwin"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
  install_pkg -x ag the_silver_searcher
<span style="color: #F92672;">else</span>
  install_pkg -x ag silversearcher-ag
<span style="color: #F92672;">fi</span>
</pre>
</div>

<p>
Search the entire project with <code>C-c p s s</code> for a regexp. This let's
you turn the matching results into an editable buffer using <code>C-c
C-e</code>. Other keys are listed <a href="https://github.com/syohex/emacs-helm-ag#keymap">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">helm-ag</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
I havae used it by a <code>M-?</code> binding. It's just old habit:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"M-?"</span><span style="color: #93a8c6;">)</span> 'helm-ag<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfeb5f89" class="outline-3">
<h3 id="orgfeb5f89"><span class="section-number-3">12.3</span> no indentation of namespaces in C++</h3>
<div class="outline-text-3" id="text-12-3">
<p>
Essentially, use the Google C++ style formatting.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">google-c-style</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c-mode-common-hook 'google-set-c-style<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c-mode-common-hook 'google-make-newline-indent<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">flymake-google-cpplint</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd4f3c6d" class="outline-3">
<h3 id="orgd4f3c6d"><span class="section-number-3">12.4</span> search &amp; jump</h3>
<div class="outline-text-3" id="text-12-4">
</div>
<div id="outline-container-org16016c7" class="outline-4">
<h4 id="org16016c7"><span class="section-number-4">12.4.1</span> ag</h4>
<div class="outline-text-4" id="text-12-4-1">
<p>
Use the silversearcher.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ag</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> ag-highlight-search t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> ag-reuse-buffers t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Follow the <a href="https://github.com/emacsorphanage/helm-ag">helm-ag manual</a>, "Insert thing at point as default search
pattern, if this value is non nil":
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> helm-ag-insert-at-point 'symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> helm-ag-use-temp-buffer t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgaf10f47" class="outline-4">
<h4 id="orgaf10f47"><span class="section-number-4">12.4.2</span> dumb-jump</h4>
<div class="outline-text-4" id="text-12-4-2">
<p>
First, let's make sure we have <code>xref</code> because we will hook into the
xref backend:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">xref</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Now install <code>dumb-jump</code>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dumb-jump</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> dumb-jump-prefer-searcher 'ag<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Last, hook to <code>xref</code> to use <code>M.</code> bind:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'xref-backend-functions #'dumb-jump-xref-activate<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org51a9c0e" class="outline-4">
<h4 id="org51a9c0e"><span class="section-number-4">12.4.3</span> ripgrep</h4>
<div class="outline-text-4" id="text-12-4-3">
<p>
This enables searching recursively in projects.
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">This can be used by helm-ag for faster grepping</span>
install_pkg -x rg ripgrep
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ripgrep</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">projectile-ripgrep</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:requires</span> <span style="color: #93a8c6;">(</span>ripgrep projectile<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4edd2fa" class="outline-3">
<h3 id="org4edd2fa"><span class="section-number-3">12.5</span> commenting out</h3>
<div class="outline-text-3" id="text-12-5">
<p>
Easy commenting out of lines.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>autoload 'comment-out-region <span style="color: #EEDC82;">"comment"</span> nil t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c q"</span><span style="color: #93a8c6;">)</span> 'comment-out-region<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0813efe" class="outline-3">
<h3 id="org0813efe"><span class="section-number-3">12.6</span> Deduplicate and sort</h3>
<div class="outline-text-3" id="text-12-6">
<p>
Help cleanup the includes and using lists.
<a href="http://www.emacswiki.org/emacs/DuplicateLines">found here</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">uniquify-region-lines</span> <span style="color: #93a8c6;">(</span>beg end<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Remove duplicate adjacent lines in region."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"*r"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">save-excursion</span>
    <span style="color: #b0b1a3;">(</span>goto-char beg<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">while</span> <span style="color: #97b098;">(</span>re-search-forward <span style="color: #EEDC82;">"^</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">.*\n</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\\1+"</span> end t<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>replace-match <span style="color: #EEDC82;">"\\1"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/sort-and-uniquify-region</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Remove duplicates and sort lines in region."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>sort-lines nil <span style="color: #b0b1a3;">(</span>region-beginning<span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">(</span>region-end<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>uniquify-region-lines <span style="color: #b0b1a3;">(</span>region-beginning<span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">(</span>region-end<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Simplify cleanup of <code>#include</code> / <code>typedef</code> / <code>using</code> blocks.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x s"</span><span style="color: #93a8c6;">)</span> 'paf/sort-and-uniquify-region<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0ef0137" class="outline-3">
<h3 id="org0ef0137"><span class="section-number-3">12.7</span> diffing</h3>
<div class="outline-text-3" id="text-12-7">
<p>
<a href="https://github.com/justbur/emacs-vdiff">vdiff</a> let's one compare buffers or files.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">vdiff</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">This binds commands under the prefix when vdiff is active.</span>
  <span style="color: #93a8c6;">(</span>define-key vdiff-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c"</span><span style="color: #b0b1a3;">)</span> vdiff-mode-prefix-map<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4369203" class="outline-3">
<h3 id="org4369203"><span class="section-number-3">12.8</span> yasnippet</h3>
<div class="outline-text-3" id="text-12-8">
<p>
Let's first see how far I get with file-based capture templates and yankpad.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">yasnippet</span>
    <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">auto-yasnippet</span>
    <span style="color: #FF80F4;">:ensure</span> t
<span style="color: #FF80F4;">:after</span> yasnippet
    <span style="color: #FF80F4;">:config</span>
    <span style="color: #93a8c6;">(</span><span style="color: #F92672;">bind-key</span> <span style="color: #EEDC82;">"C-M-x C-s c"</span> 'aya-create<span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span><span style="color: #F92672;">bind-key</span> <span style="color: #EEDC82;">"C-M-x C-s e"</span> 'aya-expand<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa2603f" class="outline-3">
<h3 id="orgaa2603f"><span class="section-number-3">12.9</span> Selective display</h3>
<div class="outline-text-3" id="text-12-9">
<p>
Will fold all text indented more than the position of the cursor at
the time the keys are pressed.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">set-selective-display-dlw</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> level<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Fold text indented more than the cursor.</span>
<span style="color: #EEDC82;">   If level is set, set the indent level to level.</span>
<span style="color: #EEDC82;">   0 displays the entire buffer."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"P"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-selective-display <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">or</span> level <span style="color: #97b098;">(</span>current-column<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #EEDC82;">"\C-x$"</span> 'set-selective-display-dlw<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge9e2297" class="outline-3">
<h3 id="orge9e2297"><span class="section-number-3">12.10</span> Info in the gutter</h3>
<div class="outline-text-3" id="text-12-10">
</div>
<div id="outline-container-org0bbcb92" class="outline-4">
<h4 id="org0bbcb92"><span class="section-number-4">12.10.1</span> git informations</h4>
<div class="outline-text-4" id="text-12-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">git-gutter-fringe+</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span>
  <span style="color: #FF80F4;">:if</span> window-system
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-c g"</span> . 'git-gutter+-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9fa9505" class="outline-3">
<h3 id="org9fa9505"><span class="section-number-3">12.11</span> Speedup VCS</h3>
<div class="outline-text-3" id="text-12-11">
<p>
Regexp matching directory names that are not under VC's control. The
default regexp prevents fruitless and time-consuming attempts to
determine the VC status in directories in which filenames are
interpreted as hostnames.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defvar</span> <span style="color: #FD971F;">locate-dominating-stop-dir-regexp</span>
  <span style="color: #EEDC82;">"\\`</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(?:</span><span style="color: #EEDC82;">[\\/][\\/][</span><span style="color: #FF6C60;">^</span><span style="color: #EEDC82;">\\/]+</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">/</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(?:</span><span style="color: #EEDC82;">net</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">afs</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.\\.\\.</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">/</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\\'"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcc409cb" class="outline-3">
<h3 id="orgcc409cb"><span class="section-number-3">12.12</span> Dealing with numbers</h3>
<div class="outline-text-3" id="text-12-12">
<p>
Simple way to increase/decrease a number in code.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">shift-number</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-+"</span> . shift-number-up<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-_"</span> . shift-number-down<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd84c566" class="outline-3">
<h3 id="orgd84c566"><span class="section-number-3">12.13</span> GDB with many windows</h3>
<div class="outline-text-3" id="text-12-13">
</div>
<div id="outline-container-orgb0a341c" class="outline-4">
<h4 id="orgb0a341c"><span class="section-number-4">12.13.1</span> <span class="todo TODO">TODO</span> Make it so that the source frame placement is forced only when using gdb.</h4>
<div class="outline-text-4" id="text-12-13-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> gdb-many-windows t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> gdb-use-separate-io-buffer t<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">easy-gdb-top-of-stack-and-restore-windows</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>switch-to-buffer <span style="color: #b0b1a3;">(</span>gdb-stack-buffer-name<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>goto-char <span style="color: #b0b1a3;">(</span>point-min<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>gdb-select-frame<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>gdb-restore-windows<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>other-window 2<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-x C-a C-t"</span><span style="color: #93a8c6;">)</span> 'easy-gdb-top-of-stack-and-restore-windows<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
This should display the source code always in the same window when debugging.
Found on <a href="https://stackoverflow.com/questions/39762833/emacsgdb-customization-how-to-display-source-buffer-in-one-window">Stack Overflow</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">This unfortunately also messes up the regular frame navigation of source code.</span>
<span style="color: #8C8C8C;">;</span><span style="color: #8C8C8C;">(add-to-list 'display-buffer-alist</span>
<span style="color: #8C8C8C;">;             </span><span style="color: #8C8C8C;">(cons 'cdb-source-code-buffer-p</span>
<span style="color: #8C8C8C;">;                   </span><span style="color: #8C8C8C;">(cons 'display-source-code-buffer nil)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">cdb-source-code-buffer-p</span> <span style="color: #93a8c6;">(</span>bufName action<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Return whether BUFNAME is a source code buffer."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>buf <span style="color: #aebed8;">(</span>get-buffer bufName<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">and</span> buf
         <span style="color: #97b098;">(</span><span style="color: #F92672;">with-current-buffer</span> buf
           <span style="color: #aebed8;">(</span>derived-mode-p buf 'c++-mode 'c-mode 'csharp-mode 'nxml-mode<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">display-source-code-buffer</span> <span style="color: #93a8c6;">(</span>sourceBuf alist<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Find a window with source code and set sourceBuf inside it."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let*</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>curbuf <span style="color: #aebed8;">(</span>current-buffer<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>wincurbuf <span style="color: #aebed8;">(</span>get-buffer-window curbuf<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>win <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">and</span> wincurbuf
                       <span style="color: #90a890;">(</span>derived-mode-p sourceBuf 'c++-mode 'c-mode 'nxml-mode<span style="color: #90a890;">)</span>
                       <span style="color: #90a890;">(</span>derived-mode-p <span style="color: #a2b6da;">(</span>current-buffer<span style="color: #a2b6da;">)</span> 'c++-mode 'c-mode 'nxml-mode<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
                  wincurbuf
                <span style="color: #b0b0b3;">(</span>get-window-with-predicate
                 <span style="color: #90a890;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #a2b6da;">(</span>window<span style="color: #a2b6da;">)</span>
                   <span style="color: #a2b6da;">(</span><span style="color: #F92672;">let</span> <span style="color: #9cb6ad;">(</span><span style="color: #8c8c8c;">(</span>bufName <span style="color: #93a8c6;">(</span>buffer-name <span style="color: #b0b1a3;">(</span>window-buffer window<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span><span style="color: #9cb6ad;">)</span>
                     <span style="color: #9cb6ad;">(</span><span style="color: #F92672;">or</span> <span style="color: #8c8c8c;">(</span>cdb-source-code-buffer-p bufName nil<span style="color: #8c8c8c;">)</span>
                         <span style="color: #8c8c8c;">(</span>assoc bufName display-buffer-alist<span style="color: #8c8c8c;">)</span>
                         <span style="color: #9cb6ad;">)</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span> <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">derived-mode-p doesn't work inside this, don't know why...</span>
    <span style="color: #b0b1a3;">(</span>set-window-buffer win sourceBuf<span style="color: #b0b1a3;">)</span>
    win<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Here is my cheatsheet for the keyboard commands:
</p>

<p>
All prefixed with <code>C-x C-a</code>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Domain</th>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-center">C-&lt;key&gt;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Breakpoint</td>
<td class="org-left">set</td>
<td class="org-center">b</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">temporary</td>
<td class="org-center">t</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">delete</td>
<td class="org-center">d</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Execute</td>
<td class="org-left">Next</td>
<td class="org-center">n</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Step Into</td>
<td class="org-center">s</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Return / Finish</td>
<td class="org-center">f</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Continue (run)</td>
<td class="org-center">r</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Stack</td>
<td class="org-left">Up</td>
<td class="org-center">&lt;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Down</td>
<td class="org-center">&gt;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Execute</td>
<td class="org-left">Until current line</td>
<td class="org-center">u</td>
</tr>

<tr>
<td class="org-left">(rarer)</td>
<td class="org-left">Single instruction</td>
<td class="org-center">i</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Jump to current line</td>
<td class="org-center">j</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org6ed5694" class="outline-3">
<h3 id="org6ed5694"><span class="section-number-3">12.14</span> IRC circe &amp; helm-circe</h3>
<div class="outline-text-3" id="text-12-14">
<p>
Use <code>circe</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  circe
    <span style="color: #FF80F4;">:ensure</span>
    <span style="color: #FF80F4;">:config</span><span style="color: #93a8c6;">(</span>
            setq circe-network-options '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>
                                          <span style="color: #EEDC82;">"Freenode"</span> <span style="color: #FF80F4;">:tls</span> t
                                          <span style="color: #FF80F4;">:nick</span> <span style="color: #EEDC82;">"fengxia41103"</span>
                                          <span style="color: #FF80F4;">:channels</span> <span style="color: #aebed8;">(</span><span style="color: #EEDC82;">"#emacs"</span>
                                                     <span style="color: #EEDC82;">"#python"</span>
                                                     <span style="color: #EEDC82;">"#odoo"</span>
                                                     <span style="color: #EEDC82;">"#reactjs"</span>
                                                     <span style="color: #EEDC82;">"#latex"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  helm-circe

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd71b1f3" class="outline-3">
<h3 id="orgd71b1f3"><span class="section-number-3">12.15</span> specific languages</h3>
<div class="outline-text-3" id="text-12-15">
<p>
These are minor modes to handle programming language specifics which
are often termed as development rules agreed by the team.
</p>
</div>
<div id="outline-container-org905d214" class="outline-4">
<h4 id="org905d214"><span class="section-number-4">12.15.1</span> c</h4>
<div class="outline-text-4" id="text-12-15-1">
</div>
<ol class="org-ol">
<li><a id="org1779315"></a>header/implementation toggle<br />
<div class="outline-text-5" id="text-12-15-1-1">
<p>
Switch from header to implementation file quickly.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'c-mode-common-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
            <span style="color: #b0b1a3;">(</span>local-set-key  <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-c o"</span><span style="color: #97b098;">)</span> 'ff-find-other-file<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org54ef4c9" class="outline-4">
<h4 id="org54ef4c9"><span class="section-number-4">12.15.2</span> web-mode</h4>
<div class="outline-text-4" id="text-12-15-2">
<p>
web-mode with config for Polymer editing
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">web-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:mode</span> <span style="color: #EEDC82;">"\\.html\\'"</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-markup-indent-offset 2<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-css-indent-offset 2<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-code-indent-offset 2<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-enable-current-element-highlight t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-enable-current-column-highlight t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-enable-css-colorization t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-comment-style 2<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf83c935" class="outline-4">
<h4 id="orgf83c935"><span class="section-number-4">12.15.3</span> csv-mode</h4>
<div class="outline-text-4" id="text-12-15-3">
<p>
mode to edit CSV files.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">csv-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:mode</span> <span style="color: #EEDC82;">"\\.csv\\'"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgad2bf8b" class="outline-4">
<h4 id="orgad2bf8b"><span class="section-number-4">12.15.4</span> taskjuggler-mode (tj3-mode)</h4>
<div class="outline-text-4" id="text-12-15-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">tj3-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> org-plus-contrib
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">ox-taskjuggler</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>custom-set-variables
   '<span style="color: #b0b1a3;">(</span>org-taskjuggler-process-command <span style="color: #EEDC82;">"/usr/local/bin/tj3 --silent --no-color --output-dir %o %f"</span><span style="color: #b0b1a3;">)</span>
   '<span style="color: #b0b1a3;">(</span>org-taskjuggler-project-tag <span style="color: #EEDC82;">"PRJ"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb3784ec" class="outline-4">
<h4 id="orgb3784ec"><span class="section-number-4">12.15.5</span> markdown-mode</h4>
<div class="outline-text-4" id="text-12-15-5">
<p>
Enough to handle my Markdown needs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">writegood-mode</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  markdown-mode

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'auto-mode-alist '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.md\\'"</span> . markdown-mode<span style="color: #b0b1a3;">)</span>
  <span style="color: #b0b1a3;">(</span>add-hook 'markdown-mode-hook
            <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">()</span>
              <span style="color: #aebed8;">(</span>visual-line-mode t<span style="color: #aebed8;">)</span>
              <span style="color: #aebed8;">(</span>writegood-mode t<span style="color: #aebed8;">)</span>
              <span style="color: #aebed8;">(</span>flyspell-mode t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org23928f0" class="outline-4">
<h4 id="org23928f0"><span class="section-number-4">12.15.6</span> python</h4>
<div class="outline-text-4" id="text-12-15-6">
<p>
Setup an IDE:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">elpy</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span>elpy-enable<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
ELPY has its own indentation mode, which is overriding the one I use globally, so disable this one:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'elpy-mode-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>highlight-indentation-mode -1<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orge6c0cc0"></a>py-autopep8<br />
<div class="outline-text-5" id="text-12-15-6-1">
<p>
Add hook to reformat python code based on pep8 spec. You need to
install <code>pip install autopep8</code> offline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  py-autopep8

  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'python-mode-hook 'py-autopep8-enable-on-save<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> py-autopep8-options '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"--max-line-length=80"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org6dc03a5"></a>py-isort<br />
<div class="outline-text-5" id="text-12-15-6-2">
<p>
Sort python import. Need to install <code>pip install isort</code> offline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  py-isort

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'before-save-hook 'py-isort-before-save<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> py-isort-options '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"-sl"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org3dfe1d4"></a>smartparens<br />
<div class="outline-text-5" id="text-12-15-6-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'python-mode-hook #'smartparens-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgae956f6" class="outline-4">
<h4 id="orgae956f6"><span class="section-number-4">12.15.7</span> javascript family: .js .ts .jsx</h4>
<div class="outline-text-4" id="text-12-15-7">
<p>
There are a couple packages for .js files.
</p>
</div>

<ol class="org-ol">
<li><a id="orgc540f4e"></a>js2-mode<br />
<div class="outline-text-5" id="text-12-15-7-1">
<p>
First, use <code>js2-mode</code> to handle <code>.js</code> and <code>.jsx</code> files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">js2-mode</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'auto-mode-alist '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.js[x]\\'"</span> . js2-mode<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'auto-mode-alist '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.ts\\'"</span> . js2-mode<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js-mode-hook #'smartparens-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org1f7cc3f"></a>prettier-js<br />
<div class="outline-text-5" id="text-12-15-7-2">
<p>
Link js2-mode to prettier to beautify my code.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">prettier-js</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> prettier-js-args '<span style="color: #b0b1a3;">(</span>
                           <span style="color: #EEDC82;">"--trailing-comma"</span> <span style="color: #EEDC82;">"es5"</span>
                           <span style="color: #EEDC82;">"--single-quote"</span> <span style="color: #EEDC82;">"false"</span>
                           <span style="color: #EEDC82;">"--print-width"</span> <span style="color: #EEDC82;">"80"</span>
                           <span style="color: #EEDC82;">"--tab-width"</span> <span style="color: #EEDC82;">"2"</span>
                           <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span><span style="color: #8C8C8C;">;</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook 'prettier-js-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org904b441"></a>js-doc<br />
<div class="outline-text-5" id="text-12-15-7-3">
<p>
Nothing is complete without a doc solution.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">js-doc</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-mail-address <span style="color: #EEDC82;">"fxia1@mycompany.com"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-author <span style="color: #b0b1a3;">(</span>format <span style="color: #EEDC82;">"Feng Xia &lt;%s&gt;"</span> js-doc-mail-address<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-url <span style="color: #EEDC82;">"http://www.mycompany.com"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-license <span style="color: #EEDC82;">"Mycompany License"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook
          #'<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
              <span style="color: #b0b1a3;">(</span>define-key js2-mode-map <span style="color: #EEDC82;">"\C-ci"</span> 'js-doc-insert-function-doc<span style="color: #b0b1a3;">)</span>
              <span style="color: #b0b1a3;">(</span>define-key js2-mode-map <span style="color: #EEDC82;">"@"</span> 'js-doc-insert-tag<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orgeac6c6a" class="outline-2">
<h2 id="orgeac6c6a"><span class="section-number-2">13</span> Org</h2>
<div class="outline-text-2" id="text-13">
<p>
Load all my org stuff, but first org-mode itself.
</p>
</div>
<div id="outline-container-org92ef7b5" class="outline-3">
<h3 id="org92ef7b5"><span class="section-number-3">13.1</span> Init</h3>
<div class="outline-text-3" id="text-13-1">
<p>
If variable <code>org-directory</code> is not set yet, map it to my home's
files. You may set this in the <code>~/.emacs</code> to another value,
e.g. <code>(setq org-directory "/ssh:fleury@machine.site.com:OrgFiles")</code>
</p>
</div>

<div id="outline-container-org4264438" class="outline-4">
<h4 id="org4264438"><span class="section-number-4">13.1.1</span> <span class="todo NEXT">NEXT</span> This does not seem to work, check out doc about <a href="https://stackoverflow.com/questions/3806423/how-can-i-get-a-variables-initial-value-in-elisp">defcustom</a></h4>
<div class="outline-text-4" id="text-13-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org</span>
  <span style="color: #FF80F4;">:ensure</span> nil
  <span style="color: #FF80F4;">:delight</span> org-mode
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-startup-indented t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b1a3;">(</span>not <span style="color: #97b098;">(</span>boundp 'org-directory<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
      <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> org-directory <span style="color: #EEDC82;">"~/org"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'org-mode-hook #'<span style="color: #b0b1a3;">(</span>lambda <span style="color: #97b098;">()</span>
                               <span style="color: #97b098;">(</span>visual-line-mode<span style="color: #97b098;">)</span>
                               <span style="color: #97b098;">(</span>org-indent-mode<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3919809" class="outline-3">
<h3 id="org3919809"><span class="section-number-3">13.2</span> Access my remote Org files directory</h3>
<div class="outline-text-3" id="text-13-2">
<p>
Let's bind this to a key, so I can open remote dirs. I suually put this in my <code>.emacs</code> as it is host- and user-specific.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/open-remote-org-dir</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>dired <span style="color: #EEDC82;">"/ssh:remote.host.com:org"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x r o"</span><span style="color: #93a8c6;">)</span> 'paf/open-remote-org-dir<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge8dd23a" class="outline-3">
<h3 id="orge8dd23a"><span class="section-number-3">13.3</span> Helper Functions / Tools found on the web / worg</h3>
<div class="outline-text-3" id="text-13-3">
</div>
<div id="outline-container-org157c41c" class="outline-4">
<h4 id="org157c41c"><span class="section-number-4">13.3.1</span> Open remote org dir</h4>
<div class="outline-text-4" id="text-13-3-1">
<p>
In your <code>.emacs</code> just add this to configure the location:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> remote-org-directory <span style="color: #EEDC82;">"/ssh:fleury@my.hostname.com:OrgFiles"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Then you can use the keyboard shortcut to open that dir.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defcustom</span> <span style="color: #FD971F;">remote-org-directory</span> <span style="color: #EEDC82;">"~/OrgFiles"</span>
  <span style="color: #EEDC82;">"Location of remove OrgFile directory, should you have one."</span>
  <span style="color: #FF80F4;">:type</span> 'string
  <span style="color: #FF80F4;">:group</span> 'paf<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/open-remote-org-directory</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>find-file remote-org-directory<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x r o"</span><span style="color: #93a8c6;">)</span> 'paf/open-remote-org-directory<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org99ab221" class="outline-4">
<h4 id="org99ab221"><span class="section-number-4">13.3.2</span> org-protocol</h4>
<div class="outline-text-4" id="text-13-3-2">
<p>
Let other tools use emacs client to interact
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">org-protocol</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org44e5c00" class="outline-4">
<h4 id="org44e5c00"><span class="section-number-4">13.3.3</span> Org-relative file function</h4>
<div class="outline-text-4" id="text-13-3-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">org-relative-file</span> <span style="color: #93a8c6;">(</span>filename<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Compute an expanded absolute file path for org files"</span>
  <span style="color: #93a8c6;">(</span>expand-file-name filename org-directory<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9d06d9e" class="outline-4">
<h4 id="org9d06d9e"><span class="section-number-4">13.3.4</span> Adjust tags on the right</h4>
<div class="outline-text-4" id="text-13-3-4">
<p>
Dynamically adjust tag position
<a href="https://orgmode.org/worg/org-hacks.html#org0560357">source on worg</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-reset-tags</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"In org-mode buffers it will reset tag position according to</span>
<span style="color: #EEDC82;">`</span><span style="color: #FF80F4;">org-tags-column</span><span style="color: #EEDC82;">'."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">and</span>
         <span style="color: #97b098;">(</span>not <span style="color: #aebed8;">(</span>string= <span style="color: #b0b0b3;">(</span>buffer-name<span style="color: #b0b0b3;">)</span> <span style="color: #EEDC82;">"*Remember*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>eql major-mode 'org-mode<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">let</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>b-m-p <span style="color: #b0b0b3;">(</span>buffer-modified-p<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">condition-case</span> nil
          <span style="color: #aebed8;">(</span><span style="color: #F92672;">save-excursion</span>
            <span style="color: #b0b0b3;">(</span>goto-char <span style="color: #90a890;">(</span>point-min<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span>command-execute 'outline-next-visible-heading<span style="color: #b0b0b3;">)</span>
            <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">disable (message) that org-set-tags generates</span>
            <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">cl-letf</span> <span style="color: #90a890;">(</span><span style="color: #a2b6da;">(</span><span style="color: #9cb6ad;">(</span>symbol-function 'message<span style="color: #9cb6ad;">)</span> #'format<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
              <span style="color: #90a890;">(</span>org-set-tags 1 t<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span>set-buffer-modified-p b-m-p<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span><span style="color: #FF6C60;">error</span> nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-now</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Right-adjust `</span><span style="color: #FF80F4;">org-tags-column</span><span style="color: #EEDC82;">' value, then reset tag position."</span>
  <span style="color: #93a8c6;">(</span>set <span style="color: #b0b1a3;">(</span>make-local-variable 'org-tags-column<span style="color: #b0b1a3;">)</span>
       <span style="color: #b0b1a3;">(</span>- <span style="color: #97b098;">(</span>- <span style="color: #aebed8;">(</span>window-width<span style="color: #aebed8;">)</span> <span style="color: #aebed8;">(</span>length org-ellipsis<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>ba/org-adjust-tags-column-reset-tags<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-maybe</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"If `</span><span style="color: #FF80F4;">ba/org-adjust-tags-column</span><span style="color: #EEDC82;">' is set to non-nil, adjust tags."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> ba/org-adjust-tags-column
    <span style="color: #b0b1a3;">(</span>ba/org-adjust-tags-column-now<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-before-save</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Tags need to be left-adjusted when saving."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> ba/org-adjust-tags-column
     <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> org-tags-column 1<span style="color: #b0b1a3;">)</span>
     <span style="color: #b0b1a3;">(</span>ba/org-adjust-tags-column-reset-tags<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-after-save</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Revert left-adjusted tag position done by before-save hook."</span>
  <span style="color: #93a8c6;">(</span>ba/org-adjust-tags-column-maybe<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-buffer-modified-p nil<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">between invoking org-refile and displaying the prompt (which</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">triggers window-configuration-change-hook) tags might adjust,</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">which invalidates the org-refile cache</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defadvice</span> <span style="color: #A6E22E;">org-refile</span> <span style="color: #93a8c6;">(</span>around org-refile-disable-adjust-tags<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Disable dynamically adjusting tags"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>ba/org-adjust-tags-column nil<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    ad-do-it<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>ad-activate 'org-refile<span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Now set it up</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> ba/org-adjust-tags-column t<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">automatically align tags on right-hand side</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">TODO(fleury): Does not seem to work as of 2017/12/18</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Seems to work again 2018/11/01</span>
<span style="color: #8c8c8c;">(</span>add-hook 'window-configuration-change-hook
          'ba/org-adjust-tags-column-maybe<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'before-save-hook 'ba/org-adjust-tags-column-before-save<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'after-save-hook 'ba/org-adjust-tags-column-after-save<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'org-agenda-mode-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
                                  <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> org-agenda-tags-column <span style="color: #97b098;">(</span>- <span style="color: #aebed8;">(</span>window-width<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org31db3ef"></a><span class="todo TODO">TODO</span> Update <code>org-set-tags-to</code><br />
<div class="outline-text-5" id="text-13-3-4-1">
<p>
<a href="https://orgmode.org/worg/doc.html#org-set-tags-to"><code>org-set-tags-to</code></a> is gone, and <code>org-set-tags</code> with &gt; 1 args is not working.
Not sure what to replace it with though&#x2026;
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgbb464d4" class="outline-4">
<h4 id="orgbb464d4"><span class="section-number-4">13.3.5</span> Preserve structure in archives</h4>
<div class="outline-text-4" id="text-13-3-5">
<p>
Make sure archiving preserves the same tree structure, including when archiving subtrees.
<a href="https://orgmode.org/worg/org-hacks.html#org4265b4c">source on worg</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">my-org-inherited-no-file-tags</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>tags <span style="color: #aebed8;">(</span>org-entry-get nil <span style="color: #EEDC82;">"ALLTAGS"</span> 'selective<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        <span style="color: #97b098;">(</span>ltags <span style="color: #aebed8;">(</span>org-entry-get nil <span style="color: #EEDC82;">"TAGS"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>mapc <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">(</span>tag<span style="color: #aebed8;">)</span>
            <span style="color: #aebed8;">(</span><span style="color: #F92672;">setq</span> tags
                  <span style="color: #b0b0b3;">(</span>replace-regexp-in-string <span style="color: #90a890;">(</span>concat tag <span style="color: #EEDC82;">":"</span><span style="color: #90a890;">)</span> <span style="color: #EEDC82;">""</span> tags<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span>append org-file-tags <span style="color: #aebed8;">(</span><span style="color: #F92672;">when</span> ltags <span style="color: #b0b0b3;">(</span>split-string ltags <span style="color: #EEDC82;">":"</span> t<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> <span style="color: #97b098;">(</span>string= <span style="color: #EEDC82;">":"</span> tags<span style="color: #97b098;">)</span> nil tags<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
This used to work, but <code>org-extract-archive-file</code> is no longer defined.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defadvice</span> <span style="color: #A6E22E;">org-archive-subtree</span>
    <span style="color: #93a8c6;">(</span>around my-org-archive-subtree-low-level activate<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>tags <span style="color: #aebed8;">(</span>my-org-inherited-no-file-tags<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        <span style="color: #97b098;">(</span>org-archive-location
         <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">save-excursion</span> <span style="color: #90a890;">(</span>org-back-to-heading<span style="color: #90a890;">)</span>
                             <span style="color: #90a890;">(</span>&gt; <span style="color: #a2b6da;">(</span>org-outline-level<span style="color: #a2b6da;">)</span> 1<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
             <span style="color: #b0b0b3;">(</span>concat <span style="color: #90a890;">(</span>car <span style="color: #a2b6da;">(</span>split-string org-archive-location <span style="color: #EEDC82;">"::"</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                     <span style="color: #EEDC82;">"::* "</span>
                     <span style="color: #90a890;">(</span>car <span style="color: #a2b6da;">(</span>org-get-outline-path<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
           org-archive-location<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    ad-do-it
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">with-current-buffer</span> <span style="color: #97b098;">(</span>find-file-noselect <span style="color: #aebed8;">(</span>org-extract-archive-file<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">save-excursion</span>
        <span style="color: #aebed8;">(</span><span style="color: #F92672;">while</span> <span style="color: #b0b0b3;">(</span>org-up-heading-safe<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span>org-set-tags tags<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8f29a84" class="outline-4">
<h4 id="org8f29a84"><span class="section-number-4">13.3.6</span> Auto-Refresh Agenda</h4>
<div class="outline-text-4" id="text-13-3-6">
<p>
Refresh org-mode agenda regularly.
<a href="https://orgmode.org/worg/org-hacks.html#orgab827a7">source on worg</a>
There are two functions that supposedly do the same.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">kiwon/org-agenda-redo-in-other-window</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Call org-agenda-redo function even in the non-agenda buffer."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>agenda-window <span style="color: #aebed8;">(</span>get-buffer-window org-agenda-buffer-name t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> agenda-window
      <span style="color: #97b098;">(</span><span style="color: #F92672;">with-selected-window</span> agenda-window <span style="color: #aebed8;">(</span>org-agenda-redo<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">update-agenda-if-visible</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>buf <span style="color: #aebed8;">(</span>get-buffer <span style="color: #EEDC82;">"*Org Agenda*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        wind<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> buf
        <span style="color: #97b098;">(</span>org-agenda-redo<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb5865a9" class="outline-4">
<h4 id="orgb5865a9"><span class="section-number-4">13.3.7</span> Display Agenda when idle</h4>
<div class="outline-text-4" id="text-13-3-7">
<p>
Show the agenda when emacs left idle.
<a href="https://orgmode.org/worg/org-hacks.html#orgaea636d">source on worg</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">jump-to-org-agenda</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>buf <span style="color: #aebed8;">(</span>get-buffer <span style="color: #EEDC82;">"*Org Agenda*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        wind<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> buf
        <span style="color: #97b098;">(</span><span style="color: #F92672;">if</span> <span style="color: #aebed8;">(</span><span style="color: #F92672;">setq</span> wind <span style="color: #b0b0b3;">(</span>get-buffer-window buf<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
            <span style="color: #aebed8;">(</span>select-window wind<span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b0b3;">(</span>called-interactively-p 'any<span style="color: #b0b0b3;">)</span>
              <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">progn</span>
                <span style="color: #90a890;">(</span>select-window <span style="color: #a2b6da;">(</span>display-buffer buf t t<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                <span style="color: #90a890;">(</span>org-fit-window-to-buffer<span style="color: #90a890;">)</span>
                <span style="color: #90a890;">(</span>org-agenda-redo<span style="color: #90a890;">)</span>
                <span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">with-selected-window</span> <span style="color: #90a890;">(</span>display-buffer buf<span style="color: #90a890;">)</span>
              <span style="color: #90a890;">(</span>org-fit-window-to-buffer<span style="color: #90a890;">)</span>
              <span style="color: #8C8C8C;">;;</span><span style="color: #8C8C8C;">(org-agenda-redo)</span>
              <span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>call-interactively 'org-agenda-list<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;;</span><span style="color: #8C8C8C;">(let ((buf (get-buffer "*Calendar*")))</span>
  <span style="color: #8C8C8C;">;;  </span><span style="color: #8C8C8C;">(unless (get-buffer-window buf)</span>
  <span style="color: #8C8C8C;">;;    </span><span style="color: #8C8C8C;">(org-agenda-goto-calendar)))</span>
  <span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd98227c" class="outline-4">
<h4 id="orgd98227c"><span class="section-number-4">13.3.8</span> Display location in agenda</h4>
<div class="outline-text-4" id="text-13-3-8">
<p>
From some help on <a href="https://emacs.stackexchange.com/questions/26249/customize-text-after-task-in-custom-org-agenda-view">this page</a> I think this could work:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/org-agenda-get-location</span><span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Gets the value of the LOCATION property"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>loc <span style="color: #aebed8;">(</span>org-entry-get <span style="color: #b0b0b3;">(</span>point<span style="color: #b0b0b3;">)</span> <span style="color: #EEDC82;">"LOCATION"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> <span style="color: #97b098;">(</span>&gt; <span style="color: #aebed8;">(</span>length loc<span style="color: #aebed8;">)</span> 0<span style="color: #97b098;">)</span>
        loc
      <span style="color: #EEDC82;">""</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Also, to set this after org-mode has loaded (<a href="https://emacs.stackexchange.com/questions/19091/how-to-set-org-agenda-prefix-format-before-org-agenda-starts">see here</a>):
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">with-eval-after-load</span> 'org-agenda
  <span style="color: #93a8c6;">(</span>add-to-list 'org-agenda-prefix-format
               '<span style="color: #b0b1a3;">(</span>agenda . <span style="color: #EEDC82;">"  %-12:c%?-12t %(paf/org-agenda-get-location)% s"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org03203b9" class="outline-4">
<h4 id="org03203b9"><span class="section-number-4">13.3.9</span> org-gtasks</h4>
<div class="outline-text-4" id="text-13-3-9">
<p>
Should follow this git repo: <a href="https://github.com/JulienMasson/org-gtasks">org-gtasks</a>
I have copied a version of the file here, it's not yet available on MELPA.
</p>

<p>
To help debug, use this before running things:
(setq request-log-level 'debug)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">request</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>load-file <span style="color: #EEDC82;">"~/Emacs/org-gtasks.el"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
I have this currently in my `~/.emacs`:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-gtasks</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span>org-gtasks-register-account
     <span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">"pascal"</span>
     <span style="color: #FF80F4;">:directory</span> <span style="color: #EEDC82;">"~/OrgFiles/GTasks/"</span>
     <span style="color: #FF80F4;">:client-id</span> <span style="color: #EEDC82;">"XXX"</span>
     <span style="color: #FF80F4;">:client-secret</span> <span style="color: #EEDC82;">"XXX"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4dfd358" class="outline-4">
<h4 id="org4dfd358"><span class="section-number-4">13.3.10</span> org-super-agenda</h4>
<div class="outline-text-4" id="text-13-3-10">
<p>
This enables a more fine-grained filtering of the agenda items.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-super-agenda</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>org-super-agenda-mode t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0a72c04" class="outline-4">
<h4 id="org0a72c04"><span class="section-number-4">13.3.11</span> org-roam</h4>
<div class="outline-text-4" id="text-13-3-11">
<p>
My cheat sheet for <code>org-roam</code>
</p>

<p>
All keys prefixed with <code>C-c n</code>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-center"><code>C-c n &lt;key&gt;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Toggle side panel</td>
<td class="org-center">l</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Find/create</td>
<td class="org-center">f</td>
</tr>

<tr>
<td class="org-left">Insert link</td>
<td class="org-center">i</td>
</tr>

<tr>
<td class="org-left">Capture</td>
<td class="org-center">c</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Graph</td>
<td class="org-center">g</td>
</tr>

<tr>
<td class="org-left">Switch to buffer</td>
<td class="org-center">b</td>
</tr>
</tbody>
</table>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-roam</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span>after-init . org-roam-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:init</span> <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-roam-directory
              <span style="color: #b0b1a3;">(</span>org-relative-file <span style="color: #EEDC82;">"OrgRoam"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> org-roam-mode-map
              <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"C-c n l"</span> . org-roam<span style="color: #97b098;">)</span>
               <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"C-c n b"</span> . org-roam-switch-to-buffer<span style="color: #97b098;">)</span>
               <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"C-c n f"</span> . org-roam-find-file<span style="color: #97b098;">)</span>
               <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"C-c n c"</span> . org-roam-capture<span style="color: #97b098;">)</span>
               <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"C-c n g"</span> . org-roam-graph<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
         <span style="color: #FF80F4;">:map</span> org-mode-map
              <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"C-c n i"</span> . org-roam-insert<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">company-org-roam</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> org-roam<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
EmacSQL will need to get its C-binary compiled, and needs supporting tools. Note that 'tcc' for Termux seems not complete enough for the job.
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">org-roam needs this binary</span>
install_pkg -x sqlite3 sqlite3
<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Make sure there is a C compiler for emacsql-sqlite</span>
<span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> -n <span style="color: #EEDC82;">"$(which cc)"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span> || install_pkg -x cc clang
</pre>
</div>
</div>
</div>

<div id="outline-container-orge017096" class="outline-4">
<h4 id="orge017096"><span class="section-number-4">13.3.12</span> org-clock-convenience</h4>
<div class="outline-text-4" id="text-13-3-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-clock-convenience</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> org-agenda-mode-map
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"&lt;S-right&gt;"</span> . org-clock-convenience-timestamp-up<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"&lt;S-left&gt;"</span> . org-clock-convenience-timestamp-down<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"["</span> . org-clock-convenience-fill-gap<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"]"</span> . org-clock-convenience-fill-gap-both<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4717b4d" class="outline-4">
<h4 id="org4717b4d"><span class="section-number-4">13.3.13</span> org-kanban</h4>
<div class="outline-text-4" id="text-13-3-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;;</span><span style="color: #8C8C8C;">(use-package org-kanban</span>
<span style="color: #8C8C8C;">;;  </span><span style="color: #8C8C8C;">:ensure t)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd7493a7" class="outline-4">
<h4 id="orgd7493a7"><span class="section-number-4">13.3.14</span> org-board</h4>
<div class="outline-text-4" id="text-13-3-14">
<p>
Archive entire sites locally with `wget`.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-board</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c o"</span><span style="color: #b0b1a3;">)</span> org-board-keymap<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
This is the needed tool used to fetch a URL's content.
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">wget used for org-board archiving.</span>
install_pkg -x wget wget
</pre>
</div>
</div>
</div>

<div id="outline-container-org36c49b7" class="outline-4">
<h4 id="org36c49b7"><span class="section-number-4">13.3.15</span> org-reveal</h4>
<div class="outline-text-4" id="text-13-3-15">
<p>
This presentation generator is still under review (by me).
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Install reveal.js</span>
<span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> -d <span style="color: #EEDC82;">"${HOME}/reveal.js"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
  <span style="color: #FF80F4;">echo</span> <span style="color: #EEDC82;">"Reveal already installed"</span>
<span style="color: #F92672;">else</span>
  <span style="color: #8c8c8c;">(</span><span style="color: #FF80F4;">cd</span> ~/ &amp;&amp; git clone https://github.com/hakimel/reveal.js.git<span style="color: #8c8c8c;">)</span>
<span style="color: #F92672;">fi</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-reveal</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> <span style="color: #93a8c6;">(</span>htmlize<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-reveal-root <span style="color: #b0b1a3;">(</span>expand-file-name <span style="color: #EEDC82;">"~/reveal.js"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">htmlize</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org962f4ef" class="outline-4">
<h4 id="org962f4ef"><span class="section-number-4">13.3.16</span> iimage (M-I)</h4>
<div class="outline-text-4" id="text-13-3-16">
<p>
Make the display of images a simple key-stroke away.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/org-toggle-iimage-in-org</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"display images in your org file"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b1a3;">(</span>face-underline-p 'org-link<span style="color: #b0b1a3;">)</span>
      <span style="color: #b0b1a3;">(</span>set-face-underline 'org-link nil<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>set-face-underline 'org-link t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>iimage-mode 'toggle<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">iimage</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'iimage-mode-image-regex-alist
               <span style="color: #b0b1a3;">(</span>cons <span style="color: #97b098;">(</span>concat <span style="color: #EEDC82;">"\\[\\[file:</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">~?"</span> iimage-mode-image-filename-regex
                             <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\\]"</span><span style="color: #97b098;">)</span>  <span style="color: #FF6C60;">1</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'org-mode-hook <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #97b098;">()</span>
                             <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">display images</span>
                             <span style="color: #97b098;">(</span>local-set-key <span style="color: #EEDC82;">"\M-I"</span> 'paf/org-toggle-iimage-in-org<span style="color: #97b098;">)</span>
                            <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc7c9df3" class="outline-4">
<h4 id="orgc7c9df3"><span class="section-number-4">13.3.17</span> Properties collector</h4>
<div class="outline-text-4" id="text-13-3-17">
<p>
Collect properties into tables. See documentation in the file.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>load-file <span style="color: #EEDC82;">"~/Emacs/org-collector.el"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaa30a03" class="outline-3">
<h3 id="orgaa30a03"><span class="section-number-3">13.4</span> My Setup</h3>
<div class="outline-text-3" id="text-13-4">
<p>
These are mostly org-config specific to me, myself and I.
</p>
</div>
<div id="outline-container-org9a3748b" class="outline-4">
<h4 id="org9a3748b"><span class="section-number-4">13.4.1</span> key mappings</h4>
<div class="outline-text-4" id="text-13-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c l"</span><span style="color: #93a8c6;">)</span> 'org-store-link<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c c"</span><span style="color: #93a8c6;">)</span> 'org-capture<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c a"</span><span style="color: #93a8c6;">)</span> 'org-agenda<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c b"</span><span style="color: #93a8c6;">)</span> 'org-iswitchb<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
            <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-&lt;up&gt;"</span><span style="color: #97b098;">)</span> 'org-move-subtree-up<span style="color: #b0b1a3;">)</span>
            <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-&lt;down&gt;"</span><span style="color: #97b098;">)</span> 'org-move-subtree-down<span style="color: #b0b1a3;">)</span>
            <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-c l"</span><span style="color: #97b098;">)</span> 'org-store-link<span style="color: #b0b1a3;">)</span>
            <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-c C-l"</span><span style="color: #97b098;">)</span> 'org-insert-link<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org8da57f9" class="outline-4">
<h4 id="org8da57f9"><span class="section-number-4">13.4.2</span> display settings</h4>
<div class="outline-text-4" id="text-13-4-2">
<p>
Some config for display. Some of these are borrowed from <a href="https://zzamboni.org/post/beautifying-org-mode-in-emacs/">here</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-hide-leading-stars t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-log-done t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-startup-indented t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-startup-folded t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-ellipsis <span style="color: #EEDC82;">"..."</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-hide-emphasis-markers t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0051077" class="outline-4">
<h4 id="org0051077"><span class="section-number-4">13.4.3</span> org-bullets</h4>
<div class="outline-text-4" id="text-13-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-bullets</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'org-mode-hook <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #97b098;">()</span> <span style="color: #97b098;">(</span>org-bullets-mode 1<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org986cd76" class="outline-4">
<h4 id="org986cd76"><span class="section-number-4">13.4.4</span> org-habit</h4>
<div class="outline-text-4" id="text-13-4-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-habit</span>
  <span style="color: #FF80F4;">:delight</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-graph-column 38<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-preceding-days 35<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-following-days 10<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-show-habits-only-for-today nil<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga99eb74" class="outline-4">
<h4 id="orga99eb74"><span class="section-number-4">13.4.5</span> bash command</h4>
<div class="outline-text-4" id="text-13-4-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-babel-sh-command <span style="color: #EEDC82;">"bash"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4faa961" class="outline-4">
<h4 id="org4faa961"><span class="section-number-4">13.4.6</span> org-clock properties</h4>
<div class="outline-text-4" id="text-13-4-6">
<p>
clock stuff into a drawer.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-clock-into-drawer t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-log-into-drawer t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-clock-int-drawer <span style="color: #EEDC82;">"CLOCK"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org937dd73" class="outline-4">
<h4 id="org937dd73"><span class="section-number-4">13.4.7</span> open first agenda file</h4>
<div class="outline-text-4" id="text-13-4-7">
<p>
F12 open the first agenda file
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">org-get-first-agenda-file</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>find-file <span style="color: #b0b1a3;">(</span>elt org-agenda-files 0<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f12<span style="color: #93a8c6;">]</span> 'org-get-first-agenda-file<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">F12 on Mac OSX displays the dashboard....</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>C-f12<span style="color: #93a8c6;">]</span> 'org-get-first-agenda-file<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org72730f5" class="outline-4">
<h4 id="org72730f5"><span class="section-number-4">13.4.8</span> org-ehtml [localhost:55555]</h4>
<div class="outline-text-4" id="text-13-4-8">
<p>
This will start serving the org files through the emacs-based webbrowser when pressing <code>M-f12</code> (on localhost:55555)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-ehtml</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-ehtml-docroot <span style="color: #b0b1a3;">(</span>expand-file-name org-directory<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-ehtml-everything-editable t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-ehtml-allow-agenda t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/start-web-server</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>ws-start org-ehtml-handler 55555<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"&lt;M-f12&gt;"</span><span style="color: #93a8c6;">)</span> 'paf/start-web-server<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org07b5b53" class="outline-4">
<h4 id="org07b5b53"><span class="section-number-4">13.4.9</span> org-link-abbrev</h4>
<div class="outline-text-4" id="text-13-4-9">
<p>
This lets one write links as e.g. [ [b:123457] ]
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-link-abbrev-alist
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"b"</span> . <span style="color: #EEDC82;">"http://b/"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"go"</span> . <span style="color: #EEDC82;">"http://go/"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"cl"</span> . <span style="color: #EEDC82;">"http://cr/"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcaffba0" class="outline-4">
<h4 id="orgcaffba0"><span class="section-number-4">13.4.10</span> org-secretary</h4>
<div class="outline-text-4" id="text-13-4-10">
<p>
This package is good, but it does not do it simply. I re-modeled it
somewhat below.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-secretary</span>
  <span style="color: #FF80F4;">:ensure</span> org-plus-contrib
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-sec-me <span style="color: #EEDC82;">"paf"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-tag-alist '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"PRJ"</span> . ?p<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESIGNDOC"</span> . ?D<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"Milestone"</span> . ?m<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESK"</span> . ?d<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"HOME"</span> . ?h<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"VC"</span> . ?v<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
This is my version of the org-secretary
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">paf-secretary</span>
  <span style="color: #FF80F4;">:load-path</span> <span style="color: #EEDC82;">"~/Emacs"</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\C-cw"</span> . paf-sec-set-with<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\C-cW"</span> . paf-sec-set-where<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\C-cj"</span> . paf-sec-tag-entry<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> paf-sec-me <span style="color: #EEDC82;">"paf"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-tag-alist '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"PRJ"</span> . ?p<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESIGNDOC"</span> . ?D<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"Milestone"</span> . ?m<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESK"</span> . ?d<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"HOME"</span> . ?h<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"VC"</span> . ?v<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8f181eb" class="outline-4">
<h4 id="org8f181eb"><span class="section-number-4">13.4.11</span> task tracking</h4>
<div class="outline-text-4" id="text-13-4-11">
<p>
Track task dependencies, and dim them in the agenda.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-enforce-todo-dependencies t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-dim-blocked-tasks 'invisible<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9d848c2" class="outline-4">
<h4 id="org9d848c2"><span class="section-number-4">13.4.12</span> effort &amp; columns mode</h4>
<div class="outline-text-4" id="text-13-4-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-global-properties
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"Effort_ALL"</span>. <span style="color: #EEDC82;">"0 0:10 0:30 1:00 2:00 4:00 8:00 16:00"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-columns-default-format
      <span style="color: #EEDC82;">"%TODO %30ITEM %3PRIORITY %6Effort{:} %10DEADLINE"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge44fe26" class="outline-4">
<h4 id="orge44fe26"><span class="section-number-4">13.4.13</span> org-todo keywords</h4>
<div class="outline-text-4" id="text-13-4-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-todo-keywords
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>sequence <span style="color: #EEDC82;">"TODO(t!)"</span> <span style="color: #EEDC82;">"NEXT(n!)"</span> <span style="color: #EEDC82;">"STARTED(s!)"</span> <span style="color: #EEDC82;">"WAITING(w!)"</span> <span style="color: #EEDC82;">"AI(a!)"</span> <span style="color: #EEDC82;">"|"</span> <span style="color: #EEDC82;">"DONE(d!)"</span> <span style="color: #EEDC82;">"CANCELLED(C@)"</span> <span style="color: #EEDC82;">"DEFERRED(D@)"</span> <span style="color: #EEDC82;">"SOMEDAY(S!)"</span> <span style="color: #EEDC82;">"FAILED(F!)"</span> <span style="color: #EEDC82;">"REFILED(R!)"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>sequence <span style="color: #EEDC82;">"APPLIED(A!)"</span> <span style="color: #EEDC82;">"WAITING(w!)"</span> <span style="color: #EEDC82;">"ACCEPTED"</span> <span style="color: #EEDC82;">"|"</span> <span style="color: #EEDC82;">"REJECTED"</span> <span style="color: #EEDC82;">"PUBLISHED"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>sequence <span style="color: #EEDC82;">"TASK(m!)"</span> <span style="color: #EEDC82;">"ACTIVE"</span> <span style="color: #EEDC82;">"|"</span> <span style="color: #EEDC82;">"DONE(d!)"</span> <span style="color: #EEDC82;">"CANCELLED(C@)"</span> <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-tags-exclude-from-inheritance '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"PRJ"</span> <span style="color: #EEDC82;">"REGULAR"</span><span style="color: #93a8c6;">)</span>
      org-use-property-inheritance '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"PRIORITY"</span><span style="color: #93a8c6;">)</span>
      org-stuck-projects '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"+PRJ/-DONE-CANCELLED"</span>
                           <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">it is considered stuck if there is no next action</span>
                           <span style="color: #b0b1a3;">(</span><span style="color: #8C8C8C;">;</span><span style="color: #8C8C8C;">"TODO"</span>
                            <span style="color: #EEDC82;">"NEXT"</span> <span style="color: #EEDC82;">"STARTED"</span> <span style="color: #EEDC82;">"TASK"</span><span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">()</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-todo-keyword-faces
      '<span style="color: #93a8c6;">(</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"TODO"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"purple"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"TASK"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"steelblue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"NEXT"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"STARTED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"green"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"WAITING"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"FLAG_GATED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"SOMEDAY"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"steelblue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"MAYBE"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"steelblue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"AI"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"NEW"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"RUNNING"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"WORKED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"green"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"FAILED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"REFILED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"gray"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">For publications</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"APPLIED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"ACCEPTED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"REJECTED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"PUBLISHED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"green"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Other stuff</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"ACTIVE"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"darkgreen"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0dbb5e3" class="outline-4">
<h4 id="org0dbb5e3"><span class="section-number-4">13.4.14</span> org-agenda</h4>
<div class="outline-text-4" id="text-13-4-14">
</div>
<ol class="org-ol">
<li><a id="orgc65dd7e"></a>views<br />
<div class="outline-text-5" id="text-13-4-14-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-custom-commands
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"t"</span> <span style="color: #EEDC82;">"Hot Today"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>agenda <span style="color: #EEDC82;">""</span> <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-agenda-span 'day<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"-with={.+}/WAITING"</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"-with={.+}+TODO=\"STARTED\""</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"/NEXT"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"T"</span> <span style="color: #EEDC82;">"Team Today"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>agenda <span style="color: #EEDC82;">""</span> <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-agenda-span 'day<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                           <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"with={.+}"</span>
                                    <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-super-agenda-groups
                                      '<span style="color: #a2b6da;">(</span><span style="color: #9cb6ad;">(</span><span style="color: #FF80F4;">:auto-property</span> <span style="color: #EEDC82;">"with"</span><span style="color: #9cb6ad;">)</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
                                    <span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"r"</span> <span style="color: #EEDC82;">"Recurring"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>tags <span style="color: #EEDC82;">"REGULAR"</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"/WAITING"</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"TODO=\"STARTED\""</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"/NEXT"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"n"</span> <span style="color: #EEDC82;">"Agenda and all TODO's"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>agenda <span style="color: #EEDC82;">""</span><span style="color: #aebed8;">)</span>
                                      <span style="color: #aebed8;">(</span>alltodo <span style="color: #EEDC82;">""</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"N"</span> <span style="color: #EEDC82;">"Next actions"</span> tags-todo <span style="color: #EEDC82;">"-dowith={.+}/!-TASK-TODO"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"h"</span> <span style="color: #EEDC82;">"Work todos"</span> tags-todo <span style="color: #EEDC82;">"-dowith={.+}/!-TASK"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"H"</span> <span style="color: #EEDC82;">"All work todos"</span> tags-todo <span style="color: #EEDC82;">"-personal/!-TASK-CANCELLED"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"A"</span> <span style="color: #EEDC82;">"Work todos with doat or dowith"</span> tags-todo
         <span style="color: #EEDC82;">"dowith={.+}/!-TASK"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>

        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"p"</span> <span style="color: #EEDC82;">"Tasks with current WITH and WHERE"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>tags-todo <span style="color: #b0b0b3;">(</span>paf-sec-replace-with-where <span style="color: #EEDC82;">"with={$WITH}"</span> <span style="color: #EEDC82;">".+"</span><span style="color: #b0b0b3;">)</span>
                     <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-agenda-overriding-header
                       <span style="color: #a2b6da;">(</span>paf-sec-replace-with-where <span style="color: #EEDC82;">"Tasks with $WITH in $WHERE"</span> <span style="color: #EEDC82;">"anyone"</span> <span style="color: #EEDC82;">"any place"</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                      <span style="color: #90a890;">(</span>org-super-agenda-groups
                       '<span style="color: #a2b6da;">(</span><span style="color: #9cb6ad;">(</span><span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">""</span> <span style="color: #FF80F4;">:pred</span> paf-sec-limit-to-with-where<span style="color: #9cb6ad;">)</span>
                         <span style="color: #9cb6ad;">(</span><span style="color: #FF80F4;">:discard</span> <span style="color: #8c8c8c;">(</span><span style="color: #FF80F4;">:anything</span> t<span style="color: #8c8c8c;">)</span><span style="color: #9cb6ad;">)</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
                     <span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"j"</span> <span style="color: #EEDC82;">"TODO dowith and TASK with"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-sec-with-view <span style="color: #EEDC82;">"TODO dowith"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-stuck-with-view <span style="color: #EEDC82;">"TALK with"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-where-view <span style="color: #EEDC82;">"TODO doat"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-assigned-with-view <span style="color: #EEDC82;">"TASK with"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-stuck-with-view <span style="color: #EEDC82;">"STUCK with"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>todo <span style="color: #EEDC82;">"STARTED"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"J"</span> <span style="color: #EEDC82;">"Interactive TODO dowith and TASK with"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-sec-who-view <span style="color: #EEDC82;">"TODO dowith"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-skip-deadline-prewarning-if-scheduled 2<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgd6cbf92"></a>delight<br />
<div class="outline-text-5" id="text-13-4-14-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>delight 'org-agenda-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org5a3eded"></a>colors and faces<br />
<div class="outline-text-5" id="text-13-4-14-3">
<p>
Make the calendar day info a bit more visible and contrasted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Faces to make the calendar more colorful.</span>
<span style="color: #8c8c8c;">(</span>custom-set-faces
 '<span style="color: #93a8c6;">(</span>org-agenda-current-time <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-time-grid <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"yellow"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-agenda-date <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-agenda-structure <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"pale green"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"black"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-agenda-date-weekend <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-agenda-date <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"light blue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org9ba4428"></a>now marker<br />
<div class="outline-text-5" id="text-13-4-14-4">
<p>
A more visible current-time marker in the agenda
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-current-time-string <span style="color: #EEDC82;">"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; NOW &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org9cecb75"></a>auto-refresh<br />
<div class="outline-text-5" id="text-13-4-14-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">will refresh it only if already visible</span>
<span style="color: #8c8c8c;">(</span>run-at-time nil 180 'update-agenda-if-visible<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;;</span><span style="color: #8C8C8C;">(add-hook 'org-mode-hook</span>
<span style="color: #8C8C8C;">;;          </span><span style="color: #8C8C8C;">(lambda () (run-at-time nil 180 'kiwon/org-agenda-redo-in-other-window)))</span>
</pre>
</div>

<p>
This would open the agenda if any org file was opened. In the end, I
don't like this feature, so it is disabled by not tangling it.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Make this happen only if we open an org file.</span>
<span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>run-with-idle-timer 600 t 'jump-to-org-agenda<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org51856ea"></a>auto-save org files when idle<br />
<div class="outline-text-5" id="text-13-4-14-6">
<p>
This will save them regularly when the idle for more than a minute.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
    <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>run-with-idle-timer 600 t 'org-save-all-org-buffers<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org568ce26"></a>export<br />
<div class="outline-text-5" id="text-13-4-14-7">
<p>
That's the export function to update the agenda view.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-exporter-settings
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>ps-number-of-columns 2<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>ps-portrait-mode t<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>org-agenda-add-entry-text-maxlines 5<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>htmlize-output-type 'font<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">dmg-org-update-agenda-file</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> force<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">save-excursion</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">save-window-excursion</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">let</span> <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>file <span style="color: #EEDC82;">"~/www/agenda/agenda.html"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span>org-agenda-list<span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span>org-agenda-write file<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org02935cf" class="outline-4">
<h4 id="org02935cf"><span class="section-number-4">13.4.15</span> org-duration</h4>
<div class="outline-text-4" id="text-13-4-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-duration</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-duration-units
        `<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"min"</span> . 1<span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"h"</span> . 60<span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"d"</span> . ,<span style="color: #aebed8;">(</span>* 60 8<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"w"</span> . ,<span style="color: #aebed8;">(</span>* 60 8 5<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"m"</span> . ,<span style="color: #aebed8;">(</span>* 60 8 5 4<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"y"</span> . ,<span style="color: #aebed8;">(</span>* 60 8 5 4 10<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>org-duration-set-regexps<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org06865e9" class="outline-4">
<h4 id="org06865e9"><span class="section-number-4">13.4.16</span> Capture &amp; refile</h4>
<div class="outline-text-4" id="text-13-4-16">
<p>
Capture and refile stuff, with some templates that I think are useful.
</p>

<p>
Very nice post on how to get capture templats from a file: <a href="https://joshrollinswrites.com/help-desk-head-desk/org-capture-in-files/">Org-capture
in Files</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-default-notes-file <span style="color: #93a8c6;">(</span>org-relative-file <span style="color: #EEDC82;">"Inbox.org"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-capture-templates
      `<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"t"</span> <span style="color: #EEDC82;">"Task"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"Inbox.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Tasks"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* TODO %?\n%U\n\n%x"</span>
         <span style="color: #FF80F4;">:clock-resume</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"i"</span> <span style="color: #EEDC82;">"Idea"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"Inbox.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Ideas"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* SOMEDAY %?\n%U\n\n%x"</span>
         <span style="color: #FF80F4;">:clock-resume</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"m"</span> <span style="color: #EEDC82;">"Meeting"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"Inbox.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Meetings"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* %?  :MTG:\n%U\n%^{with}p"</span>
         <span style="color: #FF80F4;">:clock-in</span> t
         <span style="color: #FF80F4;">:clock-resume</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"s"</span> <span style="color: #EEDC82;">"Stand-up"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"Inbox.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Meetings"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* Stand-up  :MTG:\n%U\n\n%?"</span>
         <span style="color: #FF80F4;">:clock-in</span> t
         <span style="color: #FF80F4;">:clock-resume</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"1"</span> <span style="color: #EEDC82;">"1:1"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"Inbox.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Meetings"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* 1:1 %^{With}  :MTG:\n%U\n:PROPERTIES:\n:with: %\\1\n:END:\n\n%?"</span>
         <span style="color: #FF80F4;">:clock-in</span> t
         <span style="color: #FF80F4;">:clock-resume</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"p"</span> <span style="color: #EEDC82;">"Talking Point"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"refile.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Talking Points"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* %?  :TALK:\n%U\n%^{dowith}p"</span>
         <span style="color: #FF80F4;">:clock-keep</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"j"</span> <span style="color: #EEDC82;">"Journal"</span>
         entry <span style="color: #97b098;">(</span>file+olp+datetree ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"journal.org"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* %?\n%U"</span>
         <span style="color: #FF80F4;">:clock-in</span> t
         <span style="color: #FF80F4;">:clock-resume</span> t
         <span style="color: #FF80F4;">:kill-buffer</span> t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">show up to 2 levels for refile targets, in all agenda files</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-refile-targets '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>org-agenda-files . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:maxlevel</span> . 2<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-log-refile t<span style="color: #8c8c8c;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">will add timestamp when refiled.</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">from: http://doc.norang.ca/org-mode.html</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Exclude DONE state tasks from refile targets</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">bh/verify-refile-target</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Exclude todo keywords with a done state from refile targets"</span>
  <span style="color: #93a8c6;">(</span>not <span style="color: #b0b1a3;">(</span>member <span style="color: #97b098;">(</span>nth 2 <span style="color: #aebed8;">(</span>org-heading-components<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span> org-done-keywords<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-refile-target-verify-function 'bh/verify-refile-target<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3fb0e80" class="outline-4">
<h4 id="org3fb0e80"><span class="section-number-4">13.4.17</span> OrgRoam templates</h4>
<div class="outline-text-4" id="text-13-4-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-roam-capture-templates
      `<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"m"</span> <span style="color: #EEDC82;">"Meeting"</span> entry <span style="color: #97b098;">(</span><span style="color: #F92672;">function</span> org-roam--capture-get-point<span style="color: #97b098;">)</span>
             <span style="color: #EEDC82;">"* %?\n%U\n%^{with}\n"</span>
             <span style="color: #FF80F4;">:file-name</span> <span style="color: #EEDC82;">"meeting/%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
             <span style="color: #FF80F4;">:head</span> <span style="color: #EEDC82;">"#+title: ${title}\n#+roam_tags: %^{with}\n\n"</span>
             <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org0728616" class="outline-4">
<h4 id="org0728616"><span class="section-number-4">13.4.18</span> org-babel</h4>
<div class="outline-text-4" id="text-13-4-18">
<p>
What kind of code block languages do I need
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-confirm-babel-evaluate 'nil<span style="color: #8c8c8c;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #8C8C8C;">Don't ask before executing</span>

<span style="color: #8c8c8c;">(</span>org-babel-do-load-languages
 'org-babel-load-languages
 '<span style="color: #93a8c6;">(</span>
   <span style="color: #b0b1a3;">(</span>R . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>dot . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>emacs-lisp . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>gnuplot . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>python . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>ledger . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #8C8C8C;">;;</span><span style="color: #8C8C8C;">(sh . t)</span>
   <span style="color: #b0b1a3;">(</span>latex . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>shell . t<span style="color: #b0b1a3;">)</span>
  <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4ea0fb0" class="outline-4">
<h4 id="org4ea0fb0"><span class="section-number-4">13.4.19</span> org-export</h4>
<div class="outline-text-4" id="text-13-4-19">
<p>
Add a few formats to the export functionality of org-mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-odt</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-taskjuggler</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-impress-js</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfd3ade0" class="outline-4">
<h4 id="orgfd3ade0"><span class="section-number-4">13.4.20</span> plant-uml</h4>
<div class="outline-text-4" id="text-13-4-20">
<p>
Tell where PlantUML is to be found. This needs to be downloaded and
installed separately, see the <a href="http://plantuml.com/">PlantUML website</a>.
</p>

<p>
You could install the PlantUML JAR file with this snippet:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">Get a version of the PlantUML jar file.</span>
install_pkg -x wget wget

<span style="color: #FD971F;">URL</span>=<span style="color: #EEDC82;">'http://sourceforge.net/projects/plantuml/files/plantuml.jar/download'</span>
<span style="color: #FD971F;">DIR</span>=<span style="color: #EEDC82;">"${HOME}/Emacs"</span>
<span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> <span style="color: #FF6C60;">!</span> -e <span style="color: #EEDC82;">"${DIR}/plantuml.jar"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
    <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> -d <span style="color: #EEDC82;">"${DIR}"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span> || mkdir -p <span style="color: #EEDC82;">"${DIR}"</span>
    <span style="color: #8c8c8c;">(</span><span style="color: #FF80F4;">cd</span> <span style="color: #EEDC82;">"${DIR}"</span> &amp;&amp; wget -O plantuml.jar <span style="color: #EEDC82;">"${URL}"</span><span style="color: #8c8c8c;">)</span>
    ls -l <span style="color: #EEDC82;">"${DIR}/plantuml.jar"</span>
<span style="color: #F92672;">fi</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">plantuml-mode</span>
 <span style="color: #FF80F4;">:ensure</span> t
 <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> plantuml-jar-path <span style="color: #EEDC82;">"~/workspace/me/myblog/content/downloads/plantuml.jar"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-plantuml-jar-path <span style="color: #EEDC82;">"~/workspace/me/myblog/content/downloads/plantuml.jar"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Let us edit PlantUML snippets in plantuml-mode within orgmode</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'org-src-lang-modes '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"plantuml"</span> . plantuml<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">make it load this language (for export ?)</span>
  <span style="color: #93a8c6;">(</span>org-babel-do-load-languages 'org-babel-load-languages '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>plantuml . t<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Enable plantuml-mode for PlantUML files</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'auto-mode-alist '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.plantuml\\'"</span> . plantuml-mode<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4e9cc00" class="outline-4">
<h4 id="org4e9cc00"><span class="section-number-4">13.4.21</span> PDF-Tools</h4>
<div class="outline-text-4" id="text-13-4-21">
<p>
A bit difficult to find the docs of how to use it, but it seems quite
useful.
</p>

<p>
Disabled, as it causes only trouble to me, and I am not really using
it anyway.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">pdf-tools</span>
  <span style="color: #FF80F4;">:if</span> <span style="color: #93a8c6;">(</span><span style="color: #F92672;">and</span> <span style="color: #b0b1a3;">(</span>eq system-type 'gnu/linux<span style="color: #b0b1a3;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Set it up on Linux</span>
           <span style="color: #b0b1a3;">(</span>not <span style="color: #97b098;">(</span>string-prefix-p <span style="color: #EEDC82;">"aarch64"</span> system-configuration<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">but not mobile devices</span>
  <span style="color: #FF80F4;">:pin</span> manual  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">update only manually</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">initialize</span>
  <span style="color: #93a8c6;">(</span>pdf-tools-install<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-default</span> pdf-view-display-size 'fit-page<span style="color: #93a8c6;">)</span>           <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">Fit to page when opening</span>
  <span style="color: #93a8c6;">(</span>add-hook 'pdf-view-mode-hook <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #97b098;">()</span> <span style="color: #97b098;">(</span>cua-mode 0<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">turn off cua so copy works</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> pdf-view-resize-factor 1.1<span style="color: #93a8c6;">)</span>                        <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">more fine-grained zoom control</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">keyboard shortcuts</span>
  <span style="color: #93a8c6;">(</span>define-key pdf-view-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"h"</span><span style="color: #b0b1a3;">)</span> 'pdf-annot-add-highlight-markup-annotation<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>define-key pdf-view-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"t"</span><span style="color: #b0b1a3;">)</span> 'pdf-annot-add-text-annotation<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>define-key pdf-view-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"D"</span><span style="color: #b0b1a3;">)</span> 'pdf-annot-delete<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-pdfview</span>
  <span style="color: #FF80F4;">:after</span> <span style="color: #93a8c6;">(</span>pdf-tools<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'org-file-apps '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.pdf\\'"</span> . org-pdfview-open<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'org-file-apps '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.pdf::</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">[[:digit:]]+</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\\'"</span> . org-pdfview-open<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">For all the native apps related to PDF tools</span>
<span style="color: #8C8C8C;"># </span><span style="color: #8C8C8C;">I did not sintall it on Max OSX yet.</span>
<span style="color: #F92672;">if</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span> <span style="color: #EEDC82;">"$(uname)"</span> != <span style="color: #EEDC82;">"Darwin"</span> <span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">]</span>; <span style="color: #F92672;">then</span>
  install_pkg pdf-tools
<span style="color: #F92672;">fi</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfd902da" class="outline-4">
<h4 id="orgfd902da"><span class="section-number-4">13.4.22</span> yankpad</h4>
<div class="outline-text-4" id="text-13-4-22">
<p>
Check out the <a href="https://kungsgeten.github.io/yankpad.html">blog post</a> (and the <a href="https://kungsgeten.github.io/yankpad13.html">follow-up</a>) and the <a href="https://github.com/Kungsgeten/yankpad">package docs</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">yankpad</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> yankpad-file <span style="color: #b0b1a3;">(</span>org-relative-file <span style="color: #EEDC82;">"yankpad.org"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">bind-key</span> <span style="color: #EEDC82;">"C-M-x y m"</span> 'yankpad-map<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">bind-key</span> <span style="color: #EEDC82;">"C-M-x y e"</span> 'yankpad-expand<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e6f789" class="outline-4">
<h4 id="org2e6f789"><span class="section-number-4">13.4.23</span> <a href="https://www.eliasstorms.net/zetteldeft/">Zetteldeft</a></h4>
<div class="outline-text-4" id="text-13-4-23">
<p>
This is a note-taking packages inspired by the principles of the
<a href="https://zettelkasten.de/">Zettelkasten</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">deft</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">avy</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">zetteldeft</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> <span style="color: #93a8c6;">(</span>org deft avy<span style="color: #93a8c6;">)</span>

  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> deft-extensions '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"org"</span> <span style="color: #EEDC82;">"md"</span> <span style="color: #EEDC82;">"txt"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> deft-directory <span style="color: #b0b1a3;">(</span>org-relative-file <span style="color: #EEDC82;">"Zettelkasten"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> deft-recursive t<span style="color: #93a8c6;">)</span>

  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z d"</span> . deft<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z D"</span> . zetteldeft-deft-new-search<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z R"</span> . deft-refresh<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z s"</span> . zetteldeft-search-at-point<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z c"</span> . zetteldeft-search-current-id<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z f"</span> . zetteldeft-follow-link<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z F"</span> . zetteldeft-avy-file-search-ace-window<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z l"</span> . zetteldeft-avy-link-search<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z t"</span> . zetteldeft-avy-tag-search<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z T"</span> . zetteldeft-tag-buffer<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z i"</span> . zetteldeft-find-file-id-insert<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z I"</span> . zetteldeft-find-file-full-title-insert<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z o"</span> . zetteldeft-find-file<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z n"</span> . zetteldeft-new-file<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z N"</span> . zetteldeft-new-file-and-link<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z r"</span> . zetteldeft-file-rename<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Update the version by downloading the latest version here:
</p>

<div class="org-src-container">
<pre class="src src-bash">wget https://raw.githubusercontent.com/EFLS/zetteldeft/master/zetteldeft.el -O ~/Emacs/zetteldeft.el
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf281861" class="outline-4">
<h4 id="orgf281861"><span class="section-number-4">13.4.24</span> reload org</h4>
<div class="outline-text-4" id="text-13-4-24">
<p>
Ran into a <a href="https://github.com/seagle0128/.emacs.d/issues/129">strange error</a>, and reloading org at the end is the
solution:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>org-reload<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org801b06f" class="outline-2">
<h2 id="org801b06f"><span class="section-number-2">14</span> Write chinese</h2>
<div class="outline-text-2" id="text-14">
<p>
I have been using this one w/ reasonable success.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">pyim</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:defer</span> 10
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#28608;&#27963; basedict &#25340;&#38899;&#35789;&#24211;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">pyim-basedict</span>
    <span style="color: #FF80F4;">:ensure</span> nil
    <span style="color: #FF80F4;">:config</span> <span style="color: #b0b1a3;">(</span>pyim-basedict-enable<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#20116;&#31508;&#29992;&#25143;&#20351;&#29992; wbdict &#35789;&#24211;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">(use-package pyim-wbdict</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #8C8C8C;">:ensure nil</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #8C8C8C;">:config (pyim-wbdict-gbk-enable))</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> default-input-method <span style="color: #EEDC82;">"pyim"</span><span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#25105;&#20351;&#29992;&#20840;&#25340;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> pyim-default-scheme 'quanpin<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#35774;&#32622; pyim &#25506;&#38024;&#35774;&#32622;&#65292;&#36825;&#26159; pyim &#39640;&#32423;&#21151;&#33021;&#35774;&#32622;&#65292;&#21487;&#20197;&#23454;&#29616; *&#26080;&#30171;* &#20013;&#33521;&#25991;&#20999;&#25442; :-)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#25105;&#33258;&#24049;&#20351;&#29992;&#30340;&#20013;&#33521;&#25991;&#21160;&#24577;&#20999;&#25442;&#35268;&#21017;&#26159;&#65306;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">1. &#20809;&#26631;&#21482;&#26377;&#22312;&#27880;&#37322;&#37324;&#38754;&#26102;&#65292;&#25165;&#21487;&#20197;&#36755;&#20837;&#20013;&#25991;&#12290;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">2. &#20809;&#26631;&#21069;&#26159;&#27721;&#23383;&#23383;&#31526;&#26102;&#65292;&#25165;&#33021;&#36755;&#20837;&#20013;&#25991;&#12290;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">3. &#20351;&#29992; M-j &#24555;&#25463;&#38190;&#65292;&#24378;&#21046;&#23558;&#20809;&#26631;&#21069;&#30340;&#25340;&#38899;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026;&#20013;&#25991;&#12290;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-default</span> pyim-english-input-switch-functions
                '<span style="color: #b0b1a3;">(</span>pyim-probe-dynamic-english
                  pyim-probe-isearch-mode
                  pyim-probe-program-mode
                  pyim-probe-org-structure-template<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-default</span> pyim-punctuation-half-width-functions
                '<span style="color: #b0b1a3;">(</span>pyim-probe-punctuation-line-beginning
                  pyim-probe-punctuation-after-punctuation<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#24320;&#21551;&#25340;&#38899;&#25628;&#32034;&#21151;&#33021;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">(pyim-isearch-mode 1)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#20351;&#29992; pupup-el &#26469;&#32472;&#21046;&#36873;&#35789;&#26694;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> pyim-page-tooltip 'popup<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#36873;&#35789;&#26694;&#26174;&#31034;5&#20010;&#20505;&#36873;&#35789;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> pyim-page-length 5<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">&#35753; Emacs &#21551;&#21160;&#26102;&#33258;&#21160;&#21152;&#36733; pyim &#35789;&#24211;</span>
  <span style="color: #93a8c6;">(</span>add-hook 'emacs-startup-hook
            #'<span style="color: #b0b1a3;">(</span>lambda <span style="color: #97b098;">()</span> <span style="color: #97b098;">(</span>pyim-restart-1 t<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span>
  <span style="color: #93a8c6;">(</span><span style="color: #8C8C8C;">;</span><span style="color: #8C8C8C;">&#19982; pyim-probe-dynamic-english &#37197;&#21512;</span>
  <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-j"</span> . pyim-convert-code-at-point<span style="color: #b0b1a3;">)</span>

   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-;"</span> . pyim-delete-word-from-personal-buffer<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
   <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> default-input-method <span style="color: #EEDC82;">"pyim"</span><span style="color: #8c8c8c;">)</span>
   <span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-\\"</span><span style="color: #93a8c6;">)</span> 'toggle-input-method<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org179d8eb" class="outline-2">
<h2 id="org179d8eb"><span class="section-number-2">15</span> Office stuff</h2>
<div class="outline-text-2" id="text-15">
<p>
Using emacs in a corporate env can be daunting.
</p>
</div>

<div id="outline-container-org07a08f8" class="outline-3">
<h3 id="org07a08f8"><span class="section-number-3">15.1</span> mu4e email</h3>
<div class="outline-text-3" id="text-15-1">
<p>
mu4e only a emac client. The workhorse are davmail, isync and mu. You need to install these offline and hook them up using the config below.
</p>
</div>

<div id="outline-container-org6ac7947" class="outline-4">
<h4 id="org6ac7947"><span class="section-number-4">15.1.1</span> install &amp; minimal setup</h4>
<div class="outline-text-4" id="text-15-1-1">
<p>
First thing first, load the package. As you can see, I have used <code>apt-get</code> install mu4e.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list 'load-path <span style="color: #EEDC82;">"/usr/share/emacs/site-lisp/mu4e/"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">mu4e</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Then we load <code>maildirs-extension</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">mu4e-maildirs-extension</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>mu4e-maildirs-extension<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Now, we tell emacs I want to use <code>mu4e</code> as email client:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mail-user-agent 'mu4e-user-agent<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Link to a couple modes to help me writing good emails:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'mu4e-compose-mode-hook
              <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
                <span style="color: #b0b1a3;">(</span>visual-line-mode t<span style="color: #b0b1a3;">)</span>
                <span style="color: #b0b1a3;">(</span>writegood-mode t<span style="color: #b0b1a3;">)</span>
                <span style="color: #b0b1a3;">(</span>flyspell-mode t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3e32ade" class="outline-4">
<h4 id="org3e32ade"><span class="section-number-4">15.1.2</span> how to get mails</h4>
<div class="outline-text-4" id="text-15-1-2">
<p>
Setup location of my maildir.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-maildir <span style="color: #93a8c6;">(</span>expand-file-name <span style="color: #EEDC82;">"~/Maildir"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Sync email by calling <code>mbsync</code>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-get-mail-command <span style="color: #EEDC82;">"mbsync -a"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
How often should I check? Value in seconds:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-update-interval 600<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Setup some common folders:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-drafts-folder <span style="color: #EEDC82;">"/drafts"</span>
      mu4e-sent-folder   <span style="color: #EEDC82;">"/sent"</span>
      mu4e-trash-folder  <span style="color: #EEDC82;">"/trash"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Setup some shortcuts as bookmarks:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list
 'mu4e-bookmarks
 '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"flag:attach"</span>
   <span style="color: #EEDC82;">"Messages with attachment"</span>
   ?a<span style="color: #93a8c6;">)</span> <span style="color: #FF6C60;">t</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-to-list
 'mu4e-bookmarks
 '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"size:5M..500M"</span>
   <span style="color: #EEDC82;">"Big messages"</span>
   ?b<span style="color: #93a8c6;">)</span> <span style="color: #FF6C60;">t</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-to-list
 'mu4e-bookmarks
 '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"flag:flagged"</span>
   <span style="color: #EEDC82;">"Flagged messages"</span>
   ?f<span style="color: #93a8c6;">)</span> <span style="color: #FF6C60;">t</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcca6c5d" class="outline-4">
<h4 id="orgcca6c5d"><span class="section-number-4">15.1.3</span> list view</h4>
<div class="outline-text-4" id="text-15-1-3">
<p>
Customize the list view header:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-headers-date-format <span style="color: #EEDC82;">"%b-%d %a"</span>
      mu4e-headers-fields '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:date</span> . 10<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:flags</span> . 5<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:recipnum</span> . 3<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:from-or-to</span> . 10<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:thread-subject</span> . nil<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Skip duplicates:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-headers-skip-duplicates t<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Showing related in a tree fashion so I know the context:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-headers-include-related t<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Here is a fun one. I noticed that the email thread grows like that greedy snake game, a pretty good sign that the team is malfunctioning :) So we add a displayed number on the number of recipients, and just watch it grow:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list 'mu4e-header-info-custom
             '<span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:recipnum</span> .
                         <span style="color: #b0b1a3;">(</span> <span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">"Number of recipients"</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">long name, as seen in the message-view</span>
                                 <span style="color: #FF80F4;">:shortname</span> <span style="color: #EEDC82;">"R#"</span>           <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">short name, as seen in the headers view</span>
                                 <span style="color: #FF80F4;">:help</span> <span style="color: #EEDC82;">"Number of recipients for this message"</span> <span style="color: #8C8C8C;">;; </span><span style="color: #8C8C8C;">tooltip</span>
                                 <span style="color: #FF80F4;">:function</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">(</span>msg<span style="color: #aebed8;">)</span>
                                             <span style="color: #aebed8;">(</span>format <span style="color: #EEDC82;">"%d"</span>
                                                     <span style="color: #b0b0b3;">(</span>+ <span style="color: #90a890;">(</span>length <span style="color: #a2b6da;">(</span>mu4e-message-field msg <span style="color: #FF80F4;">:to</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                                                        <span style="color: #90a890;">(</span>length <span style="color: #a2b6da;">(</span>mu4e-message-field msg <span style="color: #FF80F4;">:cc</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org00d2af3" class="outline-4">
<h4 id="org00d2af3"><span class="section-number-4">15.1.4</span> read &amp; attachment</h4>
<div class="outline-text-4" id="text-15-1-4">
<p>
Save attachment to:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-attachment-dir <span style="color: #EEDC82;">"~/Downloads"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
To open HTML in browser:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list 'mu4e-view-actions
             '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"ViewInBrowser"</span> . mu4e-action-view-in-browser<span style="color: #93a8c6;">)</span>
             t<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Attempt to show images when viewing messages:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-view-show-images t<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Use imagemagick, if available:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> <span style="color: #93a8c6;">(</span>fboundp 'imagemagick-register-types<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>imagemagick-register-types<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb902de7" class="outline-4">
<h4 id="orgb902de7"><span class="section-number-4">15.1.5</span> write new</h4>
<div class="outline-text-4" id="text-15-1-5">
<p>
My signature line:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-compose-signature
      <span style="color: #93a8c6;">(</span>concat
       <span style="color: #EEDC82;">"Best regards,\n\n"</span>
       <span style="color: #EEDC82;">"Feng Xia\n"</span>
       <span style="color: #EEDC82;">"W: http://www.mycompany.com\n"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd2058dc" class="outline-4">
<h4 id="orgd2058dc"><span class="section-number-4">15.1.6</span> send</h4>
<div class="outline-text-4" id="text-15-1-6">
<p>
Sending email is to use SMTP. Here I'm showing to use the company one
through <code>davmail</code> which runs smtp listen on port <code>1025</code>. You can also
use Gmail/hotmail:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">smtpmail</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> send-mail-function 'smtpmail-send-it
        user-mail-address <span style="color: #EEDC82;">"fxia1@mycompany.com"</span>
        smtpmail-debug-info t
        smtpmail-smtp-user <span style="color: #EEDC82;">"fxia1@mycompany.com"</span>
        smtpmail-default-smtp-server <span style="color: #EEDC82;">"localhost"</span>
        smtpmail-auth-credentials <span style="color: #b0b1a3;">(</span>expand-file-name <span style="color: #EEDC82;">"~/.authinfo"</span><span style="color: #b0b1a3;">)</span>
        smtpmail-smtp-service 1025
        smtpmail-stream-type nil
        starttls-use-gnutls nil
        starttls-extra-arguments nil<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
There is a toggle where you can queue the sending email first instead
of sending to server immediately. This is useful for travel when you
just write, then queue, then when reconnected to the internect, send.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> smtpmail-queue-mail nil
      smtpmail-queue-dir <span style="color: #EEDC82;">"~/Maildir/queue/cur"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9f9b451" class="outline-4">
<h4 id="org9f9b451"><span class="section-number-4">15.1.7</span> reply</h4>
<div class="outline-text-4" id="text-15-1-7">
<p>
When replying an email, auto fill in my info:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-compose-reply-to-address <span style="color: #EEDC82;">"fxia1@mycompany.com"</span>
      user-mail-address <span style="color: #EEDC82;">"fxia1@mycompany.com"</span>
      user-full-name <span style="color: #EEDC82;">"Feng Xia"</span>
      message-signature  <span style="color: #93a8c6;">(</span>concat
                          <span style="color: #EEDC82;">"Feng Xia\n"</span>
                          <span style="color: #EEDC82;">"http://snapshots.world.s3-website.ap-northeast-2.amazonaws.com/\n"</span><span style="color: #93a8c6;">)</span>
      message-citation-line-format <span style="color: #EEDC82;">"On %Y-%m-%d %H:%M:%S, %f wrote:"</span>
      message-citation-line-function 'message-insert-formatted-citation-line
      mu4e-headers-results-limit 500<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfcfa024" class="outline-4">
<h4 id="orgfcfa024"><span class="section-number-4">15.1.8</span> kill all buffer upon exit</h4>
<div class="outline-text-4" id="text-15-1-8">
<p>
mu4e can open a lot of writing buffers. Just kill them all when we exit mu4e:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> message-kill-buffer-on-exit t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org615eff9" class="outline-4">
<h4 id="org615eff9"><span class="section-number-4">15.1.9</span> write html</h4>
<div class="outline-text-4" id="text-15-1-9">
<p>
Emacs doesn't like html email body. Nor do I. But one thing I found
out is that markdown mode table will look terrible as plain text on
receiving end. There are a couple ways to work around.
</p>
</div>

<ol class="org-ol">
<li><a id="org9d4af6a"></a>write in org<br />
<div class="outline-text-5" id="text-15-1-9-1">
<p>
So we now write email in org mode, then call <code>M-x org-mime-htmlize</code> to
convert either the whole buffer or a region to html before sending:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-mime</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-mime-export-ascii 'utf-8<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org1e41bf5"></a>write in markdown<br />
<div class="outline-text-5" id="text-15-1-9-2">
<p>
How about writing it in markdown? You don't need to do much. Switch to
<code>markdown-mode</code> to write, then switch back to <code>mu4e-compose-mode</code> and
then <code>C-c C-c</code> to send:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">multipart-html-message</span> <span style="color: #93a8c6;">(</span>plain html<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Creates a multipart HTML email with a text part and an html part."</span>
  <span style="color: #93a8c6;">(</span>concat <span style="color: #EEDC82;">"&lt;#multipart type=alternative&gt;\n"</span>
          <span style="color: #EEDC82;">"&lt;#part type=text/plain&gt;"</span>
          plain
          <span style="color: #EEDC82;">"&lt;#part type=text/html&gt;\n"</span>
          html
          <span style="color: #EEDC82;">"&lt;#/multipart&gt;\n"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">convert-message-to-markdown</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Convert the message in the current buffer to a multipart HTML email.</span>

<span style="color: #EEDC82;">The HTML is rendered by treating the message content as Markdown."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">unless</span> <span style="color: #b0b1a3;">(</span>executable-find <span style="color: #EEDC82;">"pandoc"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #FF6C60;">error</span> <span style="color: #EEDC82;">"Pandoc not found, unable to convert message"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let*</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>begin
          <span style="color: #aebed8;">(</span><span style="color: #F92672;">save-excursion</span>
            <span style="color: #b0b0b3;">(</span>goto-char <span style="color: #90a890;">(</span>point-min<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span>search-forward mail-header-separator<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>end <span style="color: #aebed8;">(</span>point-max<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>html-buf <span style="color: #aebed8;">(</span>generate-new-buffer <span style="color: #EEDC82;">"*mail-md-output*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>exit-code
          <span style="color: #aebed8;">(</span>call-process-region begin end <span style="color: #EEDC82;">"pandoc"</span> nil html-buf nil
                               <span style="color: #EEDC82;">"--quiet"</span> <span style="color: #EEDC82;">"-f"</span> <span style="color: #EEDC82;">"gfm"</span> <span style="color: #EEDC82;">"-t"</span> <span style="color: #EEDC82;">"html"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>html <span style="color: #aebed8;">(</span>format <span style="color: #EEDC82;">"&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n%s\n&lt;/body&gt;&lt;/html&gt;\n"</span>
                <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">with-current-buffer</span> html-buf
                  <span style="color: #90a890;">(</span>buffer-substring <span style="color: #a2b6da;">(</span>point-min<span style="color: #a2b6da;">)</span> <span style="color: #a2b6da;">(</span>point-max<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>raw-body <span style="color: #aebed8;">(</span>buffer-substring begin end<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> <span style="color: #97b098;">(</span>not <span style="color: #aebed8;">(</span>= exit-code 0<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #FF6C60;">error</span> <span style="color: #EEDC82;">"Markdown conversion failed, see %s"</span> <span style="color: #aebed8;">(</span>buffer-name html-buf<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">with-current-buffer</span> html-buf
      <span style="color: #97b098;">(</span>set-buffer-modified-p nil<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>kill-buffer<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>undo-boundary<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>delete-region begin end<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">save-excursion</span>
      <span style="color: #97b098;">(</span>goto-char begin<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>newline<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>insert <span style="color: #aebed8;">(</span>multipart-html-message raw-body html<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">message-md-send</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> arg<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Convert the current buffer and send it.</span>
<span style="color: #EEDC82;">If given prefix arg ARG, skips markdown conversion."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"P"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">unless</span> arg
    <span style="color: #b0b1a3;">(</span>convert-message-to-markdown<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>message-send<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">message-md-send-and-exit</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> arg<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Convert the current buffer and send it, then exit from mail buffer.</span>
<span style="color: #EEDC82;">If given prefix arg ARG, skips markdown conversion."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"P"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">unless</span> arg
    <span style="color: #b0b1a3;">(</span>convert-message-to-markdown<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>message-send-and-exit<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">with-eval-after-load</span> 'message
 <span style="color: #93a8c6;">(</span>define-key message-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c C-s"</span><span style="color: #b0b1a3;">)</span> #'message-md-send<span style="color: #93a8c6;">)</span>
 <span style="color: #93a8c6;">(</span>define-key message-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c C-c"</span><span style="color: #b0b1a3;">)</span> #'message-md-send-and-exit<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgfcb7d9f" class="outline-2">
<h2 id="orgfcb7d9f"><span class="section-number-2">16</span> Hobbies</h2>
<div class="outline-text-2" id="text-16">
</div>
<div id="outline-container-org87e706c" class="outline-3">
<h3 id="org87e706c"><span class="section-number-3">16.1</span> elfeed</h3>
<div class="outline-text-3" id="text-16-1">
<p>
Read news:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">elfeed</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> elfeed-feeds
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"http://rss.slashdot.org/Slashdot/slashdotMain"</span> dev<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"https://fengxia41103.github.io/myblog/feeds/all.atom.xml"</span> me<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"https://www.reddit.com/r/aww+jokes.rss"</span> fun<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">elfeed-goodies</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>elfeed-goodies/setup<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Pascal Fleury</p>
<p class="date">Created: 2020-11-23 Mon 18:17</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
