<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta
      name="viewport"
      content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"
    />

    <meta name="description" content="" />
    <meta name="author" content="" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/monokai-sublime.min.css" integrity="sha512-ade8vHOXH67Cm9z/U2vBpckPD1Enhdxl3N05ChXyFx5xikfqggrK4RrEele+VWY/iaZyfk7Bhk6CyZvlh7+5JQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css"
    />

    <link rel="stylesheet" href="https://fengxia41103.github.io/myblog/theme/css/my.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
            integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>



    <title>Be Care Free</title>
  </head>

  <body>
    <header id="mypage-index">
      <a href="https://fengxia41103.github.io/myblog/">Be Care Free </a>

      <a href="https://fengxia41103.github.io/myblog/about.html"> . About </a>
      <a href="https://fengxia41103.github.io/myblog/lei.html"> . 夏雷 </a>
      <a href="https://fengxia41103.github.io/myblog/project euler.html"> . Project Euler </a>
      <a href="https://fengxia41103.github.io/myblog/quote.html"> . Quote </a>
      <a href="https://fengxia41103.github.io/myblog/resume.html"> . Resum&eacute; </a>
      <a href="https://fengxia41103.github.io/myblog/search.html"> . Search </a>
      <a href="https://fengxia41103.github.io/myblog/slides.html"> . Impression </a>
    </header>
    <!-- end of block navbar -->

    <div class="split-screen">
      <div class="split-left-pane">
<!-- <video autoplay muted loop id="myVideo">
     <source src="downloads/polina.mp4" type="video/mp4" />}
     </video>
-->
      </div>

      <div class="split-right-pane">
        <div id="content" class="container">
<article>
   <div>
    <i class="fa fa-calendar" style="opacity: 0.5">&nbsp;</i>
    2023-08-29


    <a class="wave-effect" href="dev.html">
      <i class="fa fa-folder-open-o"></i>
      dev
    </a>


    <h1 class="myhighlight">Full stack Django on k8s</h1>
  </div>

  <ol id="toc" class="row"></ol>

  <div>
    <div id="article-content">
      <p><p>Assuming you already know k8s basics. This article is for deploying a
full stack application, in this case my beloved <a href="https://fengxia41103.github.io/stock/#/">stock analyzer</a> on
k8s. In particular I'll talk about how to migrate a <em>legacy</em> system
like this onto a k8s based on my experience. This would give many
systems out there a clue of how to design a roadmap for such end
state.</p>
<h1>App's architecture</h1>
<p>Nothing special here: backend mainly as API, frontend React, celery worker
assuming a redis queue, redis, and DB.</p>
<h1>Migration steps</h1>
<p>The entire stack has been <a href="https://github.com/fengxia41103/stock/blob/dev/docker-compose.yml"><code>docker-compose</code></a>. So the question is
how to migrate these dockers onto k8s? In my case, three components
are going onto k8s: frontend, backend, celery.</p>
<ol>
<li>
<p><strong>Registry</strong>. In development mode, docker images are usually built
   and stored on the local where the <code>docker-compose</code> is
   launched. This is not the case in k8s anymore. Essential difference
   is that <strong>k8s does not build image</strong>. It's to take the artifact
   from some registry and deploy. Therefore, for the two
   application-specific images &mdash; Django app and frontend, the
   images must be <strong>built beforehand</strong> and pushed to a registry. In
   our case I'm using a private Harbor. Harbor is deployed outside the
   k8s cluster. I'm assuming it has its own admin, storage, and so
   on. The integration point is a Harbor user/token for k8s to pull
   image from it. I'll cover this later.</p>
</li>
<li>
<p><strong>Django setting</strong>. Need to parameterize some settings and read
   them from env. The env would be fed by container launcher just like
   the <code>env:</code> list in compose. There are two sets of envs &mdash; one
   sensitive info such as password, and one not sensitive. The former
   will be in k8s secret, the latter as configmap. Which settings to
   be parameterized is subjective. See section for mine.</p>
</li>
<li>
<p><strong>React dotnev</strong>. Frontend dotenv is <strong>not dynamic</strong>. It's baked
   inside the built image. Thus, you must <strong>decide on</strong> a deployment
   strategy for the Django api service, and coordinate this w/
   frontend's dotenv. The strategy will determine the service's uri,
   which then is baked into frontend's image. Because the
   k8s-generated uri is rather dynamic, eg. namespace, service name,
   this coordination <strong>must be done offline</strong> before frontend can be
   deployed.</p>
</li>
<li>
<p><strong>Celery workers</strong>. Image is the same as the Django app, only the
   <code>command</code> is different. Key is to scale its replica so we can
   control how quickly to drain a queue. You can play w/ the launch
   command <code>-Q summary,stock,statement,price,news -l INFO</code> to decide
   how you want to deploy these workers. For example, should they all
   be watching the same queue, or one for each? and the log level?</p>
</li>
<li>
<p><strong>Redis, DB</strong>. I call these common services. They <strong>don't have to
   live on the same cluster</strong>. If they already exist somewhere else,
   migration can use them directly. In my case, I'm leaving DB outside
   the k8s, thinking service such as RDS or a dedicated DBA is better
   than me administrating a DB. Redis will be moved to k8s because
   it's used as a message broker. So it's transient in nature for
   me. But if you use it for data records, it may be better off just
   like RDS service. In other words, I'm expecting k8s cluster to
   scale of application, frontend, transient services, but leaving
   persisted data to a <em>professional</em>.</p>
</li>
<li>
<p><strong>Customer A,B,C, ingress</strong>. Imagine this application is sold
   to multiple customers.</p>
<ol>
<li>Backend, frontend, and celery will be in a namespace, whereas
     redis service is shared.</li>
<li>Backend API is exposed in k8s ingress, and further config is
     required to be <strong>accessible from the internet</strong> such as using
     an <a href="https://fengxia41103.github.io/myblog/k8s lab.html">external node LB</a>. Each api's url will be different,
     eg. <code>app.client-a.feng.local</code>, <code>app.client-b.feng.local</code>. In
     production this will be customer's full domain.</li>
<li>The api's url will be baked into frontend image via dotenv.</li>
</ol>
</li>
</ol>
<h1>End state</h1>
<p>After everything is done:</p>
<p><img alt="" src="images/django%20fullstack%20on%20k8s.png"></p>
<h1>Harbor</h1>
<p>You need to configure Harbor project and access to this project. Then
add the access info to k8s:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>docker-registry<span class="w"> </span>harbor<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--docker-server<span class="o">=</span>blah<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--docker-username<span class="o">=</span>blah<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--docker-password<span class="o">=</span>blah<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--docker-email<span class="o">=</span>blah
</code></pre></div>

<p>Then, in helm <code>values.yaml</code>, specify the image to use:</p>
<div class="highlight"><pre><span></span><code><span class="nt">image</span><span class="p">:</span>
<span class="w">  </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">harbor.feng.local:9800/library/frontend_stock</span>
<span class="w">  </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Always  &lt;== Use this is best practice!!!</span>
<span class="w">  </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;v1.1.0.beta&quot;</span>
</code></pre></div>

<h2>tag and push</h2>
<p>To push an image to harbor:</p>
<ol>
<li>List the docker images you have on the server/dev machine, <code>docker
   image ls</code>.</li>
<li>
<p>Tag an image: <code>docker tag e6bbf5e4d606
   harbor.feng.local:9800/library/frontend_stock:v1.0.0</code></p>
<ol>
<li><code>e6...</code>: is the image digest</li>
<li><code>harbor.feng.local:9800</code>: the harbor server &amp; port. You should
     be able to see the web UI by going to
     <code>https://harbor.feng.local:9800</code>.</li>
<li><code>library</code>: is a <code>project</code> inside harbor.</li>
<li><code>frontend_stock</code>: your image name, could be anything. In harbor
     this is called a <code>repository</code>.</li>
<li><code>v1.0.0</code>: image tag.</li>
</ol>
</li>
<li>
<p>Then, <code>docker push
   harbor.feng.local:9800/library/frontend_stock:v1.0.0</code>, and watch
   the image uloaded to harbor.</p>
</li>
<li>Goto harbor to double check.</li>
</ol>
<h1>Parameterize frontend docker</h1>
<p>In order to bake dotenv into frontend image:</p>
<ol>
<li><a href="https://www.npmjs.com/package/env-cmd"><code>yarn install -D env-cmd</code></a>.</li>
<li>
<p>Update <code>package.json</code>: <code>"start": "env-cmd -f
   envs/$ENV... craco..."</code>, whereas we dotenv files are under the
   <code>envs/</code> folder. Also, parameter <code>$ENV</code> so that cli becomes
   <code>ENV=blah yarn start</code>. Same goes to <code>build:</code>.</p>
<div class="highlight"><pre><span></span><code>```json
&quot;scripts&quot;: {
  &quot;start&quot;: &quot;env-cmd -f envs/$ENV craco start&quot;,
},
```
</code></pre></div>

</li>
<li>
<p>Add <code>arg</code> to Dockerfile. There is a good <a href="https://vsupalov.com/docker-arg-env-variable-guide/#arg-and-env">article</a> about ARG
   vs. ENV. To build, <code>docker build --build-arg BUILD_FOR=a_value...</code>.</p>
<div class="highlight"><pre><span></span><code>```
#<span class="w"> </span>build<span class="w"> </span>environment
FROM<span class="w"> </span>node:16.15.1<span class="w"> </span>as<span class="w"> </span>builder

ARG<span class="w"> </span>NPM_TOKEN<span class="w">  </span><span class="err">&lt;</span>==<span class="w"> </span>private<span class="w"> </span>npm<span class="w"> </span>registry<span class="w"> </span>token
ARG<span class="w"> </span>BUILD_FOR<span class="w">  </span><span class="err">&lt;</span>==<span class="w"> </span>env<span class="w"> </span>parameter

...

#<span class="w"> </span>npmrc
RUN<span class="w"> </span>echo<span class="w"> </span>&quot;//npm.pkg.github.com/:_authToken=<span class="cp">${</span><span class="n">NPM_TOKEN</span><span class="cp">}</span>&quot;<span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.npmrc
RUN<span class="w"> </span>echo<span class="w"> </span>&quot;//npm.pkg.github.com/:_authToken=<span class="cp">${</span><span class="n">NPM_TOKEN</span><span class="cp">}</span>&quot;<span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.yarnrc
...

#<span class="w"> </span>build
RUN<span class="w"> </span>env-cmd<span class="w"> </span>-f<span class="w"> </span>envs/<span class="cp">${</span><span class="n">BUILD_FOR</span><span class="cp">}</span><span class="w"> </span>yarn<span class="w"> </span>run<span class="w"> </span>build<span class="w">  </span><span class="err">&lt;</span>==<span class="w"> </span>use<span class="w"> </span>env<span class="w"> </span>parameter
...
```
</code></pre></div>

</li>
<li>
<p>(optional) Add the same Dockerfile args to <code>docker-compose</code>. This
   is really for convenience and consistency so that using compose
   will achieve the same effect as above. To use, <code>BUILD_FOR=blah
   NPM_TOKEN=blah docker-compose up --build frontend</code>.</p>
<div class="highlight"><pre><span></span><code>```yaml
frontend:
<span class="w">  </span>image:<span class="w"> </span>frontend_stock
<span class="w">  </span>build:
<span class="w">    </span>context:<span class="w"> </span>./frontend
<span class="w">    </span>dockerfile:<span class="w"> </span>./Dockerfile
<span class="w">    </span>args:
<span class="w">      </span>BUILD_FOR:<span class="w"> </span><span class="cp">${</span><span class="n">BUILD_FOR</span><span class="cp">}</span>
<span class="w">      </span>NPM_TOKEN:<span class="w"> </span><span class="cp">${</span><span class="n">NPM_TOKEN</span><span class="cp">}</span>
```
</code></pre></div>

</li>
</ol>
<p>Now you can build the image, tag it, then push to harbor. However you
are earmarking the image to be client-A's vs. B's is your choice
&larr; different tag, different project, whatever. Docker tagging is
itself a topic which is not covered here.</p>
<h1>Django setting params</h1>
<p>There are endless options to parameterize Django app. For my purpose a
few things worth highlighting here:</p>
<div class="highlight"><pre><span></span><code><span class="n">DJANGO_DEBUG</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DJANGO_DEBUG&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">DATABASE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;MYSQL_DATABASE&quot;</span><span class="p">)</span>
<span class="n">DEPLOY_TYPE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DEPLOY_TYPE&quot;</span><span class="p">,</span> <span class="s2">&quot;dev&quot;</span><span class="p">)</span>
<span class="n">DB_USER</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DJANGO_DB_USER&quot;</span><span class="p">)</span>
<span class="n">DB_PWD</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DJANGO_DB_PWD&quot;</span><span class="p">)</span>
<span class="n">DB_HOST</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DJANGO_DB_HOST&quot;</span><span class="p">)</span>
<span class="n">DB_PORT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DJANGO_DB_PORT&quot;</span><span class="p">)</span>
<span class="n">REDIS_HOST</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DJANGO_REDIS_HOST&quot;</span><span class="p">)</span>
</code></pre></div>

<h2>redis</h2>
<p><code>REDIS_HOST</code> is used as <code>BROKER_URL = "redis://%s:6379/0" %
REDIS_HOST</code>, whereas the value follows the format
<code>&lt;user&gt;:&lt;pwd&gt;@&lt;server&gt;</code>. Default user for redis is <strong><code>default</code></strong>, and
there seems to <a href="https://artifacthub.io/packages/helm/bitnami/redis">only possible to change password by this helm</a>. For
example:</p>
<div class="highlight"><pre><span></span><code><span class="k">default</span><span class="o">:</span><span class="n">blah</span><span class="err">@</span><span class="n">redis</span><span class="o">-</span><span class="n">master</span><span class="o">.</span><span class="na">redis</span><span class="o">.</span><span class="na">svc</span><span class="o">.</span><span class="na">cluster</span><span class="o">.</span><span class="na">local</span>
</code></pre></div>

<p><strong>Be sure</strong> to use the <code>redis-master</code> because celery will require a
<code>write</code> access. Other replicas are for read-only.</p>
<h1>Provide env from k8s</h1>
<ol>
<li>
<p>Save the values in two files. Keys should be the env's key, thus be
   sure it's the same as the Python code <code>os.env["blah"]</code> key.</p>
<div class="highlight"><pre><span></span><code>```conf
<span class="gh">#</span> configmap

DJANGO_DEBUG=1
MYSQL_DATABASE=
DEPLOY_TYPE=dev
DJANGO_DB_HOST=
DJANGO_DB_PORT=

<span class="gh">#</span> secret

MYSQL_USER=
MYSQL_PASSWORD=
MYSQL_ROOT_PASSWORD=
DJANGO_DB_USER=
DJANGO_DB_PWD=
DJANGO_REDIS_HOST=
```
</code></pre></div>

</li>
<li>
<p>Create configmap and secret from the files. Note the names
   <code>stock-backend-env</code> and <code>stock-backend-secret</code>. They will be used
   next.</p>
<div class="highlight"><pre><span></span><code>```shell
kubectl create configmap stock-backend-env \
  --from-env-file=config-dotenv \
  --namespace client-a

k create secret generic stock-backend-secret \
  --from-env-file=secret-dotenv \
  --namespace client-a
```
</code></pre></div>

</li>
<li>
<p>In helm's <code>values.yaml</code>:</p>
<div class="highlight"><pre><span></span><code>```yml
env:
  configmap: stock-backend-env
  secret: stock-backend-secret
```
</code></pre></div>

</li>
<li>
<p>In helm's <code>deployment.yaml</code>, use <code>envFrom</code> in the container section:</p>
<div class="highlight"><pre><span></span><code><span class="x">```yml</span>
<span class="x">containers:</span>
<span class="x">  - name: </span><span class="cp">{{</span> <span class="nv">.Chart.Name</span> <span class="cp">}}</span>
<span class="x">    envFrom:  &lt;== Import k8s configmap &amp; secret as env!!!</span>
<span class="x">    </span><span class="cp">{{</span><span class="o">-</span> <span class="k">with</span> <span class="nv">.Values.env.configmap</span> <span class="cp">}}</span>
<span class="x">    - configMapRef:</span>
<span class="x">        name: &quot;</span><span class="cp">{{</span><span class="o">-</span> <span class="nv">toYaml</span> <span class="err">.</span> <span class="cp">}}</span><span class="x">&quot;</span>
<span class="x">    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">end</span> <span class="cp">}}</span>
<span class="x">    </span><span class="cp">{{</span><span class="o">-</span> <span class="k">with</span> <span class="nv">.Values.env.secret</span> <span class="cp">}}</span>
<span class="x">    - secretRef:</span>
<span class="x">        name: &quot;</span><span class="cp">{{</span><span class="o">-</span> <span class="nv">toYaml</span> <span class="err">.</span> <span class="cp">}}</span><span class="x">&quot;</span>
<span class="x">    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">end</span> <span class="cp">}}</span>
<span class="x">```</span>
</code></pre></div>

</li>
</ol>
<h1>frontend helm</h1>
<p>A few special considerations:</p>
<ol>
<li>
<p>By default I'm disabling ingress. This is just an extra layer of
   protection against accident in deployment.</p>
<div class="highlight"><pre><span></span><code>```yml
ingress:
  enabled: false
```
</code></pre></div>

</li>
<li>
<p>Then, I create a <code>profiles/</code> folder to hold ingress profile for
   each client. For example, client A's will be
   <code>profiles/client-a.yaml</code> as:</p>
<div class="highlight"><pre><span></span><code>```yml
ingress:
  enabled: true
  className: &quot;nginx&quot;
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
  hosts:
    - host: client-a.blah.com  &lt;== A&#39;s domain
      paths:
        - path: /
          pathType: Prefix

  tls: []
```
</code></pre></div>

</li>
</ol>
<p>Now when I deploy for A using and enable its ingress:</p>
<div class="highlight"><pre><span></span><code>helm install stock-frontend helm \
  -n client-a \
  -f path/to/profiles/client-a.yaml \
</code></pre></div>

<h1>now, deploy for client A</h1>
<p>By now I have three helms: backend api, celery, and frontend.</p>
<ol>
<li>Create/pick a namespace, say <code>client-a</code>.</li>
<li>Create envs as configmap &amp; secret.</li>
<li>
<p>Backend api. In order to override list value <code>ingress.hosts[0]</code>,
   you <strong>must use <code>-f path/to/values.yaml</code></strong> &larr; this is a helm known
   limitation.</p>
<div class="highlight"><pre><span></span><code>```shell
helm install stock-backend-api helm-stock-backend-api \
  -n client-a \
  -f helm-stock-backend-api/values.yaml \
  --set &quot;ingress.hosts[0].host=client-a.blah.com&quot; \
  --set image.tag=&quot;blah&quot;
```
</code></pre></div>

</li>
<li>
<p>Backend celery. Easy.</p>
<div class="highlight"><pre><span></span><code>```shell
helm install stock-backend-celery helm-stock-backend-celery \
  -n client-a \
  --set image.tag=&quot;blah&quot;
```
</code></pre></div>

</li>
<li>
<p>Frontend.</p>
<div class="highlight"><pre><span></span><code>```shell
helm install stock-frontend helm \
  -n client-a \
  -f helm/profiles/client-a.yaml \
  --set image.tag=&quot;blah&quot;
```
</code></pre></div>

</li>
<li>
<p>If using an external nginx as LB to cluster nodes, add a <code>server</code>
   block in nginx conf:</p>
<div class="highlight"><pre><span></span><code><span class="err">```</span><span class="nt">conf</span>
<span class="nt">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="err">server_name</span><span class="w"> </span><span class="err">client-a.blah.com</span><span class="p">;</span>

<span class="w">  </span><span class="err">location</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="err">include</span><span class="w"> </span><span class="err">/etc/nginx/proxy_params</span><span class="p">;</span>
<span class="w">    </span><span class="err">proxy_pass</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">k8s</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="err">}</span>
<span class="err">```</span>
</code></pre></div>

</li>
</ol>
<p>Reload the LB nginx, and visit <code>http://client-a.blah.com</code>. You should
be good to go.</p></p>

      <p>
        &mdash; by
        <a href="feng-xia.html">Feng Xia</a>
      </p>
    </div>
  </div>

</article>



          <div id="related">
          </div>
        </div>
      </div>
    </div>

    <footer class="split-screen">
      <div class="container">
        <h5>Categories:</h5>
        <a href="https://fengxia41103.github.io/myblog/demo.html">
          <i class="fa fa-folder-open-o"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/dev.html">
          <i class="fa fa-folder-open-o"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/fashion.html">
          <i class="fa fa-folder-open-o"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/gkp.html">
          <i class="fa fa-folder-open-o"></i>
          gkp
        </a>
        <a href="https://fengxia41103.github.io/myblog/lenovo.html">
          <i class="fa fa-folder-open-o"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/odoo.html">
          <i class="fa fa-folder-open-o"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/openstack.html">
          <i class="fa fa-folder-open-o"></i>
          openstack
        </a>
        <a href="https://fengxia41103.github.io/myblog/pm.html">
          <i class="fa fa-folder-open-o"></i>
          pm
        </a>
        <a href="https://fengxia41103.github.io/myblog/react.html">
          <i class="fa fa-folder-open-o"></i>
          REACT
        </a>
        <a href="https://fengxia41103.github.io/myblog/rh.html">
          <i class="fa fa-folder-open-o"></i>
          rh
        </a>
        <a href="https://fengxia41103.github.io/myblog/stock.html">
          <i class="fa fa-folder-open-o"></i>
          stock
        </a>
        <a href="https://fengxia41103.github.io/myblog/thoughts.html">
          <i class="fa fa-folder-open-o"></i>
          thoughts
        </a>

        <h5>Tags:</h5>
        <a href="https://fengxia41103.github.io/myblog/tag-thoughts.html">
          <i class="fa fa-tag"></i>
          thoughts
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-dev.html">
          <i class="fa fa-tag"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-react.html">
          <i class="fa fa-tag"></i>
          react
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-love.html">
          <i class="fa fa-tag"></i>
          love
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-lenovo.html">
          <i class="fa fa-tag"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-angular.html">
          <i class="fa fa-tag"></i>
          angular
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-feng.html">
          <i class="fa fa-tag"></i>
          feng
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-design.html">
          <i class="fa fa-tag"></i>
          design
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-family.html">
          <i class="fa fa-tag"></i>
          family
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-demo.html">
          <i class="fa fa-tag"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-odoo.html">
          <i class="fa fa-tag"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-fashion.html">
          <i class="fa fa-tag"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-gkp.html">
          <i class="fa fa-tag"></i>
          gkp
        </a>
        <div class="">
          <h5>Show Cases:</h5>
          <div id="showcase">
            <p>
              Photo album:
              <a href="https://fengxia41103.github.io/moment/1236/#/">1236</a>
            </p>
            <p>
              API & charts:
              <a href="http://sp500chart.s3-website-us-east-1.amazonaws.com"
                >SP500</a
              >
            </p>
            <p>
              API & charts:
              <a
                href="http://snapshots.world.s3-website.ap-northeast-2.amazonaws.com/"
                >Snapshot of The World</a
              >
            </p>

            <p>
              Django (in Chinese):
              <a href="https://fengxia41103.github.io/myblog/project gkp demo.html">GKP</a>
            </p>
            <p>
              ERP:
              <a href="https://fengxia41103.github.io/myblog/project fashion demo.html">Fashion</a>
            </p>
            <p>
              Data processing:
              <a href="https://fengxia41103.github.io/myblog/project stock demo.html">Stock</a>
            </p>
            <p>
              Angular & REACT:
              <a href="https://fengxia41103.github.io/myblog/car leasing.html">Car leasing</a>
              &nbsp;|&nbsp;
              <a href="https://fengxia41103.github.io/spa-dashboard/">
                YAML Config Dashboard
              </a>
            </p>
            <p>
              API & REACT:
              <a href="https://fengxia41103.github.io/movie/">Movies</a>
            </p>
          </div>
        </div>
      </div>
      <video autoplay muted loop id="myVideo">
        <source src="downloads/polina.mp4" type="video/mp4" />
      </video>
    </footer>
    <div class="footer-copyright">
      <div class="container">
        <div class="row">
          <div class="col l8 m8 s12">
            <p>
              2016-2022 PY Consulting Ltd. 601 W. Rosemary St., Chapel Hill, NC 27516
            </p>

            <p>
              <a href="mailto:feng_xia41103@hotmail.com">
                <i class="fa fa-envelope"></i>
              </a>

              <a href="http://github.com/fengxia41103">
                <i class="fa fa-github"></i>
              </a>

              <a href="https://www.linkedin.com/in/fengxia41103">
                <i class="fa fa-linkedin"></i>
              </a>

              <a href="">
                <i class="fa fa-phone-square"></i>
                (508)801-1794
              </a>
            </p>
          </div>
          <div class="col l4 m4 s12">
            <p class="right">
              <i class="fa fa-copyright"></i>
              All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- end of block main -->

    <!-- Placed at the end of the document so the pages load faster -->

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://fengxia41103.github.io/myblog/theme/js/bundle.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/xml.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/diff.min.js"
    ></script>

    <script type="text/javascript">
     var exports = {};
     var j$ = jQuery.noConflict();

     j$(document).ready(function () {
       // highlight.js initialization
       hljs.initHighlightingOnLoad();
       j$("pre").each(function (i, block) {
         hljs.highlightBlock(block);
       });

       // tooltips
       j$('[data-toggle="tooltip"]').tooltip();

       // image materialbox
       j$(".materialboxed").materialbox();
     });
    </script>
    <!-- end of block JS -->

  </body>
</html>