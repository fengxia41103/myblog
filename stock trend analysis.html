<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta
      name="viewport"
      content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"
    />

    <meta name="description" content="" />
    <meta name="author" content="" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/monokai-sublime.min.css" integrity="sha512-ade8vHOXH67Cm9z/U2vBpckPD1Enhdxl3N05ChXyFx5xikfqggrK4RrEele+VWY/iaZyfk7Bhk6CyZvlh7+5JQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css"
    />

    <link rel="stylesheet" href="https://fengxia41103.github.io/myblog/theme/css/my.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
            integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>



    <title>Be Care Free</title>
  </head>

  <body>
    <header id="mypage-index">
      <a href="https://fengxia41103.github.io/myblog/">Be Care Free </a>

      <a href="https://fengxia41103.github.io/myblog/about.html"> . About </a>
      <a href="https://fengxia41103.github.io/myblog/lei.html"> . 夏雷 </a>
      <a href="https://fengxia41103.github.io/myblog/project euler.html"> . Project Euler </a>
      <a href="https://fengxia41103.github.io/myblog/quote.html"> . Quote </a>
      <a href="https://fengxia41103.github.io/myblog/resume.html"> . Resum&eacute; </a>
      <a href="https://fengxia41103.github.io/myblog/search.html"> . Search </a>
      <a href="https://fengxia41103.github.io/myblog/slides.html"> . Impression </a>
    </header>
    <!-- end of block navbar -->

    <div class="split-screen">
      <div class="split-left-pane">
<!-- <video autoplay muted loop id="myVideo">
     <source src="downloads/polina.mp4" type="video/mp4" />}
     </video>
-->
      </div>

      <div class="split-right-pane">
        <div id="content" class="container">
<article>
   <div>
    <i class="fa fa-calendar" style="opacity: 0.5">&nbsp;</i>
    2021-03-03


    <a class="wave-effect" href="stock.html">
      <i class="fa fa-folder-open-o"></i>
      stock
    </a>

    <a class="wave-effect" href="tag-dev.html">
      <i class="fa fa-tag"></i>
      dev
    </a>

    <h1 class="myhighlight">Stock Trend Analysis</h1>
  </div>

  <ol id="toc" class="row"></ol>

  <div>
    <div id="article-content">
      <p><p>Continue from <a href="{filename}/workspace/stock/stock%20detail.md">last article</a>. That one focused on value
assessment. This will go over trend analysis.</p>
<h1>Select a period &amp; price</h1>
<figure class="col s12">
  <img src="images/stock/trend%20price.png"/>
  <figcaption>Select a time range for trend analysis</figcaption>
</figure>

<p>Unlike other websites where you usually have choice of 1d, 5d, 1m, 3m,
and 6m as time range, this tool can select any date-to-date as you
wish, and all following analysis will be done over this selected
range.</p>
<h1>Daily return %</h1>
<p>Daily return is defined as <code>(close-open)/close</code> of that day. This
value is pre-computed as a strategy value.</p>
<figure class="col s12">
  <img src="images/stock/daily%20return.png"/>
  <figcaption>Example of daily return</figcaption>
</figure>

<h1>Overnight return %</h1>
<p>Overnight return is defined as <code>(today's open - yesterday's
close)/yesterday's close</code>. This is also a pre-computed strategy value.</p>
<figure class="col s12">
  <img src="images/stock/overnight%20return.png"/>
  <figcaption>Example of overnight return</figcaption>
</figure>
<p>I noticed that there is always some <strong>after market</strong> news or earning</p>
<p>calls that will sway the market. Further, apparently trading is going
on after the market is closed to me! Therefore, there is a dark period
when the price is moving, but I can not participate until the next
morning. Using this value together with daily return, I'm hoping to
gain sense how likely an up seen overnight will translate to an up
during day.</p>
<h1>My indicators</h1>
<p>This is really what got me to begin with &mdash; the analysis edge I
was hoping to achieve. I think this is the same drive that you have in
mind. If so, read on.</p>
<figure class="col s12">
  <img src="images/stock/my%20indicators.png"/>
  <figcaption>Example of my indicators</figcaption>
</figure>

<ul>
<li>
<p><code>end-to-end return %</code>: if I buy at the first <code>open</code> price, and hold
  it till the last <code>close</code> price, how much do you gain? I also call
  this <code>range return</code>. One can easily picture that any buy-sell pair
  can be viewed as a range return. Of course, in reality, buying at
  open price and sell at close price is not possible, at least not for
  me. So whatever the return is, it's an ideal situation.</p>
</li>
<li>
<p><code>compounded return %</code>: this is to emulate a busy day trader who,
  instead of holding through the range, buy at each <code>open</code> and sell at
  each <code>close</code>, thus riding the daily wave. Since there are ups and
  downs, what is the compounded return then?</p>
<p>In most cases I looked at, compounded return is always &lt; range
  return. Therefore, riding wave is not a good idea, even when
  transaction fee is 0.</p>
</li>
<li>
<p><code>close price RSD %</code>: RSD, relative standard deviation, is to measure
  how much swing close price is seen in this time period. The larger
  the value, the more volatile it appeared.</p>
</li>
</ul>
<p>One catch, however, is that when computed over a longer time period,
  because prices is ever going up, for example, this value will
  naturally become larger. Therefore, it's more useful if you compare
  stock A vs. B over the same period, not to a single stock itself.</p>
<ul>
<li>
<p><code>overnight flip/consistency</code>: I'm curious how likely an overnight
  trend carries over to the next day<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>. Numbers are day count.</p>
</li>
<li>
<p><code>overnight flip returns up %/down %</code>: This is one step further on
  observing an overnight trend against its next day. In a flip, there
  could be a large up, then a small down, and vice versa. Therefore,
  by computing the compounded return of overnight and today, we can
  see how many flips resulted in a positive return. Up and down % adds
  up to 100%.</p>
</li>
</ul>
<p>In the example above, among overnight flips, 46% would have resulted
  in a positive return, but 56% in the negative. Therefore, in this
  case down flips were not compensated enough by the next day ups,
  meaning the sentiment, though flipped a bit, was still carrying the
  day.</p>
<ul>
<li>
<p><code>two-day trend up/down/flip</code>: Taking two consecutive days, how many
  are both ups, downs, or reversed. Since human is naturally looking
  at yesterday's trend feeling it will be duplicated today<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>,
  knowing how likely today's positive will flip is at least a useful
  probability measure.</p>
</li>
<li>
<p><code>daily return up %/down %</code>: Easy. Take each day's return, what's the
  odds you would have made money if riding that day? In the example
  above, 50/50, indeed a random walk down the Wall Street.</p>
</li>
<li>
<p><code>nightly return up %/down %</code>: Counting overnight returns, how likely
  it would have gone up or down. Using this probability, one may bet
  the overnight. One reason is that overnight is off limit to
  investor. We simply don't have access or control over this period,
  but the market doesn't sleep. Further, I noticed that some companies
  make earning calls deliberately after market is closed. Therefore,
  this is really a period of uncertainty by design of the system.</p>
</li>
<li>
<p><code>up daily return avg/RSD %</code>: Curious how much a daily up we saw in
  term of average and its RSD. Taking this together w/ <code>down daily
  return avg/RSD %</code>, I'm hoping to shed light whether upside is better
  than the downside.</p>
<p>In the example, upside avg was 1.91% while downside was
  2.11%. Therefore, downside dominated, in average. Up's RSD was less
  than down's, so that we saw larger scale of swing when there was a
  down day than one of an up day. So overall, I would take this period
  as a down period and would expect to lose since the odds were not in
  up's favor.</p>
</li>
</ul>
<h1>Tech indicators</h1>
<p>I didn't invent any of these. Found this <a href="https://github.com/rrag/react-stockcharts">react library</a>, and am
using it to plot these fancies. One downside of this approach is that
I don't have computed numbers such as SMAs. So later I might
re-implement these values so to make more sense of them.</p>
<p>One observation is that all of them are doing some kind of SMA, which
is essentially a smoothing technique. I have commented in <a href="{filename}/workspace/stock/stock%20detail.md">previous
article</a> that this is a double edge sword as it can generate so
called a pattern for pattern's sake.</p>
<p>Further, these charts are clearly against philosophy that stock
history is not a reliable indicator of the <em>future</em>. Therefore, I have
them here because of their popularity mostly.</p>
<h2>Bollinger Band</h2>
<p>Read the <a href="https://en.wikipedia.org/wiki/Bollinger_Bands">wiki</a>. It's interesting.</p>
<figure class="col s12">
  <img src="images/stock/bollinger%20band.png"/>
  <figcaption>Example of Bollinger Band</figcaption>
</figure>

<h2>Elder Ray</h2>
<p>See <a href="https://www.investopedia.com/terms/e/elderray.asp">intro</a>.</p>
<figure class="col s12">
  <img src="images/stock/elder%20ray.png"/>
  <figcaption>Example of Elder Ray</figcaption>
</figure>

<h2>SAR</h2>
<p>See <a href="https://en.wikipedia.org/wiki/Parabolic_SAR">wiki</a>.</p>
<figure class="col s12">
  <img src="images/stock/SAR.png"/>
  <figcaption>Example of SAR</figcaption>
</figure>

<h2>Full Stochastics Oscillator</h2>
<p>See <a href="https://en.wikipedia.org/wiki/Stochastic_oscillator">wiki</a>.</p>
<figure class="col s12">
  <img src="images/stock/full%20stochastics.png"/>
  <figcaption>Example of Full Stochastics oscillator</figcaption>
</figure>

<h2>Heikin-Ashi</h2>
<p>Read <a href="https://www.investopedia.com/trading/heikin-ashi-better-candlestick/">here</a>.</p>
<figure class="col s12">
  <img src="images/stock/heikin%20ashi.png"/>
  <figcaption>Example of Heikin Ashi</figcaption>
</figure>

<h2>MACD</h2>
<p>See <a href="https://en.wikipedia.org/wiki/MACD">wiki</a>.</p>
<figure class="col s12">
  <img src="images/stock/MACD.png"/>
  <figcaption>Example of MACD</figcaption>
</figure>

<h2>Relative Strength (RSI)</h2>
<p>See <a href="https://www.investopedia.com/terms/r/rsi.asp">intro</a>.</p>
<figure class="col s12">
  <img src="images/stock/RSI.png"/>
  <figcaption>Example of RSI</figcaption>
</figure>

<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p>In theory, you can profit off any probability that is greater
than 50. Therefore, if there is a discrepancy between consistency
and flip, you should be able to bet the next day using this
probability. This same thought goes to other <em>flip/consistency</em>
measures.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Even though it is a cliche that history does not predict the
future, in stock's case, it is difficult for layman investor such
as myself to think otherwise. Yesterday's trend is the closest
information we have got.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div></p>

      <p>
        &mdash; by
        <a href="feng-xia.html">Feng Xia</a>
      </p>
    </div>
  </div>

</article>



          <div id="related">
          </div>
        </div>
      </div>
    </div>

    <footer class="split-screen">
      <div class="container">
        <h5>Categories:</h5>
        <a href="https://fengxia41103.github.io/myblog/demo.html">
          <i class="fa fa-folder-open-o"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/dev.html">
          <i class="fa fa-folder-open-o"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/fashion.html">
          <i class="fa fa-folder-open-o"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/gkp.html">
          <i class="fa fa-folder-open-o"></i>
          gkp
        </a>
        <a href="https://fengxia41103.github.io/myblog/lenovo.html">
          <i class="fa fa-folder-open-o"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/odoo.html">
          <i class="fa fa-folder-open-o"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/openstack.html">
          <i class="fa fa-folder-open-o"></i>
          openstack
        </a>
        <a href="https://fengxia41103.github.io/myblog/pm.html">
          <i class="fa fa-folder-open-o"></i>
          pm
        </a>
        <a href="https://fengxia41103.github.io/myblog/react.html">
          <i class="fa fa-folder-open-o"></i>
          REACT
        </a>
        <a href="https://fengxia41103.github.io/myblog/rh.html">
          <i class="fa fa-folder-open-o"></i>
          rh
        </a>
        <a href="https://fengxia41103.github.io/myblog/stock.html">
          <i class="fa fa-folder-open-o"></i>
          stock
        </a>
        <a href="https://fengxia41103.github.io/myblog/thoughts.html">
          <i class="fa fa-folder-open-o"></i>
          thoughts
        </a>

        <h5>Tags:</h5>
        <a href="https://fengxia41103.github.io/myblog/tag-thoughts.html">
          <i class="fa fa-tag"></i>
          thoughts
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-dev.html">
          <i class="fa fa-tag"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-react.html">
          <i class="fa fa-tag"></i>
          react
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-love.html">
          <i class="fa fa-tag"></i>
          love
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-lenovo.html">
          <i class="fa fa-tag"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-angular.html">
          <i class="fa fa-tag"></i>
          angular
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-feng.html">
          <i class="fa fa-tag"></i>
          feng
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-design.html">
          <i class="fa fa-tag"></i>
          design
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-family.html">
          <i class="fa fa-tag"></i>
          family
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-demo.html">
          <i class="fa fa-tag"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-odoo.html">
          <i class="fa fa-tag"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-fashion.html">
          <i class="fa fa-tag"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-gkp.html">
          <i class="fa fa-tag"></i>
          gkp
        </a>
        <div class="">
          <h5>Show Cases:</h5>
          <div id="showcase">
            <p>
              Photo album:
              <a href="https://fengxia41103.github.io/moment/1236/#/">1236</a>
            </p>
            <p>
              API & charts:
              <a href="http://sp500chart.s3-website-us-east-1.amazonaws.com"
                >SP500</a
              >
            </p>
            <p>
              API & charts:
              <a
                href="http://snapshots.world.s3-website.ap-northeast-2.amazonaws.com/"
                >Snapshot of The World</a
              >
            </p>

            <p>
              Django (in Chinese):
              <a href="https://fengxia41103.github.io/myblog/project gkp demo.html">GKP</a>
            </p>
            <p>
              ERP:
              <a href="https://fengxia41103.github.io/myblog/project fashion demo.html">Fashion</a>
            </p>
            <p>
              Data processing:
              <a href="https://fengxia41103.github.io/myblog/project stock demo.html">Stock</a>
            </p>
            <p>
              Angular & REACT:
              <a href="https://fengxia41103.github.io/myblog/car leasing.html">Car leasing</a>
              &nbsp;|&nbsp;
              <a href="https://fengxia41103.github.io/spa-dashboard/">
                YAML Config Dashboard
              </a>
            </p>
            <p>
              API & REACT:
              <a href="https://fengxia41103.github.io/movie/">Movies</a>
            </p>
          </div>
        </div>
      </div>
      <video autoplay muted loop id="myVideo">
        <source src="downloads/polina.mp4" type="video/mp4" />
      </video>
    </footer>
    <div class="footer-copyright">
      <div class="container">
        <div class="row">
          <div class="col l8 m8 s12">
            <p>
              2016-2022 PY Consulting Ltd. 601 W. Rosemary St., Chapel Hill, NC 27516
            </p>

            <p>
              <a href="mailto:feng_xia41103@hotmail.com">
                <i class="fa fa-envelope"></i>
              </a>

              <a href="http://github.com/fengxia41103">
                <i class="fa fa-github"></i>
              </a>

              <a href="https://www.linkedin.com/in/fengxia41103">
                <i class="fa fa-linkedin"></i>
              </a>

              <a href="">
                <i class="fa fa-phone-square"></i>
                (508)801-1794
              </a>
            </p>
          </div>
          <div class="col l4 m4 s12">
            <p class="right">
              <i class="fa fa-copyright"></i>
              All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- end of block main -->

    <!-- Placed at the end of the document so the pages load faster -->

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://fengxia41103.github.io/myblog/theme/js/bundle.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/xml.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/diff.min.js"
    ></script>

    <script type="text/javascript">
     var exports = {};
     var j$ = jQuery.noConflict();

     j$(document).ready(function () {
       // highlight.js initialization
       hljs.initHighlightingOnLoad();
       j$("pre").each(function (i, block) {
         hljs.highlightBlock(block);
       });

       // tooltips
       j$('[data-toggle="tooltip"]').tooltip();

       // image materialbox
       j$(".materialboxed").materialbox();
     });
    </script>
    <!-- end of block JS -->

  </body>
</html>