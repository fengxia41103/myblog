<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta
      name="viewport"
      content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"
    />

    <meta name="description" content="" />
    <meta name="author" content="" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/monokai-sublime.min.css" integrity="sha512-ade8vHOXH67Cm9z/U2vBpckPD1Enhdxl3N05ChXyFx5xikfqggrK4RrEele+VWY/iaZyfk7Bhk6CyZvlh7+5JQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css"
    />

    <link rel="stylesheet" href="https://fengxia41103.github.io/myblog/theme/css/my.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
            integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>



    <title>Be Care Free</title>
  </head>

  <body>
    <header id="mypage-index">
      <a href="https://fengxia41103.github.io/myblog/">Be Care Free </a>

      <a href="https://fengxia41103.github.io/myblog/about.html"> . About </a>
      <a href="https://fengxia41103.github.io/myblog/lei.html"> . 夏雷 </a>
      <a href="https://fengxia41103.github.io/myblog/project euler.html"> . Project Euler </a>
      <a href="https://fengxia41103.github.io/myblog/quote.html"> . Quote </a>
      <a href="https://fengxia41103.github.io/myblog/resume.html"> . Resum&eacute; </a>
      <a href="https://fengxia41103.github.io/myblog/search.html"> . Search </a>
      <a href="https://fengxia41103.github.io/myblog/slides.html"> . Impression </a>
    </header>
    <!-- end of block navbar -->

    <div class="split-screen">
      <div class="split-left-pane">
<!-- <video autoplay muted loop id="myVideo">
     <source src="downloads/polina.mp4" type="video/mp4" />}
     </video>
-->
      </div>

      <div class="split-right-pane">
        <div id="content" class="container">
<article>
   <div>
    <i class="fa fa-calendar" style="opacity: 0.5">&nbsp;</i>
    2023-11-21


    <a class="wave-effect" href="dev.html">
      <i class="fa fa-folder-open-o"></i>
      dev
    </a>


    <h1 class="myhighlight">Nginx Redirect</h1>
  </div>

  <ol id="toc" class="row"></ol>

  <div>
    <div id="article-content">
      <p><p>Nginx redirect is a super confusing topic. I have see way too many
blogs and articles and SO posts, each having a specific example of a
sort, but none talks about it <strong>systematically</strong>. So this article is
an attempt to consolidate the information as part of my own study
notes, and provide a clear understanding of how to use these redirects
in nginx.</p>
<h1>Overview</h1>
<p>First of all, there are 5 directives who will cause a redirect:  <code>index</code>,
<code>try_files</code>, <code>error_page</code>, <code>return</code>, <code>rewrite</code>.</p>
<p>Second, there are two types of redirect &mdash; internal &amp;
external. Internal redirect will cause nginx to <strong>re-evaluate</strong>
location block, and browser is not involved. An external redirect is
to send a HTTP code w/ target URL back to the browser, and it's up to
the browser's behavior to decide what to happen next.</p>
<p>Below shows the five directives and their capabilities in term of
internal and external redirect:</p>
<figure class="col s12">
  <img src="images/nginx%20redirect.png"/>
</figure>

<h2>http redirect code</h2>
<p>For external redirect, the response will be sent to the browser, thus
it's up to the implementation of the browser to react based on the
http status code. There are some subtle differences of these code.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/301">301</a></td>
<td>Moved Permanently</td>
<td>A browser redirects to the new URL and search engines update their links to the resource.</td>
</tr>
<tr>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302">302</a></td>
<td>Found</td>
<td>A browser redirects to this page but search engines don't update their links to the resource.</td>
</tr>
<tr>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/303">303</a></td>
<td>See Other</td>
<td>Redirects don't link to the requested resource itself, but to another page. Always return <code>GET</code>.</td>
</tr>
<tr>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/307">307</a></td>
<td>Temporary Redirect</td>
<td>Same as 302 except request method &amp; body is not altered.</td>
</tr>
<tr>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308">308</a></td>
<td>Permanent Redirect</td>
<td>Same as 301 except request method &amp; body is not altered.</td>
</tr>
</tbody>
</table>
<h2>internal limit</h2>
<p>You will write a redirect loop at some point. Nginx has a safe-guard.</p>
<blockquote>
<p>There is a limit of 10 internal redirects per request to prevent
request processing cycles that can occur in incorrect
configurations. If this limit is reached, the error 500 (Internal
Server Error) is returned. In such cases, the “rewrite or internal
redirection cycle” message can be seen in the error log.</p>
<p>Ref: <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#internal">source</a></p>
</blockquote>
<h1>index</h1>
<p>Index is probably one of the oldest Internet concept. I remember my
very first webpage was an <code>index.html</code> in a web server folder. Note
that redirect by index is only applicable when we serve a request w/
<strong>ending slash</strong>.</p>
<ol>
<li>Index is referring to a <strong>file</strong> in the <code>root</code> directory,
   eg. <code>index.html</code>, but could be any file name designated as you
   wish.</li>
<li>
<p>Serving index is only applicable to request ending with the slash
   character (‘/’). This is <strong>critical</strong> in redirect loop!</p>
</li>
<li>
<p>Index always triggers an internal redirect, so location match are
   evaluated <strong>twice</strong>.</p>
</li>
</ol>
<h2>index modules</h2>
<p>There are three nginx modules that will serve a form of an index:</p>
<ol>
<li>
<p><a href="https://nginx.org/en/docs/http/ngx_http_index_module.html#index"><code>ngx_http_index_module</code></a>: Defined as <code>index &lt;filename 1&gt;
   &lt;filename 2&gt; ...</code>. When matched location has trailing slash, index
   is evaluated in order:</p>
<ol>
<li>If the file is found, redirect to <code>$uri/&lt;index file&gt;</code>;</li>
<li>If none is found, redirect to <code>$uri/&lt;last index value&gt;</code>.</li>
</ol>
</li>
<li>
<p><a href="https://nginx.org/en/docs/http/ngx_http_autoindex_module.html"><code>ngx_http_autoindex_module</code></a>: Defined as <code>autoindex
   on</code>. It returns all contents of the doc root.</p>
</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_random_index_module.html"><code>ngx_http_random_index_module</code></a>: Defined as
   <code>random_index on</code>. It picks a random file in the doc root to serve.</li>
</ol>
<h2>index definition</h2>
<p>Location can inherit and override index.</p>
<p>```[1-2,5]
root /var/www/me;
index index-A.html;</p>
<p>location /path/a/ {}
location /path/b/ {index index-B.html}</p>
<div class="highlight"><pre><span></span><code>You can define multiple values, and their **existence** will be tested
in sequence. If it exists, a redirect as <span class="sb">`$uri/&lt;index filename&gt;`</span> will
be issued, which then cause a new round of location match.
</code></pre></div>

<p>index index.$geo.html index.0.html /index.html;</p>
<div class="highlight"><pre><span></span><code>## index redirect
</code></pre></div>

<p>root /var/www/A;
index index-A.html;</p>
<p>location = / {}</p>
<p>location / {alias /home/feng;}</p>
<div class="highlight"><pre><span></span><code><span class="n">A</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n n-Quoted">`http://blah.com/`</span><span class="w"> </span><span class="n">will</span><span class="o">:</span>

<span class="mf">1.</span><span class="w"> </span><span class="k">Match</span><span class="w"> </span><span class="n n-Quoted">`= /`</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">**</span><span class="n">exact</span><span class="o">**</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="k">in</span>
<span class="w">   </span><span class="n">location</span><span class="w"> </span><span class="n">matching</span><span class="p">.</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">We</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">1st</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="k">block</span><span class="p">.</span><span class="w"> </span><span class="n">Nginx</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="n">existence</span><span class="w"> </span><span class="k">of</span>
<span class="w">   </span><span class="n n-Quoted">`/var/www/A/index-A.html`</span><span class="p">.</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">exists</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">**</span><span class="n">redirect</span><span class="o">**</span>
<span class="w">   </span><span class="k">to</span><span class="w"> </span><span class="n n-Quoted">`/index-A.html`</span><span class="p">,</span><span class="w"> </span><span class="n">thus</span><span class="w"> </span><span class="n">triggering</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="k">match</span><span class="p">.</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">**</span><span class="n">2nd</span><span class="w"> </span><span class="k">block</span><span class="p">,</span><span class="w"> </span><span class="n">processed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URI</span><span class="w"> </span><span class="k">as</span>
<span class="w">   </span><span class="n n-Quoted">`/index-A.html`</span><span class="o">**</span><span class="p">.</span><span class="w"> </span><span class="n">Since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">URI</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">ending</span><span class="w"> </span><span class="n">w</span><span class="o">/</span><span class="w"> </span><span class="n">slash</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kt">time</span><span class="p">,</span>
<span class="w">   </span><span class="k">index</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">evaluated</span><span class="w"> </span><span class="n">anymore</span><span class="p">.</span><span class="w"> </span><span class="k">File</span><span class="w"> </span><span class="n n-Quoted">`/home/feng/index-A.html`</span><span class="w"> </span><span class="n">will</span>
<span class="w">   </span><span class="n">be</span><span class="w"> </span><span class="n">returned</span><span class="p">,</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="mi">404</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">doesn</span><span class="s1">&#39;t exist.</span>

<span class="s1"># `try_files`</span>
</code></pre></div>

<p>location / {
  try_files /system/maintenance.html
            $uri
            $uri/
            $uri/index.html
            $uri.html
            @mongrel;
}
```</p>
<p>Internal redirect only (<a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#try_file">doc</a>). Multiple values can be
tested using white-space as delimiter. The last uri value will be the
redirect target if all tests fail.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Example</th>
<th>Test</th>
</tr>
</thead>
<tbody>
<tr>
<td>hardcoded filename</td>
<td>/system/maintenance.html</td>
<td>Existence of this file in doc root by <code>root</code> or <code>alias</code></td>
</tr>
<tr>
<td>filename w/ variable</td>
<td>$uri, $uri/me.html, $myname-this.html</td>
<td>Existence of file</td>
</tr>
<tr>
<td>w/ ending slash</td>
<td>$uri/</td>
<td>Existence of directory</td>
</tr>
<tr>
<td>named location</td>
<td>@blah</td>
<td>Existence of a named location block</td>
</tr>
<tr>
<td>=[code|named]</td>
<td>=404, =@django</td>
<td><strong>Can only be the last test</strong>, catch-all redirect</td>
</tr>
</tbody>
</table>
<h1>error_page</h1>
<p><a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#error_page">official doc</a>. Both internal and external. If you
redirect to a named location, a proxy could take cover to continue the
process, and it may have its own error handling strategy.</p>
<table>
<thead>
<tr>
<th>Example</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>error_page 404 /404.html;</td>
<td>Redirect to <code>/404.html</code> for 404 error code.</td>
</tr>
<tr>
<td>error_page 500 502 503 504 /50x.html;</td>
<td>Combine error handling to a single uri redirect.</td>
</tr>
<tr>
<td>error_page 404 =200 /empty.gif;</td>
<td>Return status 200 instead of 404. Can map multiple to one.</td>
</tr>
<tr>
<td>error_page 404 = @fallback;</td>
<td>Proxy determines what to be returned. URI is passed on as-is.</td>
</tr>
<tr>
<td>error_page 404 =301 http://...;</td>
<td>Redirect to another URL. Default to 302. Can map to 301, 302, 303, 307, and 308 only.</td>
</tr>
</tbody>
</table>
<h1>return</h1>
<p>Will terminate any further processing, and send a response to the
browser (<a href="https://nginx.org/en/docs/http/ngx_http_rewrite_module.html">doc</a>). Thus it's usually define the full URL for the
target. If it's using only a uri such as <code>/photos</code>, the full URL will
be composed by Nginx based on a couple other directive values.</p>
<table>
<thead>
<tr>
<th>Example</th>
<th>Context</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>return 301 $scheme://www.newdomain.com$request_uri;</td>
<td>Server</td>
<td>Redirect all requests to a new domain</td>
</tr>
<tr>
<td>return 301 $scheme://blah.com/here;</td>
<td>Location</td>
<td>Redirect to new URL</td>
</tr>
<tr>
<td>return 301 /photos;</td>
<td>Location</td>
<td>Redirect to a URI</td>
</tr>
<tr>
<td>return [http|https|$scheme]://blah.com/...</td>
<td>Location</td>
<td>Imply code 302</td>
</tr>
</tbody>
</table>
<h1>rewrite</h1>
<p>Rewrite is the most flexible one since it uses regex. Behavior is
determined by the <strong>flag</strong> (<a href="https://nginx.org/en/docs/http/ngx_http_rewrite_module.html">doc</a>).</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Context</th>
<th>Return Code</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>last</td>
<td>Server</td>
<td>n/a</td>
<td>Internal redirect. Start new location match.</td>
</tr>
<tr>
<td>break</td>
<td>Location</td>
<td>n/a</td>
<td>Skip other <code>rewrite</code> in this <code>Location</code> context.</td>
</tr>
<tr>
<td>redirect</td>
<td>n/a</td>
<td>302</td>
<td>Any replacement <strong>not</strong> starting w/ [http|https|$scheme]</td>
</tr>
<tr>
<td>permanent</td>
<td>n/a</td>
<td>301</td>
<td></td>
</tr>
</tbody>
</table></p>

      <p>
        &mdash; by
        <a href="feng-xia.html">Feng Xia</a>
      </p>
    </div>
  </div>

</article>



          <div id="related">
          </div>
        </div>
      </div>
    </div>

    <footer class="split-screen">
      <div class="container">
        <h5>Categories:</h5>
        <a href="https://fengxia41103.github.io/myblog/demo.html">
          <i class="fa fa-folder-open-o"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/dev.html">
          <i class="fa fa-folder-open-o"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/fashion.html">
          <i class="fa fa-folder-open-o"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/gkp.html">
          <i class="fa fa-folder-open-o"></i>
          gkp
        </a>
        <a href="https://fengxia41103.github.io/myblog/lenovo.html">
          <i class="fa fa-folder-open-o"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/odoo.html">
          <i class="fa fa-folder-open-o"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/openstack.html">
          <i class="fa fa-folder-open-o"></i>
          openstack
        </a>
        <a href="https://fengxia41103.github.io/myblog/pm.html">
          <i class="fa fa-folder-open-o"></i>
          pm
        </a>
        <a href="https://fengxia41103.github.io/myblog/react.html">
          <i class="fa fa-folder-open-o"></i>
          REACT
        </a>
        <a href="https://fengxia41103.github.io/myblog/rh.html">
          <i class="fa fa-folder-open-o"></i>
          rh
        </a>
        <a href="https://fengxia41103.github.io/myblog/stock.html">
          <i class="fa fa-folder-open-o"></i>
          stock
        </a>
        <a href="https://fengxia41103.github.io/myblog/thoughts.html">
          <i class="fa fa-folder-open-o"></i>
          thoughts
        </a>

        <h5>Tags:</h5>
        <a href="https://fengxia41103.github.io/myblog/tag-thoughts.html">
          <i class="fa fa-tag"></i>
          thoughts
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-dev.html">
          <i class="fa fa-tag"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-react.html">
          <i class="fa fa-tag"></i>
          react
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-love.html">
          <i class="fa fa-tag"></i>
          love
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-lenovo.html">
          <i class="fa fa-tag"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-angular.html">
          <i class="fa fa-tag"></i>
          angular
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-feng.html">
          <i class="fa fa-tag"></i>
          feng
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-design.html">
          <i class="fa fa-tag"></i>
          design
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-family.html">
          <i class="fa fa-tag"></i>
          family
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-demo.html">
          <i class="fa fa-tag"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-odoo.html">
          <i class="fa fa-tag"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-fashion.html">
          <i class="fa fa-tag"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-gkp.html">
          <i class="fa fa-tag"></i>
          gkp
        </a>
        <div class="">
          <h5>Show Cases:</h5>
          <div id="showcase">
            <p>
              Photo album:
              <a href="https://fengxia41103.github.io/moment/1236/#/">1236</a>
            </p>
            <p>
              API & charts:
              <a href="http://sp500chart.s3-website-us-east-1.amazonaws.com"
                >SP500</a
              >
            </p>
            <p>
              API & charts:
              <a
                href="http://snapshots.world.s3-website.ap-northeast-2.amazonaws.com/"
                >Snapshot of The World</a
              >
            </p>

            <p>
              Django (in Chinese):
              <a href="https://fengxia41103.github.io/myblog/project gkp demo.html">GKP</a>
            </p>
            <p>
              ERP:
              <a href="https://fengxia41103.github.io/myblog/project fashion demo.html">Fashion</a>
            </p>
            <p>
              Data processing:
              <a href="https://fengxia41103.github.io/myblog/project stock demo.html">Stock</a>
            </p>
            <p>
              Angular & REACT:
              <a href="https://fengxia41103.github.io/myblog/car leasing.html">Car leasing</a>
              &nbsp;|&nbsp;
              <a href="https://fengxia41103.github.io/spa-dashboard/">
                YAML Config Dashboard
              </a>
            </p>
            <p>
              API & REACT:
              <a href="https://fengxia41103.github.io/movie/">Movies</a>
            </p>
          </div>
        </div>
      </div>
      <video autoplay muted loop id="myVideo">
        <source src="downloads/polina.mp4" type="video/mp4" />
      </video>
    </footer>
    <div class="footer-copyright">
      <div class="container">
        <div class="row">
          <div class="col l8 m8 s12">
            <p>
              2016-2022 PY Consulting Ltd. 601 W. Rosemary St., Chapel Hill, NC 27516
            </p>

            <p>
              <a href="mailto:feng_xia41103@hotmail.com">
                <i class="fa fa-envelope"></i>
              </a>

              <a href="http://github.com/fengxia41103">
                <i class="fa fa-github"></i>
              </a>

              <a href="https://www.linkedin.com/in/fengxia41103">
                <i class="fa fa-linkedin"></i>
              </a>

              <a href="">
                <i class="fa fa-phone-square"></i>
                (508)801-1794
              </a>
            </p>
          </div>
          <div class="col l4 m4 s12">
            <p class="right">
              <i class="fa fa-copyright"></i>
              All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- end of block main -->

    <!-- Placed at the end of the document so the pages load faster -->

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://fengxia41103.github.io/myblog/theme/js/bundle.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/xml.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/diff.min.js"
    ></script>

    <script type="text/javascript">
     var exports = {};
     var j$ = jQuery.noConflict();

     j$(document).ready(function () {
       // highlight.js initialization
       hljs.initHighlightingOnLoad();
       j$("pre").each(function (i, block) {
         hljs.highlightBlock(block);
       });

       // tooltips
       j$('[data-toggle="tooltip"]').tooltip();

       // image materialbox
       j$(".materialboxed").materialbox();
     });
    </script>
    <!-- end of block JS -->

  </body>
</html>