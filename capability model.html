<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta
      name="viewport"
      content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"
    />

    <meta name="description" content="" />
    <meta name="author" content="" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/monokai-sublime.min.css" integrity="sha512-ade8vHOXH67Cm9z/U2vBpckPD1Enhdxl3N05ChXyFx5xikfqggrK4RrEele+VWY/iaZyfk7Bhk6CyZvlh7+5JQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css"
    />

    <link rel="stylesheet" href="https://fengxia41103.github.io/myblog/theme/css/my.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
            integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>



    <title>Be Care Free</title>
  </head>

  <body>
    <header id="mypage-index">
      <a href="https://fengxia41103.github.io/myblog/">Be Care Free </a>

      <a href="https://fengxia41103.github.io/myblog/about.html"> . About </a>
      <a href="https://fengxia41103.github.io/myblog/lei.html"> . 夏雷 </a>
      <a href="https://fengxia41103.github.io/myblog/project euler.html"> . Project Euler </a>
      <a href="https://fengxia41103.github.io/myblog/quote.html"> . Quote </a>
      <a href="https://fengxia41103.github.io/myblog/resume.html"> . Resum&eacute; </a>
      <a href="https://fengxia41103.github.io/myblog/search.html"> . Search </a>
      <a href="https://fengxia41103.github.io/myblog/slides.html"> . Impression </a>
    </header>
    <!-- end of block navbar -->

    <div class="split-screen">
      <div class="split-left-pane">
<!-- <video autoplay muted loop id="myVideo">
     <source src="downloads/polina.mp4" type="video/mp4" />}
     </video>
-->
      </div>

      <div class="split-right-pane">
        <div id="content" class="container">
<article>
   <div>
    <i class="fa fa-calendar" style="opacity: 0.5">&nbsp;</i>
    2018-06-12


    <a class="wave-effect" href="thoughts.html">
      <i class="fa fa-folder-open-o"></i>
      thoughts
    </a>

    <a class="wave-effect" href="tag-dev.html">
      <i class="fa fa-tag"></i>
      dev
    </a>

    <h1 class="myhighlight">System capability model</h1>
  </div>

  <ol id="toc" class="row"></ol>

  <div>
    <div id="article-content">
      <p><p>Ah, <a href="https://en.wikipedia.org/wiki/Data_center_infrastructure_management">DCIM</a>. Infrastructure needs to be managed, but then, what does
it mean? Borrowing from wiki, a view can be:</p>
<ol>
<li>Asset Management</li>
<li>Network connectivity Management</li>
<li>Environment Management</li>
<li>Energy Management</li>
<li>Change Management and</li>
<li>Capacity Management</li>
<li>Computational Fluid Dynamics (CFD) Integration[17]</li>
</ol>
<p>This type of view is based on an attribute of object that we are
managing &mdash; serial number is logged in asset management,
utilization is likely in energy management, and how full the rack is
falls in capacity management, and so on.</p>
<h1>View of attributes</h1>
<p>However, I think such a view is inadequate because it artificially
break an attribute into multiple systems, thus creating a boundary
and possibility that the same attribute may not present, or not
defined in an agree-ed way, thus its data and meaning becomes a
conflict rather than an added-value. The situation becomes even worse
when certain aspect of this attribute is a moving target,
eg. interface changes a name, or VLAN gets re-named. Are these
networking management? or asset management?</p>
<p>To give an example: what does it mean when a server is <em>under
management</em>? First is to inventory (model, serial #,
components...). But this is certainly not sufficient. What's the
<em>state</em> of it? (firmware version, BIOS settings). Then, reading these
and display them leads to the next step -- can we update them? Now
this is LXCA and its alternatives. But this leads to more, because
server <em>state</em> is meaningful only to whoever is using it
(workloads).... on top of these, a deployment involving multiple
servers will have a shutdown or bootup sequence which may call for a
specific order because of data dependency &larr; don't shutdown
storage server before all its <em>writers</em> have been turned off.</p>
<p>Therefore, managing a server will inevitably involve multiple
attributes at the same time, thus it must be a vertical view that cuts
through all the services mentioned above. In other words, previously
we extract a list of attributes from an object and build a system 
based on commonality of their meaning, eg. we put all serial numbers
into a system called "asset management", all fan speed and heat
assumption into a "energy management" system, and so on.
But such approach will always result in overlapping
presentation of the same object in multiple domains, which then
leads to a turf war that each fights over
whose reference is <em>more true than others</em>. A band-aid concept then is
brought up to build a <a href="https://en.wikipedia.org/wiki/Master_data_management">MDM</a>, a place where all different references
are reconcilled so to have a consistency and authority. But then, any
secondary presentation of a data leads to a load of questions such as
data synchronization, data integrity, and whether MDM is a receiver of
first-line system, or the source for them? </p>
<p>It should not be that way.</p>
<h1>A capability model</h1>
<p>Instead, I am proposing a different approach. Take any attribute you
would like to <em>management</em>, I would define its management using a
model of <strong>five levels of capabilities</strong> (see below). The higher the
level of capability we implement, the more control we have over that
attribute, and having control is just another term for management.</p>
<figure class="col s12 center">
  <img src="images/my%20capability%20model.png"/>
  <figcaption>Five levels of capabilities</figcaption>
</figure>

<h2>level 1: inventory</h2>
<p>This is capability of bookkeeping, such as an inventory of hardware as
seen in vanilla netbox. The distinguished character of data is that
they are static &mdash; serial number, UUID, and the like. Some data
are changed over time, such as rack position, but the frequency of its
change justifies it to be fully capable of a manual update.</p>
<p>Acceptable strategy:</p>
<ol>
<li>manual, or import</li>
<li>auto &larr; discovery <a href="https://github.com/xcat2/confluent/">confluent</a></li>
</ol>
<h2>level 2: reality, and/or, design</h2>
<p>These two go hand-in-hand, and I'll explain why so.</p>
<p>Reality is referring to a form of <strong>passive read</strong> to collect
information &mdash; meta of a system, network traffic, interface name,
power state, host name, MAC address. It provides data to form a view
of <strong>what we actually have</strong>.</p>
<blockquote>
<p>Remember, in a machine world, if it can read once, it can read
continuously for many many times.</p>
</blockquote>
<p>If one can describe a reality, the same syntax shall be able to
describe also a <strong>design</strong> &mdash; an expectation of what we want to
have.</p>
<p>In any software-defined scheme, we can easily relate to a set of
<em>configuration values</em> as the design, while their effects represent
the reality &mdash; I want to set host name to be "xyz", well, so what
is its name as of this moment? or in a programming language context,
reality is the <code>get</code> while design is the <code>set</code>.</p>
<p>But one curious thing of this level is that these two capabilities are
not both required! You can have a way to read reality, but may have no
way to match it to a design. For example, <a href="https://www.elastic.co/products/logstash"><code>logdash</code></a>, is a reality
tool, not a design tool. Then there is Visio, PPT, Word, that you can
write all about your design, and they will not do anything to convert
your text to a line of code or a configured system.</p>
<p>Acceptable strategy:</p>
<ol>
<li>For monitoring, auto ONLY (manual is meaningless).</li>
</ol>
<h2>level 3: diff</h2>
<p><strong>Diff = reality - design</strong>.  If you have ever been in a brainstorm
session of new idea, this is what got most people execited about,
because it quickly leads to: customer configurable threshold, and
<strong>alerts</strong>. Now everybody is picturing a buzzing text message, or at
least an email, to alert an admin in the middle of a night when <strong>a
diff exceeds a threshold</strong> &larr; it feels empowering, intelligent,
and machine like.</p>
<p>But this is a lot harder than many would like to believe. The
challenge lies in the detail of the <strong>design</strong> &larr; what consists of
your design? what are the indexes? values? definition of done? Few
people are good at describing what they want in an upfront
fashion. Often enough it becomes a guess game, while either both
parties enjoy, or one gets completly annoyed and frustrated.</p>
<blockquote>
<p>You: I want to buy a ticket.
Agent: where are you going?
You: Raleigh, NC.
Agent: here it is.
You: But it's no good.
Agent: What do you mean?
You: It's not a United Airline flight.
Agent: Oh, np. Here is a UA ticket.
You: No good.
Agent: Why?
You: It's a morning flight!
Agent: What would you prefer?
.....</p>
</blockquote>
<p>Challenge is in the hand of designer &mdash; how well can s/he list
out a list of preferences, and how important they are... if you have
written software requirements, you know most, if not all projects, die
right here.</p>
<p>Acceptable strategy:</p>
<ol>
<li>auto (manual is meaningless).</li>
</ol>
<h2>level 4: design &rarr; reality</h2>
<p>As soon as one can monitor and validate (level 3 capabilities), the
next logical step is to <strong>make design into reality</strong>. This at least
takes care of Day 0 deployment. It requires:</p>
<ol>
<li>a syntax to describe design, </li>
<li>a tool to convert it into executable instructions, </li>
<li>a monitoring service/agent to read where we are</li>
<li>a validation/diff to know how far are we from destination</li>
</ol>
<p>To user, this is what they will call a <code>state</code> &mdash; they give you a
wish list, and you are the genie in a bottle.</p>
<p>Acceptable strategy:</p>
<ol>
<li>paper instruction</li>
<li>some level of automation</li>
<li>many orchestration tools all claim to achieve this with zero pains.</li>
</ol>
<h2>level 5: diff &rarr; design</h2>
<p>If level 4 gets your design to a reality on day 1, then system will
inevitably drift and diff from design over time. Alert is nice, but
self-correction is better.</p>
<p>Different from design &rarr; reality, diff is essentially a moving
target. Unlike design which is a static set of expectations, diff can
expose a value on one has thought about. Thus a capability to bring
diff back into designed state is a challenge.</p>
<p>Acceptable strategy:</p>
<ol>
<li>Full re-build: wipe it clean and re-build as if new.</li>
<li>Incremental correction.</li>
<li>Hybrid: this is the hardest one, also the most likely approach,
   because it involves a decision of when we should just wipe it clean
   and rebuild, and when a correction is preferred.</li>
</ol>
<h1>An exercise</h1>
<p>Let's try it with managing a server. </p>
<figure class="col s12 center">
  <img src="images/netbox%20device.png"/>
  <figcaption>Example: netbox device model</figcaption>  
</figure>

<p><strong>Filling a value to each and every attribute field does not make the
server managed</strong>. Instead, we should examine one attribute at a time. Take
<code>primary_ip4</code> attribute for example:</p>
<ol>
<li>level 1: can we document/inventory its value?</li>
<li>level 2: <ol>
<li>reality: can we discover IP and match it with a server?</li>
<li>design: can we define an IP for a server before this IP actually
  exists?</li>
</ol>
</li>
<li>level 3: can we audit and sound an alarm if there is a diff?</li>
<li>level 4: can we command this server to obtain a pre-defined IP?</li>
<li>level 5: if diff is detected, can we do sonmething to re-obtain the original IP
   besides sounding an alarm?</li>
</ol>
<p>In Netbox, this capability stops at level 1. It can inventory, but has
no discovery capability, no design capability, thus having no level
3-5 capabilities either. Therefore, the IP attribute of a
server in Netbox is managed at Level 1, if that satisfies your requirement.</p>
<h1>Conclusion</h1>
<p>There is no silver bullet. View, framework, paradigm, these are just
convenient words, labels, jargons, or BS-es. Attribute is often real
and concrete &mdash; a rack position, a serial number;
but its management is ambiguous. However, following a vertical view
in term of these capabilities, we can at least create five
placeholders for each and every, thing, that you want to call to
manage, and ask to fill these blanks before claiming it is managed
just because it is in a "management system".</p>
<p>My 2 cents.</p></p>

      <p>
        &mdash; by
        <a href="feng-xia.html">Feng Xia</a>
      </p>
    </div>
  </div>

</article>



          <div id="related">
          </div>
        </div>
      </div>
    </div>

    <footer class="split-screen">
      <div class="container">
        <h5>Categories:</h5>
        <a href="https://fengxia41103.github.io/myblog/demo.html">
          <i class="fa fa-folder-open-o"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/dev.html">
          <i class="fa fa-folder-open-o"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/fashion.html">
          <i class="fa fa-folder-open-o"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/gkp.html">
          <i class="fa fa-folder-open-o"></i>
          gkp
        </a>
        <a href="https://fengxia41103.github.io/myblog/lenovo.html">
          <i class="fa fa-folder-open-o"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/odoo.html">
          <i class="fa fa-folder-open-o"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/openstack.html">
          <i class="fa fa-folder-open-o"></i>
          openstack
        </a>
        <a href="https://fengxia41103.github.io/myblog/pm.html">
          <i class="fa fa-folder-open-o"></i>
          pm
        </a>
        <a href="https://fengxia41103.github.io/myblog/react.html">
          <i class="fa fa-folder-open-o"></i>
          REACT
        </a>
        <a href="https://fengxia41103.github.io/myblog/rh.html">
          <i class="fa fa-folder-open-o"></i>
          rh
        </a>
        <a href="https://fengxia41103.github.io/myblog/stock.html">
          <i class="fa fa-folder-open-o"></i>
          stock
        </a>
        <a href="https://fengxia41103.github.io/myblog/thoughts.html">
          <i class="fa fa-folder-open-o"></i>
          thoughts
        </a>

        <h5>Tags:</h5>
        <a href="https://fengxia41103.github.io/myblog/tag-thoughts.html">
          <i class="fa fa-tag"></i>
          thoughts
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-dev.html">
          <i class="fa fa-tag"></i>
          dev
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-react.html">
          <i class="fa fa-tag"></i>
          react
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-love.html">
          <i class="fa fa-tag"></i>
          love
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-lenovo.html">
          <i class="fa fa-tag"></i>
          lenovo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-angular.html">
          <i class="fa fa-tag"></i>
          angular
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-feng.html">
          <i class="fa fa-tag"></i>
          feng
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-design.html">
          <i class="fa fa-tag"></i>
          design
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-family.html">
          <i class="fa fa-tag"></i>
          family
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-demo.html">
          <i class="fa fa-tag"></i>
          demo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-odoo.html">
          <i class="fa fa-tag"></i>
          odoo
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-fashion.html">
          <i class="fa fa-tag"></i>
          fashion
        </a>
        <a href="https://fengxia41103.github.io/myblog/tag-gkp.html">
          <i class="fa fa-tag"></i>
          gkp
        </a>
        <div class="">
          <h5>Show Cases:</h5>
          <div id="showcase">
            <p>
              Photo album:
              <a href="https://fengxia41103.github.io/moment/1236/#/">1236</a>
            </p>
            <p>
              API & charts:
              <a href="http://sp500chart.s3-website-us-east-1.amazonaws.com"
                >SP500</a
              >
            </p>
            <p>
              API & charts:
              <a
                href="http://snapshots.world.s3-website.ap-northeast-2.amazonaws.com/"
                >Snapshot of The World</a
              >
            </p>

            <p>
              Django (in Chinese):
              <a href="https://fengxia41103.github.io/myblog/project gkp demo.html">GKP</a>
            </p>
            <p>
              ERP:
              <a href="https://fengxia41103.github.io/myblog/project fashion demo.html">Fashion</a>
            </p>
            <p>
              Data processing:
              <a href="https://fengxia41103.github.io/myblog/project stock demo.html">Stock</a>
            </p>
            <p>
              Angular & REACT:
              <a href="https://fengxia41103.github.io/myblog/car leasing.html">Car leasing</a>
              &nbsp;|&nbsp;
              <a href="https://fengxia41103.github.io/spa-dashboard/">
                YAML Config Dashboard
              </a>
            </p>
            <p>
              API & REACT:
              <a href="https://fengxia41103.github.io/movie/">Movies</a>
            </p>
          </div>
        </div>
      </div>
      <video autoplay muted loop id="myVideo">
        <source src="downloads/polina.mp4" type="video/mp4" />
      </video>
    </footer>
    <div class="footer-copyright">
      <div class="container">
        <div class="row">
          <div class="col l8 m8 s12">
            <p>
              2016-2022 PY Consulting Ltd. 601 W. Rosemary St., Chapel Hill, NC 27516
            </p>

            <p>
              <a href="mailto:feng_xia41103@hotmail.com">
                <i class="fa fa-envelope"></i>
              </a>

              <a href="http://github.com/fengxia41103">
                <i class="fa fa-github"></i>
              </a>

              <a href="https://www.linkedin.com/in/fengxia41103">
                <i class="fa fa-linkedin"></i>
              </a>

              <a href="">
                <i class="fa fa-phone-square"></i>
                (508)801-1794
              </a>
            </p>
          </div>
          <div class="col l4 m4 s12">
            <p class="right">
              <i class="fa fa-copyright"></i>
              All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- end of block main -->

    <!-- Placed at the end of the document so the pages load faster -->

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://fengxia41103.github.io/myblog/theme/js/bundle.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/xml.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/diff.min.js"
    ></script>

    <script type="text/javascript">
     var exports = {};
     var j$ = jQuery.noConflict();

     j$(document).ready(function () {
       // highlight.js initialization
       hljs.initHighlightingOnLoad();
       j$("pre").each(function (i, block) {
         hljs.highlightBlock(block);
       });

       // tooltips
       j$('[data-toggle="tooltip"]').tooltip();

       // image materialbox
       j$(".materialboxed").materialbox();
     });
    </script>
    <!-- end of block JS -->

  </body>
</html>