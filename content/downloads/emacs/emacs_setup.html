<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-11-07 Tue 09:24 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Feng Xia" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org1a1789a">1. The idea</a></li>
<li><a href="#orgbfacce7">2. Deps</a>
<ul>
<li><a href="#orge573359">2.1. what I want to use</a></li>
</ul>
</li>
<li><a href="#org68223af">3. Clean start</a>
<ul>
<li><a href="#org9c096d1">3.1. .emacs</a></li>
<li><a href="#orgbda1cad">3.2. bootstrap.el</a></li>
</ul>
</li>
<li><a href="#orgb8a2ad1">4. Reset</a>
<ul>
<li><a href="#orgeb150a5">4.1. reset config</a></li>
<li><a href="#recompile-packages">4.2. recompile all packages</a></li>
</ul>
</li>
<li><a href="#orgaa52f6a">5. Initialize emacs</a>
<ul>
<li><a href="#org4e85336">5.1. info header</a></li>
<li><a href="#org1af6e73">5.2. melpa</a></li>
<li><a href="#orgd83792a">5.3. use-package</a></li>
<li><a href="#orge0f1ed8">5.4. tangle this config</a>
<ul>
<li><a href="#orgbc2c4ec">5.4.1. manual tangle</a></li>
<li><a href="#org7098d6a">5.4.2. auto tangle</a></li>
</ul>
</li>
<li><a href="#org2d7d322">5.5. surpress "add-handle-definition&#x2026;" error</a></li>
</ul>
</li>
<li><a href="#org3522444">6. Base packages</a>
<ul>
<li><a href="#orge6e1d2f">6.1. all-the-icons</a></li>
<li><a href="#org7d066f3">6.2. rainbow-mode</a></li>
<li><a href="#hydra">6.3. Hydra</a></li>
<li><a href="#org3ecb77e">6.4. whichkey</a></li>
</ul>
</li>
<li><a href="#org13a5591">7. Global stuff</a>
<ul>
<li><a href="#orga38d852">7.1. by packages</a>
<ul>
<li><a href="#org8ad0f8b">7.1.1. UTF-8</a></li>
<li><a href="#orga74e237">7.1.2. shell env</a></li>
</ul>
</li>
<li><a href="#org4f7e004">7.2. UTF-8 env</a></li>
<li><a href="#org0bd1e32">7.3. browser (default: chrome)</a></li>
<li><a href="#org8c7e13d">7.4. emacs server (default: off)</a></li>
<li><a href="#org5d0d836">7.5. newline (only Unix wanted)</a></li>
<li><a href="#org31b198b">7.6. auto revert</a></li>
<li><a href="#org6395748">7.7. yes-or-no</a></li>
<li><a href="#org9242036">7.8. hide menu bar &amp; toolbar</a></li>
<li><a href="#org2963f91">7.9. alternate key mappings</a></li>
<li><a href="#org494e7f4">7.10. macros (default: off)</a></li>
<li><a href="#orgb89a0a7">7.11. linum</a></li>
<li><a href="#org3bd3a34">7.12. disable electric-indent</a></li>
<li><a href="#org5a1b9e6">7.13. set clipboard to utf-8</a></li>
</ul>
</li>
<li><a href="#org33a0787">8. Font, theme</a>
<ul>
<li><a href="#org86da230">8.1. by packages</a>
<ul>
<li><a href="#org4189640">8.1.1. sublime themes (default: spolsky)</a></li>
<li><a href="#org3eae96f">8.1.2. mode lines</a></li>
<li><a href="#org8ef3f3f">8.1.3. delight</a></li>
<li><a href="#org1083fc8">8.1.4. multiple-cursors</a></li>
<li><a href="#org90aec76">8.1.5. dimmer</a></li>
<li><a href="#orgf2edc60">8.1.6. highlight indent</a></li>
</ul>
</li>
<li><a href="#orgb39f714">8.2. fontlock</a></li>
<li><a href="#org36c892b">8.3. faces</a></li>
<li><a href="#org479c9d5">8.4. be quiet</a></li>
<li><a href="#orgf25623e">8.5. In terminal mode</a></li>
<li><a href="#org42be3fe">8.6. In X11 mode: mouse and window title</a></li>
<li><a href="#org4b053c9">8.7. dynamic cursor colors</a></li>
</ul>
</li>
<li><a href="#orgf025bb4">9. Coding</a>
<ul>
<li><a href="#org4d2a040">9.1. set authinfo as source</a></li>
<li><a href="#orgd61d9c9">9.2. taskjuggler-mode (tj3-mode)</a></li>
<li><a href="#org1d3ba9b">9.3. Version control</a>
<ul>
<li><a href="#org5d6fb83">9.3.1. magit</a></li>
<li><a href="#org1b2724f">9.3.2. monky</a></li>
<li><a href="#orgf0b2df6">9.3.3. git informations in gutter</a></li>
<li><a href="#org5c92c1c">9.3.4. speedup VCS</a></li>
<li><a href="#orgebcff37">9.3.5. global caller</a></li>
<li><a href="#orgb326beb">9.3.6. forge</a></li>
<li><a href="#org9fe0007">9.3.7. code review</a></li>
<li><a href="#org02e15f7">9.3.8. github review</a></li>
</ul>
</li>
<li><a href="#orge00fc98">9.4. Projectile</a></li>
<li><a href="#org62a71da">9.5. debug w/ GDB</a>
<ul>
<li><a href="#org0c21988">9.5.1. <span class="todo TODO">TODO</span> Make it so that the source frame placement is forced only when using gdb.</a></li>
</ul>
</li>
<li><a href="#org0f88ff7">9.6. editing</a>
<ul>
<li><a href="#orgba482b2">9.6.1. diffing</a></li>
<li><a href="#org067f400">9.6.2. yasnippet</a></li>
<li><a href="#org1a55145">9.6.3. commenting out</a></li>
<li><a href="#org059092e">9.6.4. deduplicate and sort</a></li>
<li><a href="#orgb449ec4">9.6.5. selective display (default: off)</a></li>
<li><a href="#orgb559e77">9.6.6. hightlight-indent-guide-mode</a></li>
<li><a href="#org330c14a">9.6.7. folding by indent level</a></li>
</ul>
</li>
<li><a href="#org6640e38">9.7. IRC</a></li>
<li><a href="#orgc2c84da">9.8. restclient</a></li>
<li><a href="#orgd644334">9.9. lsp</a></li>
<li><a href="#orgab48dc9">9.10. languages</a>
<ul>
<li><a href="#org7905d77">9.10.1. markdown</a></li>
<li><a href="#org7a085fe">9.10.2. C/C++</a></li>
<li><a href="#org7283245">9.10.3. python</a></li>
<li><a href="#org05c18d9">9.10.4. web-mode</a></li>
<li><a href="#orgc9148d5">9.10.5. emmet-mode</a></li>
<li><a href="#org21eb8a4">9.10.6. javascript family: .js .ts .jsx</a></li>
<li><a href="#orgffb48d1">9.10.7. csv</a></li>
<li><a href="#orgf94ed3d">9.10.8. json</a></li>
<li><a href="#orgac07113">9.10.9. yaml</a></li>
<li><a href="#org44a4e54">9.10.10. jenkins</a></li>
<li><a href="#org83ae7f3">9.10.11. SQL</a></li>
<li><a href="#org8921601">9.10.12. Microsoft DAX</a></li>
<li><a href="#org3712e97">9.10.13. Terraform</a></li>
<li><a href="#org97134b5">9.10.14. Java</a></li>
</ul>
</li>
<li><a href="#org89a338f">9.11. LAST: enforce my tab style</a></li>
</ul>
</li>
<li><a href="#org85083e4">10. Buffers</a>
<ul>
<li><a href="#org5d4f00a">10.1. by packages</a>
<ul>
<li><a href="#org511cffa">10.1.1. multi desktops: eyebrowse</a></li>
<li><a href="#org931516d">10.1.2. select buffer</a></li>
<li><a href="#orgbfc7ec0">10.1.3. buffer naming</a></li>
</ul>
</li>
<li><a href="#orgcd5071a">10.2. save &amp; restore buffers</a></li>
<li><a href="#org6472802">10.3. switch window config: winner-mode</a></li>
<li><a href="#orgaf585fb">10.4. toggle maximize buffer</a></li>
<li><a href="#orge24969e">10.5. buffer decorations</a></li>
</ul>
</li>
<li><a href="#org32403aa">11. Editing</a>
<ul>
<li><a href="#org964cb45">11.1. by packages</a>
<ul>
<li><a href="#orga3d53c0">11.1.1. auto company</a></li>
<li><a href="#org2bd6d66">11.1.2. undo tree</a></li>
<li><a href="#org79e098d">11.1.3. search &amp; jump</a></li>
<li><a href="#org781adf2">11.1.4. max 80 cols wide</a></li>
<li><a href="#org21f853a">11.1.5. highlight whitespace &amp; lines &gt; 80 long</a></li>
<li><a href="#orgbff639e">11.1.6. browse kill ring</a></li>
<li><a href="#org43ab51f">11.1.7. parenthesis</a></li>
<li><a href="#orgb4cd88a">11.1.8. string inflection (default: some modes)</a></li>
<li><a href="#orgd5ed151">11.1.9. annotate-mode (default: some modes)</a></li>
<li><a href="#orgf1674cb">11.1.10. writeroom-mode (default: off)</a></li>
<li><a href="#orgc53aa49">11.1.11. anzu</a></li>
<li><a href="#orgf85a357">11.1.12. move-text</a></li>
<li><a href="#orgbe6fe49">11.1.13. tabs to 2</a></li>
</ul>
</li>
<li><a href="#orgc47d845">11.2. no trailing spaces</a></li>
<li><a href="#org875fd07">11.3. iedit mode</a></li>
<li><a href="#org7738147">11.4. ediff</a></li>
</ul>
</li>
<li><a href="#org5b8939f">12. Navigate file &amp; dir</a>
<ul>
<li><a href="#org391a73b">12.1. dir hack</a></li>
<li><a href="#org97ea6d0">12.2. dired-rainbow</a></li>
<li><a href="#org695c306">12.3. dired-narrow</a></li>
<li><a href="#orgaa42d68">12.4. dired-collapse</a></li>
<li><a href="#org36b9330">12.5. dired-filter</a></li>
<li><a href="#treemacs">12.6. treemacs (default: off)</a></li>
</ul>
</li>
<li><a href="#orgd79cfd6">13. Helm</a></li>
<li><a href="#org065f193">14. Write chinese</a></li>
<li><a href="#orge07ad8d">15. Office stuff</a>
<ul>
<li><a href="#org7327279">15.1. mu4e email</a>
<ul>
<li><a href="#org6b288d5">15.1.1. install &amp; minimal setup</a></li>
<li><a href="#org8067ce0">15.1.2. mu4e-column-faces</a></li>
<li><a href="#orgdab0091">15.1.3. customize face</a></li>
<li><a href="#org15cde9b">15.1.4. context</a></li>
<li><a href="#org2853098">15.1.5. how to get mails</a></li>
<li><a href="#org90ac64f">15.1.6. list view</a></li>
<li><a href="#org242988b">15.1.7. read &amp; attachment</a></li>
<li><a href="#org282ec0f">15.1.8. write new</a></li>
<li><a href="#org2618fc3">15.1.9. send</a></li>
<li><a href="#org02168b0">15.1.10. reply</a></li>
<li><a href="#org7388a56">15.1.11. kill all buffer upon exit</a></li>
<li><a href="#org322d6a4">15.1.12. write html</a></li>
<li><a href="#org501f18c">15.1.13. capture to org</a></li>
</ul>
</li>
<li><a href="#org8081f53">15.2. slack</a></li>
</ul>
</li>
<li><a href="#org6b2c87f">16. Hobbies</a>
<ul>
<li><a href="#org9e8806c">16.1. elfeed</a></li>
<li><a href="#orgd95ce28">16.2. taskjuggler</a></li>
</ul>
</li>
<li><a href="#org804ba92">17. My doc writing</a>
<ul>
<li><a href="#org89ddb04">17.1. pandoc</a></li>
</ul>
</li>
<li><a href="#orge9eee46">18. The big Org</a>
<ul>
<li><a href="#org2402b51">18.1. init</a>
<ul>
<li><a href="#org7ca50e1">18.1.1. NEXT This does not seem to work, check out doc about defcustom</a></li>
</ul>
</li>
<li><a href="#orgfdd192f">18.2. others</a>
<ul>
<li><a href="#org4aa53fa">18.2.1. by packages</a></li>
<li><a href="#org27305a3">18.2.2. snippets found online</a></li>
</ul>
</li>
<li><a href="#orgff6c1af">18.3. key mappings</a></li>
<li><a href="#org9dd3d9c">18.4. display settings</a>
<ul>
<li><a href="#org3b42cf4">18.4.1. org-bullets</a></li>
<li><a href="#org414bdee">18.4.2. headline font</a></li>
<li><a href="#orgdc34b5d">18.4.3. custom font</a></li>
</ul>
</li>
<li><a href="#orga65c399">18.5. writing stuff</a>
<ul>
<li><a href="#orga994828">18.5.1. by packages</a></li>
<li><a href="#org2eeff9f">18.5.2. org-link-abbrev</a></li>
<li><a href="#org2f0dd9f">18.5.3. auto line wrap</a></li>
</ul>
</li>
<li><a href="#org659f048">18.6. export</a>
<ul>
<li><a href="#org72964ea">18.6.1. org-babel</a></li>
<li><a href="#org4da5f14">18.6.2. markdown</a></li>
<li><a href="#org3fcd8c5">18.6.3. beamer</a></li>
<li><a href="#org7a4ce17">18.6.4. org-reveal</a></li>
<li><a href="#org67e6b3f">18.6.5. odt</a></li>
<li><a href="#orgc75c8a5">18.6.6. taskjuggler</a></li>
<li><a href="#org947d522">18.6.7. confluence</a></li>
</ul>
</li>
<li><a href="#org9ad2aa0">18.7. managing life (aka. agenda/todo)</a>
<ul>
<li><a href="#org1f53801">18.7.1. where are my agenda files</a></li>
<li><a href="#org352bb6a">18.7.2. by packages</a></li>
<li><a href="#org5efcf54">18.7.3. keywords &amp; status state machine</a></li>
<li><a href="#orga909a1d">18.7.4. priorities</a></li>
<li><a href="#org09928f2">18.7.5. capture &amp; refile</a></li>
<li><a href="#org68bb15f">18.7.6. task tracking</a></li>
<li><a href="#org47f9887">18.7.7. effort &amp; columns mode</a></li>
<li><a href="#orga76b7b8">18.7.8. shortcut to open first agenda file</a></li>
<li><a href="#org62b11f1">18.7.9. org-agenda</a></li>
<li><a href="#org76bd4ca">18.7.10. org-clock properties</a></li>
</ul>
</li>
<li><a href="#org76581bc">18.8. LAST step: reload org</a></li>
</ul>
</li>
<li><a href="#org3db076a">19. THE END</a></li>
</ul>
</div>
</div>
<p>
+TITLE: Feng's Emacs configuration
</p>
<p>
I have seen others using org-mode to mangae emacs config, and they
came out very nicely. Finally, after 4 years of using emacs, I ran
into <a href="https://github.com/pascalfleury/emacs-config">Pascal Fleury</a> portal emacs config, and it makes sense to me!!
After trying it out for a couple weeks now, I really like it! So now
after the configs are stable to my taste, and is also growing slowly
when I add new packages and custom stuff, I find the original sections
a bit, confusing. So I'm to take his copy and rearrange it so it fits
my way of thinking. I will not change the fundamental things such as
<code>tangle</code>, but will clarify what the packages and configs are about.
</p>

<div id="outline-container-org1a1789a" class="outline-2">
<h2 id="org1a1789a"><span class="section-number-2">1</span> The idea</h2>
<div class="outline-text-2" id="text-1">
<p>
This idea is actually a bit chicken-egg: in order to tangle, you must
first fire up emacs, then convert this org to <code>.el</code>, then load it back
into emacs to take effect.
</p>

<p>
The key here are relying on two things:
</p>

<ol class="org-ol">
<li>There are two version of the <code>emacs_setup.el</code> file, one is a dummy
short version that gets loaded for the very first time. This is the
same stuff you can recreate using the <a href="#orgbc2c4ec">5.4.1</a>: <code>C-c C-v t</code>.</li>
<li>In the default <code>.emacs, write one line: to load this =.el</code> file. Then,
it short version will tangle this org file, and write over itself
(on disk), thus literally replaced itself w/ more contents. At this
point, it will tangle all the code blocks in this file, and at the
end of it, it will call to <a href="#recompile-packages">recompile packages</a>, thus kicking off the
entire download, compiling, installation and configuration.</li>
</ol>
</div>
</div>

<div id="outline-container-orgbfacce7" class="outline-2">
<h2 id="orgbfacce7"><span class="section-number-2">2</span> Deps</h2>
<div class="outline-text-2" id="text-2">
<p>
There are some host packages/tools you need to install. These are not
hard dependencies, but really, it works better that way if they are there.
</p>

<p>
I have been thinking how to handle them. The original author uses
tangle to create a bash file. So the idea is to run this <code>.sh</code>
first. But then, I think there are two problems:
</p>

<ol class="org-ol">
<li>host package manager is different, eg. <code>apt</code> for Ubuntu, and <code>yum</code> for Cent.</li>
<li><p>
package name changes sometimes, and not mention, the packages are
completely different among distributions.
</p>

<p>
So all in all, I think it's much better to simply list what I want
to have, and then let some offline research/google to handle how to
install them. Another idea is to build a Docker image w/ all thest
inside. Hmm&#x2026; I may try that someday.
</p></li>
</ol>
</div>

<div id="outline-container-orge573359" class="outline-3">
<h3 id="orge573359"><span class="section-number-3">2.1</span> what I want to use</h3>
<div class="outline-text-3" id="text-2-1">
<p>
I'll simply keep a list:
</p>

<ol class="org-ol">
<li><a href="https://github.com/ggreer/the_silver_searcher">silver searcher, aka. ag</a></li>
<li><a href="https://github.com/nvm-sh/nvm">nvm</a>: needed for Node</li>
<li><a href="https://prettier.io/docs/en/install.html">prettier</a>: require Node first</li>
<li>sqlite3: needed by org-roam</li>
<li><a href="https://github.com/hakimel/reveal.js/">reveal.js</a>: needed to enable org-export to reveal slides</li>
<li><a href="https://plantuml.com/download">plantuml.jar</a></li>
<li><a href="https://packages.ubuntu.com/search?keywords=mu4e">mu4e</a> &amp; <a href="https://packages.ubuntu.com/search?keywords=isync">isync</a> (this give you <code>mbsync</code>)</li>
<li><a href="https://github.com/mguessan/davmail">davmail</a></li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org68223af" class="outline-2">
<h2 id="org68223af"><span class="section-number-2">3</span> Clean start</h2>
<div class="outline-text-2" id="text-3">
<p>
<b>ASSUMPTION</b>:
</p>

<ol class="org-ol">
<li>you have installed emacs. Using v26.3 as of writing.</li>
<li>determine where to put this org file. Throughout this doc, we are
assuming <code>~/Emacs/</code> as the folder.</li>
</ol>

<p>
Once you are here, starting from a clean sheet is pretty easy:
</p>

<ol class="org-ol">
<li>delete all your old <code>.emacs</code>, <code>.emacs.d</code>, or back them up somewhere.</li>
<li>tangle this org file into a <code>.el</code> file. To make things easier, I'm
going to include the <code>.el</code> in the repo. So just copy it.</li>
<li>create a <code>.emacs</code> file, and write one line <code>(load-file
   "~/Emacs/emacs_setup.el")</code>, essentially tells emacs where to find
the initial config file.</li>
<li>make sure Emacs re-interprets its init (you could restart it).</li>
</ol>

<p>
That's it. Just sit back and watch emacs download and compile things,
and after it's done, you will be given the power of this beautiful
editor, all configured and ready to go! Now to think of it, isn't this
what LOC is trying to achieve!?
</p>
</div>

<div id="outline-container-org9c096d1" class="outline-3">
<h3 id="org9c096d1"><span class="section-number-3">3.1</span> .emacs</h3>
<div class="outline-text-3" id="text-3-1">
<p>
I have my config in directory <code>~/Emacs</code> which is where I clone this
repository. The config setup is maintained purely in the
<code>~/Emacs/emacs_setup.org</code> file.
</p>

<p>
In your <code>~/.emacs</code> file, all you need to add is
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgda14489"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Loads Feng's emacs setup with bootstrap</span>
<span style="color: #8c8c8c;">(</span>load-file <span style="color: #EEDC82;">"~/Emacs/emacs_setup.el"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbda1cad" class="outline-3">
<h3 id="orgbda1cad"><span class="section-number-3">3.2</span> bootstrap.el</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Put this in the <code>~/Emacs/emacs_setup.el</code>, and viola, it will regnerate itself!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">This is the initial state of the file to be loaded.</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">It will replace itself with the actual configuration at first run.</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">org</span><span style="color: #8c8c8c;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">We can't tangle without org!</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> config_base <span style="color: #93a8c6;">(</span>expand-file-name <span style="color: #EEDC82;">"emacs_setup"</span>
            <span style="color: #b0b1a3;">(</span>file-name-directory
             <span style="color: #97b098;">(</span><span style="color: #F92672;">or</span> load-file-name buffer-file-name<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>find-file <span style="color: #93a8c6;">(</span>concat config_base <span style="color: #EEDC82;">".org"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>        <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">Open the configuration</span>
<span style="color: #8c8c8c;">(</span>org-babel-tangle<span style="color: #8c8c8c;">)</span>                             <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">tangle it</span>
<span style="color: #8c8c8c;">(</span>load-file <span style="color: #93a8c6;">(</span>concat config_base <span style="color: #EEDC82;">".el"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>         <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">load it</span>
<span style="color: #8c8c8c;">(</span>byte-compile-file <span style="color: #93a8c6;">(</span>concat config_base <span style="color: #EEDC82;">".el"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">finally byte-compile it</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb8a2ad1" class="outline-2">
<h2 id="orgb8a2ad1"><span class="section-number-2">4</span> Reset</h2>
<div class="outline-text-2" id="text-4">
<p>
Reset takes two steps, but you can do either or both, depending on
what you are trying to reset.
</p>
</div>

<div id="outline-container-orgeb150a5" class="outline-3">
<h3 id="orgeb150a5"><span class="section-number-3">4.1</span> reset config</h3>
<div class="outline-text-3" id="text-4-1">
<p>
If you have made a change to this org and what's to test drive it, you
need to either <a href="#orgbc2c4ec">5.4.1</a> or just save this file to trigger <a href="#org7098d6a">5.4.2</a>. Sometimes, I found I have to go the <a href="#orgbc2c4ec">5.4.1</a> route
because the hook is not fired. This is understandable that when I'm
changing this file, it may render a broken config, thus the hook and
all others can be in a comprised state when you start emacs.
</p>
</div>
</div>

<div id="outline-container-org795cafc" class="outline-3">
<h3 id="recompile-packages"><span class="section-number-3">4.2</span> recompile all packages</h3>
<div class="outline-text-3" id="text-recompile-packages">
<p>
This is the <b>RESET</b> button. This will force-recompile everything in
<code>~/.emacs.d/elpa/...</code> Just run <code>M-:</code> and then enter this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>byte-recompile-directory package-user-dir nil 'force<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
or simply <code>C-x C-e</code> at the end of that line.
</p>

<p>
<b>Note</b> that by setting <code>:tangle no</code>, this piece of code will be included
into the <code>.el</code> file. So it stays inside this org. Nice.
</p>
</div>
</div>
</div>

<div id="outline-container-orgaa52f6a" class="outline-2">
<h2 id="orgaa52f6a"><span class="section-number-2">5</span> Initialize emacs</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org4e85336" class="outline-3">
<h3 id="org4e85336"><span class="section-number-3">5.1</span> info header</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Just to add a little information in the tangled file so you don't
<b>manually</b> mess with the generated <code>.el</code> file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">===== this file was auto-tangled, only edit the emacs_setup.org =====</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1af6e73" class="outline-3">
<h3 id="org1af6e73"><span class="section-number-3">5.2</span> melpa</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Make sure we have the package system initialized before we load anything.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">package</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> <span style="color: #93a8c6;">(</span>&lt; emacs-major-version 27<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>package-initialize<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Adding my choice of packages repositories.
</p>

<p>
#+NAME melpa-setup
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> package-archives '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"org"</span> . <span style="color: #EEDC82;">"https://orgmode.org/elpa/"</span><span style="color: #b0b1a3;">)</span>
                         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"stable-melpa"</span> . <span style="color: #EEDC82;">"https://stable.melpa.org/packages/"</span><span style="color: #b0b1a3;">)</span>
                         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"melpa"</span> . <span style="color: #EEDC82;">"https://melpa.org/packages/"</span><span style="color: #b0b1a3;">)</span>
                         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"gnu"</span> . <span style="color: #EEDC82;">"https://elpa.gnu.org/packages/"</span><span style="color: #b0b1a3;">)</span>
                        <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd83792a" class="outline-3">
<h3 id="orgd83792a"><span class="section-number-3">5.3</span> use-package</h3>
<div class="outline-text-3" id="text-5-3">
<p>
I use <code>use-package</code> for most configuration, and that needs to be at the
top of the file.  <code>use-package</code> verifies the presence of the requested
package, otherwise installs it, and presents convenient sections for
configs of variables, key bindings etc. that happen only if the
package is actually loaded.
</p>

<p>
First, make sure it gets installed if it is not there yet.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">make sure use-package is installed</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">unless</span> <span style="color: #93a8c6;">(</span>package-installed-p 'use-package<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>package-refresh-contents<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>package-install 'use-package<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">use-package</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">eval-when-compile</span> <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">use-package</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0f1ed8" class="outline-3">
<h3 id="orge0f1ed8"><span class="section-number-3">5.4</span> tangle this config</h3>
<div class="outline-text-3" id="text-5-4">
</div>
<div id="outline-container-orgbc2c4ec" class="outline-4">
<h4 id="orgbc2c4ec"><span class="section-number-4">5.4.1</span> manual tangle</h4>
<div class="outline-text-4" id="text-5-4-1">
<p>
I have setup auto tangle in the header as <code>:tangle yes</code>. So upon save,
this org file will be tangled into an <code>.el</code> file, and that is the file
emacs should load.
</p>

<p>
Alternatively, use the <code>C-c C-v t</code> [org-babel-tangle] to do this
manually.
</p>
</div>
</div>

<div id="outline-container-org7098d6a" class="outline-4">
<h4 id="org7098d6a"><span class="section-number-4">5.4.2</span> auto tangle</h4>
<div class="outline-text-4" id="text-5-4-2">
<p>
I set this up to tangle the init org-mode file into the actual Emacs
init file as soon as I save it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">tangle-init</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"If the current buffer is 'init.org' the code-blocks are tangled,</span>
<span style="color: #EEDC82;">and the tangled file is compiled."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span>equal <span style="color: #97b098;">(</span>buffer-file-name<span style="color: #97b098;">)</span>
               <span style="color: #97b098;">(</span>expand-file-name <span style="color: #EEDC82;">"~/Emacs/emacs_setup.org"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Avoid running hooks when tangling.</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">let</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>prog-mode-hook nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>org-babel-tangle<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>byte-compile-file <span style="color: #EEDC82;">"~/Emacs/emacs_setup.el"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">auto-tangle hook</span>
<span style="color: #8c8c8c;">(</span>add-hook 'after-save-hook 'tangle-init<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2d7d322" class="outline-3">
<h3 id="org2d7d322"><span class="section-number-3">5.5</span> surpress "add-handle-definition&#x2026;" error</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>custom-set-variables '<span style="color: #93a8c6;">(</span>ad-redefinition-action <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">quote</span> accept<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3522444" class="outline-2">
<h2 id="org3522444"><span class="section-number-2">6</span> Base packages</h2>
<div class="outline-text-2" id="text-6">
<p>
There are some packages you'd better load prior to everything else, so
that when other packages are being configured, they are already
available. For example, the .
</p>
</div>

<div id="outline-container-orge6e1d2f" class="outline-3">
<h3 id="orge6e1d2f"><span class="section-number-3">6.1</span> all-the-icons</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Want fancy <a href="https://github.com/domtronn/all-the-icons.el#installation">icons</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">all-the-icons</span>
  <span style="color: #FF80F4;">:if</span> <span style="color: #93a8c6;">(</span>display-graphic-p<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
You would have to run <code>M-x all-the-icons-install-fonts</code> manually at
least once to install fonts to your system.
</p>
</div>
</div>

<div id="outline-container-org7d066f3" class="outline-3">
<h3 id="org7d066f3"><span class="section-number-3">6.2</span> rainbow-mode</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Colorize color names and codes in the correct color.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">rainbow-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:delight</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcdd854b" class="outline-3">
<h3 id="hydra"><span class="section-number-3">6.3</span> Hydra</h3>
<div class="outline-text-3" id="text-hydra">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">hydra</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3ecb77e" class="outline-3">
<h3 id="org3ecb77e"><span class="section-number-3">6.4</span> whichkey</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Give me a hint when I'm entering a keybinding:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">which-key</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>which-key-setup-side-window-right<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>which-key-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org13a5591" class="outline-2">
<h2 id="org13a5591"><span class="section-number-2">7</span> Global stuff</h2>
<div class="outline-text-2" id="text-7">
<p>
Some global settings such as line number. Well, just about everything
of emacs are global in a sense, say, a package, will affect the look
and behavior when loaded. Even though the mode could be refined to be
loaded only for some file pattern, but hey, the fun is about loading
these funky modes, and with them, a million funky keybinding combos to
remember.
</p>

<p>
So here, just some obvious value settings. If I find some to be more
topic specific, I will move them into that topic's section instead.
</p>
</div>

<div id="outline-container-orga38d852" class="outline-3">
<h3 id="orga38d852"><span class="section-number-3">7.1</span> by packages</h3>
<div class="outline-text-3" id="text-7-1">
<p>
These are achieved by using someone's package.
</p>
</div>

<div id="outline-container-org8ad0f8b" class="outline-4">
<h4 id="org8ad0f8b"><span class="section-number-4">7.1.1</span> UTF-8</h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
Make Emacs request UTF-8 first when pasting stuff
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">unicode-escape</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> x-select-request-type '<span style="color: #b0b1a3;">(</span>UTF8_STRING COMPOUND_TEXT TEXT STRING<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-language-environment <span style="color: #EEDC82;">"UTF-8"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga74e237" class="outline-4">
<h4 id="orga74e237"><span class="section-number-4">7.1.2</span> shell env</h4>
<div class="outline-text-4" id="text-7-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> exec-path-from-shell-debug t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setenv <span style="color: #EEDC82;">"SHELL"</span> <span style="color: #EEDC82;">"/usr/bin/zsh"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">exec-path-from-shell</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:if</span> <span style="color: #93a8c6;">(</span>memq window-system '<span style="color: #b0b1a3;">(</span>mac ns x<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>exec-path-from-shell-initialize<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4f7e004" class="outline-3">
<h3 id="org4f7e004"><span class="section-number-3">7.2</span> UTF-8 env</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>prefer-coding-system 'utf-8<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>setenv <span style="color: #EEDC82;">"LANG"</span> <span style="color: #EEDC82;">"en_US.UTF-8"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setenv <span style="color: #EEDC82;">"LC_ALL"</span> <span style="color: #EEDC82;">"en_US.UTF-8"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setenv <span style="color: #EEDC82;">"LC_CTYPE"</span> <span style="color: #EEDC82;">"en_US.UTF-8"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-language-environment <span style="color: #EEDC82;">"UTF-8"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0bd1e32" class="outline-3">
<h3 id="org0bd1e32"><span class="section-number-3">7.3</span> browser (default: chrome)</h3>
<div class="outline-text-3" id="text-7-3">
<p>
I like Chrome. Period.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> browse-url-generic-program <span style="color: #93a8c6;">(</span>executable-find <span style="color: #EEDC82;">"google-chrome"</span><span style="color: #93a8c6;">)</span>
  browse-url-browser-function 'browse-url-generic<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c7e13d" class="outline-3">
<h3 id="org8c7e13d"><span class="section-number-3">7.4</span> emacs server (default: off)</h3>
<div class="outline-text-3" id="text-7-4">
<p>
Start the background server, so we can use emacsclient.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>server-start<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5d0d836" class="outline-3">
<h3 id="org5d0d836"><span class="section-number-3">7.5</span> newline (only Unix wanted)</h3>
<div class="outline-text-3" id="text-7-5">
<p>
This should automatically convert any files with dos or Mac line
endings into Unix style ones. Code found <a href="https://www.emacswiki.org/emacs/EndOfLineTips">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">no-junk-please-we-are-unixish</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>coding-str <span style="color: #aebed8;">(</span>symbol-name buffer-file-coding-system<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> <span style="color: #97b098;">(</span>string-match <span style="color: #EEDC82;">"-</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(?:</span><span style="color: #EEDC82;">dos</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">mac</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">$"</span> coding-str<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>set-buffer-file-coding-system 'unix<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'find-file-hook 'no-junk-please-we-are-unixish<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org31b198b" class="outline-3">
<h3 id="org31b198b"><span class="section-number-3">7.6</span> auto revert</h3>
<div class="outline-text-3" id="text-7-6">
<p>
Use <code>auto-revert</code>, which reloads a file if it's updated on disk and not
modified in the buffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-auto-revert-mode 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>put 'upcase-region 'disabled nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>put 'narrow-to-region 'disabled nil<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6395748" class="outline-3">
<h3 id="org6395748"><span class="section-number-3">7.7</span> yes-or-no</h3>
<div class="outline-text-3" id="text-7-7">
<p>
Change all prompts to y or n:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>fset 'yes-or-no-p 'y-or-n-p<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9242036" class="outline-3">
<h3 id="org9242036"><span class="section-number-3">7.8</span> hide menu bar &amp; toolbar</h3>
<div class="outline-text-3" id="text-7-8">
<p>
Using i3 is forcing me to use keyboard.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>menu-bar-mode -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>toggle-scroll-bar -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>tool-bar-mode -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>blink-cursor-mode -1<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2963f91" class="outline-3">
<h3 id="org2963f91"><span class="section-number-3">7.9</span> alternate key mappings</h3>
<div class="outline-text-3" id="text-7-9">
<p>
Letting one enter chars that are otherwise difficult in e.g. the
minibuffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-m"</span><span style="color: #93a8c6;">)</span> 'newline-and-indent<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-j"</span><span style="color: #93a8c6;">)</span> 'newline<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>delete<span style="color: #93a8c6;">]</span> 'delete-char<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>kp-delete<span style="color: #93a8c6;">]</span> 'delete-char<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org494e7f4" class="outline-3">
<h3 id="org494e7f4"><span class="section-number-3">7.10</span> macros (default: off)</h3>
<div class="outline-text-3" id="text-7-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f3<span style="color: #93a8c6;">]</span> 'start-kbd-macro<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f4<span style="color: #93a8c6;">]</span> 'end-kbd-macro<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f5<span style="color: #93a8c6;">]</span> 'call-last-kbd-macro<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb89a0a7" class="outline-3">
<h3 id="orgb89a0a7"><span class="section-number-3">7.11</span> linum</h3>
<div class="outline-text-3" id="text-7-11">
<p>
For now, I'm doing it globally.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-display-line-numbers-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Yes I like having line numbers, but turnning it on globally makes some
buffers look strange. So let's limit it to the ones that I think
brings value. <b>Note</b> that the ones I skip are:
</p>

<ol class="org-ol">
<li>mu4e-compose-mode: when writing email, it's better not to count for line num.</li>
<li>markdown: for the same reason. I'm writing.</li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'c-mode-common-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(add-hook 'org-mode-hook 'display-line-numbers-mode)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'python-mode-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'web-mode-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'yaml-mode-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'json-mode-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'java-mode-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'groovy-mode-hook 'display-line-numbers-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Format the line no and add a solid line as separation:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> display-line-numbers-width nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> linum-format <span style="color: #EEDC82;">"%4d "</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3bd3a34" class="outline-3">
<h3 id="org3bd3a34"><span class="section-number-3">7.12</span> disable electric-indent</h3>
<div class="outline-text-3" id="text-7-12">
<p>
This is very annoying that it keeps indenting.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>electric-indent-mode -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'after-change-major-mode-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span><span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>electric-indent-mode -1<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5a1b9e6" class="outline-3">
<h3 id="org5a1b9e6"><span class="section-number-3">7.13</span> set clipboard to utf-8</h3>
<div class="outline-text-3" id="text-7-13">
<p>
This makes copy &amp; paste from terminal to emacs buffer
work. Otherwise, some utf-8 symbols will be scrambled.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>set-clipboard-coding-system 'utf-8<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org33a0787" class="outline-2">
<h2 id="org33a0787"><span class="section-number-2">8</span> Font, theme</h2>
<div class="outline-text-2" id="text-8">
<p>
The whole point of using emacs is that I like the user experience, and
a big part of it is the color and look. There are too many ways to
tweak it. So I'll try not to run wild on this one. Most are inherited
from the original post, and I added some while playing with this
setting. Enjoy ~~
</p>
</div>

<div id="outline-container-org86da230" class="outline-3">
<h3 id="org86da230"><span class="section-number-3">8.1</span> by packages</h3>
<div class="outline-text-3" id="text-8-1">
</div>
<div id="outline-container-org4189640" class="outline-4">
<h4 id="org4189640"><span class="section-number-4">8.1.1</span> sublime themes (default: spolsky)</h4>
<div class="outline-text-4" id="text-8-1-1">
<p>
Loading a theme I like.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">sublime-themes</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>load-theme 'spolsky t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3eae96f" class="outline-4">
<h4 id="org3eae96f"><span class="section-number-4">8.1.2</span> mode lines</h4>
<div class="outline-text-4" id="text-8-1-2">
</div>
<ol class="org-ol">
<li><a id="orgabf40f6"></a>doom-modeline<br />
<div class="outline-text-5" id="text-8-1-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">doom-modeline</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:init</span> <span style="color: #93a8c6;">(</span>doom-modeline-mode 1<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org25332f5"></a>remove some modelines<br />
<div class="outline-text-5" id="text-8-1-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">eldoc</span>
  <span style="color: #FF80F4;">:delight</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd2a2211"></a>nyan-mode<br />
<div class="outline-text-5" id="text-8-1-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">nyan-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-M-x n"</span> . 'nyan-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org8ef3f3f" class="outline-4">
<h4 id="org8ef3f3f"><span class="section-number-4">8.1.3</span> delight</h4>
<div class="outline-text-4" id="text-8-1-3">
<p>
Package to remove some info from the mode-line for minor-modes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"> <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">delight</span>
   <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>delight '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>abbrev-mode <span style="color: #EEDC82;">" Abv"</span> abbrev<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span>smart-tab-mode <span style="color: #EEDC82;">" \\t"</span> smart-tab<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span>eldoc-mode nil <span style="color: #EEDC82;">"eldoc"</span><span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span>rainbow-mode<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span>overwrite-mode <span style="color: #EEDC82;">" Ov"</span> t<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span>emacs-lisp-mode <span style="color: #EEDC82;">"Elisp"</span> <span style="color: #FF80F4;">:major</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1083fc8" class="outline-4">
<h4 id="org1083fc8"><span class="section-number-4">8.1.4</span> multiple-cursors</h4>
<div class="outline-text-4" id="text-8-1-4">
<p>
Configure the shortcuts for multiple cursors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">multiple-cursors</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-S-c C-S-c"</span> . 'mc/edit-lines<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-&gt;"</span> . 'mc/mark-next-like-this<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-&lt;"</span> . 'mc/mark-previous-like-this<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c C-&gt;"</span> . 'mc/mark-all-like-this<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org90aec76" class="outline-4">
<h4 id="org90aec76"><span class="section-number-4">8.1.5</span> dimmer</h4>
<div class="outline-text-4" id="text-8-1-5">
<p>
This will dim the buffer that is not the current. Sort of a visual
cue. However, I found that it can be ugly depending the theme.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dimmer</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>dimmer-configure-which-key<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>dimmer-configure-helm<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>dimmer-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf2edc60" class="outline-4">
<h4 id="orgf2edc60"><span class="section-number-4">8.1.6</span> highlight indent</h4>
<div class="outline-text-4" id="text-8-1-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">highlight-indent-guides</span>
<span style="color: #FF80F4;">:ensure</span>
<span style="color: #FF80F4;">:config</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> highlight-indent-guides-method 'character<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook 'highlight-indent-guides-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb39f714" class="outline-3">
<h3 id="orgb39f714"><span class="section-number-3">8.2</span> fontlock</h3>
<div class="outline-text-3" id="text-8-2">
<p>
This gets the font coloring switched on for all buffers.
</p>

<p>
I have encountered a strange case when a mal-formatted Java file
caused Emacs to crash. After many research, the remedy is to use
<a href="https://github.com/jhipster/prettier-java">prettier-java</a> to reformat this file first, then emacs is happy.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-font-lock-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org36c892b" class="outline-3">
<h3 id="org36c892b"><span class="section-number-3">8.3</span> faces</h3>
<div class="outline-text-3" id="text-8-3">
</div>
<ol class="org-ol">
<li><a id="orge4af994"></a>list all the fonts<br />
<div class="outline-text-5" id="text-8-3-0-1">
<p>
To list all the fonts available to your emacs, put this snippet to scratch, and
run <code>C-x C-e</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-list">(dolist (font (x-list-fonts "*"))
  (insert (format "%s\n" font)))
</pre>
</div>
</div>
</li>

<li><a id="orgf777de2"></a>highlight, region<br />
<div class="outline-text-5" id="text-8-3-0-2">
<p>
This makes some of the faces a bit more contrasted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">faces for general region highlighting zenburn is too low-key.</span>
<span style="color: #8c8c8c;">(</span>custom-set-faces
 '<span style="color: #93a8c6;">(</span>highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"forest green"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>region <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"forest green"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org8e3390d"></a>mono font<br />
<div class="outline-text-5" id="text-8-3-0-3">
<p>
Set default mono font:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list 'default-frame-alist
             '<span style="color: #93a8c6;">(</span>font . <span style="color: #EEDC82;">"Ubuntu Mono-15"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Set default font to monospace:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">set a default font</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> <span style="color: #93a8c6;">(</span>member <span style="color: #EEDC82;">"Ubuntu Mono-15"</span> <span style="color: #b0b1a3;">(</span>font-family-list<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-face-attribute 'default nil <span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"Ubuntu Mono-15"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgbbad397"></a>custome theme font<br />
<div class="outline-text-5" id="text-8-3-0-4">
<p>
Remember to install <code>apt install fonts-firacode</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>custom-theme-set-faces
 'user
 '<span style="color: #93a8c6;">(</span>fixed-pitch <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:family</span> <span style="color: #EEDC82;">"Fira Code"</span> <span style="color: #FF80F4;">:height</span> 140<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org479c9d5" class="outline-3">
<h3 id="org479c9d5"><span class="section-number-3">8.4</span> be quiet</h3>
<div class="outline-text-3" id="text-8-4">
<p>
Remove bell and dings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> ring-bell-function
      '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
         <span style="color: #b0b1a3;">(</span>message <span style="color: #EEDC82;">"The answer is 42..."</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> echo-keystrokes 0.1 use-dialog-box nil visible-bell t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf25623e" class="outline-3">
<h3 id="orgf25623e"><span class="section-number-3">8.5</span> In terminal mode</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> <span style="color: #93a8c6;">(</span>display-graphic-p<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-background-color <span style="color: #EEDC82;">"#ffffff"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-foreground-color <span style="color: #EEDC82;">"#141312"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org42be3fe" class="outline-3">
<h3 id="org42be3fe"><span class="section-number-3">8.6</span> In X11 mode: mouse and window title</h3>
<div class="outline-text-3" id="text-8-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> frame-title-format <span style="color: #EEDC82;">"emacs @ %b - %f"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> window-system
  <span style="color: #93a8c6;">(</span>mouse-wheel-mode<span style="color: #93a8c6;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">enable wheelmouse support by default</span>
  <span style="color: #93a8c6;">(</span>set-selection-coding-system 'compound-text-with-extensions<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4b053c9" class="outline-3">
<h3 id="org4b053c9"><span class="section-number-3">8.7</span> dynamic cursor colors</h3>
<div class="outline-text-3" id="text-8-7">
<p>
The cursor is displayed in different colors, depending on overwrite or
insert mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-color <span style="color: #EEDC82;">""</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-buffer <span style="color: #EEDC82;">""</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">hcz-set-cursor-color-according-to-mode</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"change cursor color according to some minor modes."</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">set-cursor-color is somewhat costly, so we only call it when needed:</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>color
         <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> buffer-read-only <span style="color: #EEDC82;">"orange"</span>
           <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">if</span> overwrite-mode <span style="color: #EEDC82;">"red"</span>
             <span style="color: #EEDC82;">"green"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">unless</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">and</span>
             <span style="color: #aebed8;">(</span>string= color hcz-set-cursor-color-color<span style="color: #aebed8;">)</span>
             <span style="color: #aebed8;">(</span>string= <span style="color: #b0b0b3;">(</span>buffer-name<span style="color: #b0b0b3;">)</span> hcz-set-cursor-color-buffer<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>set-cursor-color <span style="color: #aebed8;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-color color<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">setq</span> hcz-set-cursor-color-buffer <span style="color: #aebed8;">(</span>buffer-name<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'post-command-hook 'hcz-set-cursor-color-according-to-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf025bb4" class="outline-2">
<h2 id="orgf025bb4"><span class="section-number-2">9</span> Coding</h2>
<div class="outline-text-2" id="text-9">
<p>
Big part of my life is taken by coding. So here it is, all the coding
related stuff.
</p>
</div>
<div id="outline-container-org4d2a040" class="outline-3">
<h3 id="org4d2a040"><span class="section-number-3">9.1</span> set authinfo as source</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> auth-sources '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"~/.authinfo"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd61d9c9" class="outline-3">
<h3 id="orgd61d9c9"><span class="section-number-3">9.2</span> taskjuggler-mode (tj3-mode)</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">tj3-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> org-plus-contrib
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">ox-taskjuggler</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>custom-set-variables
   '<span style="color: #b0b1a3;">(</span>org-taskjuggler-process-command <span style="color: #EEDC82;">"/usr/local/bin/tj3 --silent --no-color --output-dir %o %f"</span><span style="color: #b0b1a3;">)</span>
   '<span style="color: #b0b1a3;">(</span>org-taskjuggler-project-tag <span style="color: #EEDC82;">"PRJ"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d3ba9b" class="outline-3">
<h3 id="org1d3ba9b"><span class="section-number-3">9.3</span> Version control</h3>
<div class="outline-text-3" id="text-9-3">
</div>
<div id="outline-container-org5d6fb83" class="outline-4">
<h4 id="org5d6fb83"><span class="section-number-4">9.3.1</span> magit</h4>
<div class="outline-text-4" id="text-9-3-1">
<p>
Add the powerful Magit
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">magit</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'after-save-hook 'magit-after-save-refresh-status t<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:custom</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>magit-diff-refine-hunk 'all<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span>magit-process-finish-apply-ansi-colors t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-x g"</span> . 'magit-status<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">magit-todos</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  magit-gitflow

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>add-hook 'magit-mode-hook 'turn-on-magit-gitflow<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Add local workspace to manage multiple repositories:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> magit-repository-directories
      `<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"~/workspace/mycompany"</span> . 2<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> magit-repolist-columns
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"Name"</span>    30 magit-repolist-column-ident <span style="color: #97b098;">()</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"Local On"</span> 35 magit-repolist-column-branch <span style="color: #97b098;">()</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"Bch"</span> 3 magit-repolist-column-branches <span style="color: #97b098;">()</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"B&lt;U"</span>      3 magit-repolist-column-unpulled-from-upstream
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:right-align</span> t<span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:help-echo</span> <span style="color: #EEDC82;">"Upstream changes not in branch"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"B&gt;U"</span>      3 magit-repolist-column-unpushed-to-upstream
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:right-align</span> t<span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:help-echo</span> <span style="color: #EEDC82;">"Local changes not in upstream"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
       <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Turn on ANSI-COLOR:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">color-buffer</span> <span style="color: #93a8c6;">(</span>proc <span style="color: #66D9EF;">&amp;rest</span> args<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">with-current-buffer</span> <span style="color: #b0b1a3;">(</span>process-buffer proc<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>read-only-mode -1<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>ansi-color-apply-on-region <span style="color: #97b098;">(</span>point-min<span style="color: #97b098;">)</span> <span style="color: #97b098;">(</span>point-max<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>read-only-mode 1<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>advice-add 'magit-process-filter <span style="color: #FF80F4;">:after</span> 'color-buffer<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1b2724f" class="outline-4">
<h4 id="org1b2724f"><span class="section-number-4">9.3.2</span> monky</h4>
<div class="outline-text-4" id="text-9-3-2">
<p>
Add the Magit-copy for Mercurial 'monky'
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">monky</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-x m"</span> . 'monky-status<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf0b2df6" class="outline-4">
<h4 id="orgf0b2df6"><span class="section-number-4">9.3.3</span> git informations in gutter</h4>
<div class="outline-text-4" id="text-9-3-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">git-gutter-fringe+</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span>
  <span style="color: #FF80F4;">:if</span> window-system
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-c g"</span> . 'git-gutter+-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c92c1c" class="outline-4">
<h4 id="org5c92c1c"><span class="section-number-4">9.3.4</span> speedup VCS</h4>
<div class="outline-text-4" id="text-9-3-4">
<p>
Regexp matching directory names that are not under VC's control. The
default regexp prevents fruitless and time-consuming attempts to
determine the VC status in directories in which filenames are
interpreted as hostnames.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defvar</span> <span style="color: #FD971F;">locate-dominating-stop-dir-regexp</span>
  <span style="color: #EEDC82;">"\\`</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(?:</span><span style="color: #EEDC82;">[\\/][\\/][</span><span style="color: #FF6C60;">^</span><span style="color: #EEDC82;">\\/]+</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">/</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(?:</span><span style="color: #EEDC82;">net</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">afs</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.\\.\\.</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">/</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\\'"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgebcff37" class="outline-4">
<h4 id="orgebcff37"><span class="section-number-4">9.3.5</span> global caller</h4>
<div class="outline-text-4" id="text-9-3-5">
<p>
Have a single binding to call the most appropriate tool given the repository.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/vcs-status</span> <span style="color: #93a8c6;">()</span>
     <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
     <span style="color: #93a8c6;">(</span><span style="color: #F92672;">condition-case</span> nil
         <span style="color: #b0b1a3;">(</span>magit-status-setup-buffer<span style="color: #b0b1a3;">)</span>
       <span style="color: #b0b1a3;">(</span><span style="color: #FF6C60;">error</span> <span style="color: #97b098;">(</span>monky-status<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x v"</span><span style="color: #93a8c6;">)</span> 'paf/vcs-status<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb326beb" class="outline-4">
<h4 id="orgb326beb"><span class="section-number-4">9.3.6</span> forge</h4>
<div class="outline-text-4" id="text-9-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">forge</span>
  <span style="color: #FF80F4;">:after</span> magit<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9fe0007" class="outline-4">
<h4 id="org9fe0007"><span class="section-number-4">9.3.7</span> code review</h4>
<div class="outline-text-4" id="text-9-3-7">
<p>
This is really cool. It has fancier UI than the <code>github-review</code> tool.
Give it a shot!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">code-review</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'code-review-mode-hook #'emojify-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> code-review-fill-column 80<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org02e15f7" class="outline-4">
<h4 id="org02e15f7"><span class="section-number-4">9.3.8</span> github review</h4>
<div class="outline-text-4" id="text-9-3-8">
<p>
I have been using <a href="https://github.com/charignon/github-review">this</a> for a while daily, and it's wonderful!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">github-review</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> github-review-reply-inline-comments t<span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge00fc98" class="outline-3">
<h3 id="orge00fc98"><span class="section-number-3">9.4</span> Projectile</h3>
<div class="outline-text-3" id="text-9-4">
<p>
Start using projectile. It has the documentation <a href="https://docs.projectile.mx/en/latest/">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">projectile</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>define-key projectile-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c p"</span><span style="color: #b0b1a3;">)</span> 'projectile-command-map<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> projectile-completion-system 'helm<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>projectile-mode +1<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">helm-projectile</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> projectile
  <span style="color: #FF80F4;">:requires</span> projectile
  <span style="color: #FF80F4;">:delight</span> projectile-mode
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>helm-projectile-on<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Search the entire project with <code>C-c p s s</code> for a regexp. This let's
you turn the matching results into an editable buffer using <code>C-c
C-e</code>. Other keys are listed <a href="https://github.com/syohex/emacs-helm-ag#keymap">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">helm-ag</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
I havae used it by a <code>M-?</code> binding. It's just old habit:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"M-?"</span><span style="color: #93a8c6;">)</span> 'helm-ag<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org62a71da" class="outline-3">
<h3 id="org62a71da"><span class="section-number-3">9.5</span> debug w/ GDB</h3>
<div class="outline-text-3" id="text-9-5">
</div>
<div id="outline-container-org0c21988" class="outline-4">
<h4 id="org0c21988"><span class="section-number-4">9.5.1</span> <span class="todo TODO">TODO</span> Make it so that the source frame placement is forced only when using gdb.</h4>
<div class="outline-text-4" id="text-9-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> gdb-many-windows t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> gdb-use-separate-io-buffer t<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">easy-gdb-top-of-stack-and-restore-windows</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>switch-to-buffer <span style="color: #b0b1a3;">(</span>gdb-stack-buffer-name<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>goto-char <span style="color: #b0b1a3;">(</span>point-min<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>gdb-select-frame<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>gdb-restore-windows<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>other-window 2<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-x C-a C-t"</span><span style="color: #93a8c6;">)</span> 'easy-gdb-top-of-stack-and-restore-windows<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
This should display the source code always in the same window when debugging.
Found on <a href="https://stackoverflow.com/questions/39762833/emacsgdb-customization-how-to-display-source-buffer-in-one-window">Stack Overflow</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">This unfortunately also messes up the regular frame navigation of source code.</span>
<span style="color: #8C8C8C;">;</span><span style="color: #696969; font-style: italic;">(add-to-list 'display-buffer-alist</span>
<span style="color: #8C8C8C;">;             </span><span style="color: #696969; font-style: italic;">(cons 'cdb-source-code-buffer-p</span>
<span style="color: #8C8C8C;">;                   </span><span style="color: #696969; font-style: italic;">(cons 'display-source-code-buffer nil)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">cdb-source-code-buffer-p</span> <span style="color: #93a8c6;">(</span>bufName action<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Return whether BUFNAME is a source code buffer."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>buf <span style="color: #aebed8;">(</span>get-buffer bufName<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">and</span> buf
         <span style="color: #97b098;">(</span><span style="color: #F92672;">with-current-buffer</span> buf
           <span style="color: #aebed8;">(</span>derived-mode-p buf 'c++-mode 'c-mode 'csharp-mode 'nxml-mode<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">display-source-code-buffer</span> <span style="color: #93a8c6;">(</span>sourceBuf alist<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Find a window with source code and set sourceBuf inside it."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let*</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>curbuf <span style="color: #aebed8;">(</span>current-buffer<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>wincurbuf <span style="color: #aebed8;">(</span>get-buffer-window curbuf<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>win <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">and</span> wincurbuf
                       <span style="color: #90a890;">(</span>derived-mode-p sourceBuf 'c++-mode 'c-mode 'nxml-mode<span style="color: #90a890;">)</span>
                       <span style="color: #90a890;">(</span>derived-mode-p <span style="color: #a2b6da;">(</span>current-buffer<span style="color: #a2b6da;">)</span> 'c++-mode 'c-mode 'nxml-mode<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
                  wincurbuf
                <span style="color: #b0b0b3;">(</span>get-window-with-predicate
                 <span style="color: #90a890;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #a2b6da;">(</span>window<span style="color: #a2b6da;">)</span>
                   <span style="color: #a2b6da;">(</span><span style="color: #F92672;">let</span> <span style="color: #9cb6ad;">(</span><span style="color: #8c8c8c;">(</span>bufName <span style="color: #93a8c6;">(</span>buffer-name <span style="color: #b0b1a3;">(</span>window-buffer window<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span><span style="color: #9cb6ad;">)</span>
                     <span style="color: #9cb6ad;">(</span><span style="color: #F92672;">or</span> <span style="color: #8c8c8c;">(</span>cdb-source-code-buffer-p bufName nil<span style="color: #8c8c8c;">)</span>
                         <span style="color: #8c8c8c;">(</span>assoc bufName display-buffer-alist<span style="color: #8c8c8c;">)</span>
                         <span style="color: #9cb6ad;">)</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span> <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">derived-mode-p doesn't work inside this, don't know why...</span>
    <span style="color: #b0b1a3;">(</span>set-window-buffer win sourceBuf<span style="color: #b0b1a3;">)</span>
    win<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Here is my cheatsheet for the keyboard commands:
</p>

<p>
All prefixed with <code>C-x C-a</code>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Domain</th>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-center">C-&lt;key&gt;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Breakpoint</td>
<td class="org-left">set</td>
<td class="org-center">b</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">temporary</td>
<td class="org-center">t</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">delete</td>
<td class="org-center">d</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Execute</td>
<td class="org-left">Next</td>
<td class="org-center">n</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Step Into</td>
<td class="org-center">s</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Return / Finish</td>
<td class="org-center">f</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Continue (run)</td>
<td class="org-center">r</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Stack</td>
<td class="org-left">Up</td>
<td class="org-center">&lt;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Down</td>
<td class="org-center">&gt;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Execute</td>
<td class="org-left">Until current line</td>
<td class="org-center">u</td>
</tr>

<tr>
<td class="org-left">(rarer)</td>
<td class="org-left">Single instruction</td>
<td class="org-center">i</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Jump to current line</td>
<td class="org-center">j</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org0f88ff7" class="outline-3">
<h3 id="org0f88ff7"><span class="section-number-3">9.6</span> editing</h3>
<div class="outline-text-3" id="text-9-6">
</div>
<div id="outline-container-orgba482b2" class="outline-4">
<h4 id="orgba482b2"><span class="section-number-4">9.6.1</span> diffing</h4>
<div class="outline-text-4" id="text-9-6-1">
<p>
<a href="https://github.com/justbur/emacs-vdiff">
vdiff</a> let's one compare buffers or files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">vdiff</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">This binds commands under the prefix when vdiff is active.</span>
  <span style="color: #93a8c6;">(</span>define-key vdiff-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c"</span><span style="color: #b0b1a3;">)</span> vdiff-mode-prefix-map<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org067f400" class="outline-4">
<h4 id="org067f400"><span class="section-number-4">9.6.2</span> yasnippet</h4>
<div class="outline-text-4" id="text-9-6-2">
<p>
Let's first see how far I get with file-based capture templates and yankpad.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">yasnippet</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>yas-reload-all<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>yas-global-mode 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">yasnippet-snippets</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a55145" class="outline-4">
<h4 id="org1a55145"><span class="section-number-4">9.6.3</span> commenting out</h4>
<div class="outline-text-4" id="text-9-6-3">
<p>
Easy commenting out of lines.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>autoload 'comment-out-region <span style="color: #EEDC82;">"comment"</span> nil t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c q"</span><span style="color: #93a8c6;">)</span> 'comment-out-region<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org059092e" class="outline-4">
<h4 id="org059092e"><span class="section-number-4">9.6.4</span> deduplicate and sort</h4>
<div class="outline-text-4" id="text-9-6-4">
<p>
Help cleanup the includes and using lists.
<a href="http://www.emacswiki.org/emacs/DuplicateLines">found here</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">uniquify-region-lines</span> <span style="color: #93a8c6;">(</span>beg end<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Remove duplicate adjacent lines in region."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"*r"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">save-excursion</span>
    <span style="color: #b0b1a3;">(</span>goto-char beg<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">while</span> <span style="color: #97b098;">(</span>re-search-forward <span style="color: #EEDC82;">"^</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">.*\n</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\\1+"</span> end t<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>replace-match <span style="color: #EEDC82;">"\\1"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/sort-and-uniquify-region</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Remove duplicates and sort lines in region."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>sort-lines nil <span style="color: #b0b1a3;">(</span>region-beginning<span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">(</span>region-end<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>uniquify-region-lines <span style="color: #b0b1a3;">(</span>region-beginning<span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">(</span>region-end<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Simplify cleanup of <code>#include</code> / <code>typedef</code> / <code>using</code> blocks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x s"</span><span style="color: #93a8c6;">)</span> 'paf/sort-and-uniquify-region<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb449ec4" class="outline-4">
<h4 id="orgb449ec4"><span class="section-number-4">9.6.5</span> selective display (default: off)</h4>
<div class="outline-text-4" id="text-9-6-5">
<p>
Will fold all text indented more than the position of the cursor at
the time the keys are pressed.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">set-selective-display-dlw</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> level<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Fold text indented more than the cursor.</span>
<span style="color: #EEDC82;">   If level is set, set the indent level to level.</span>
<span style="color: #EEDC82;">   0 displays the entire buffer."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"P"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-selective-display <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">or</span> level <span style="color: #97b098;">(</span>current-column<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #EEDC82;">"\C-x$"</span> 'set-selective-display-dlw<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb559e77" class="outline-4">
<h4 id="orgb559e77"><span class="section-number-4">9.6.6</span> hightlight-indent-guide-mode</h4>
<div class="outline-text-4" id="text-9-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook 'highlight-indent-guides-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org330c14a" class="outline-4">
<h4 id="org330c14a"><span class="section-number-4">9.6.7</span> folding by indent level</h4>
<div class="outline-text-4" id="text-9-6-7">
<p>
This is very useful when browsing long yaml such as heml's values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">origami</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-c h o"</span> . hydra-origami/body<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>

 <span style="color: #93a8c6;">(</span><span style="color: #F92672;">defhydra</span> hydra-origami<span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:color</span> red<span style="color: #b0b1a3;">)</span>
   <span style="color: #EEDC82;">"</span>
<span style="color: #EEDC82;">  _o_pen node    _n_ext fold       toggle _f_orward  _s_how current only</span>
<span style="color: #EEDC82;">  _c_lose node   _p_revious fold   toggle _a_ll</span>
<span style="color: #EEDC82;">  "</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"o"</span> origami-open-node<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"c"</span> origami-close-node<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"n"</span> origami-next-fold<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"p"</span> origami-previous-fold<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"f"</span> origami-forward-toggle-node<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"a"</span> origami-toggle-all-nodes<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"s"</span> origami-show-only-node<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6640e38" class="outline-3">
<h3 id="org6640e38"><span class="section-number-3">9.7</span> IRC</h3>
<div class="outline-text-3" id="text-9-7">
<p>
Use <code>circe</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  circe
    <span style="color: #FF80F4;">:ensure</span>
    <span style="color: #FF80F4;">:config</span><span style="color: #93a8c6;">(</span>
    setq circe-network-options '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>
    <span style="color: #EEDC82;">"Freenode"</span> <span style="color: #FF80F4;">:tls</span> t
    <span style="color: #FF80F4;">:nick</span> <span style="color: #EEDC82;">"fengxia41103"</span>
    <span style="color: #FF80F4;">:channels</span> <span style="color: #aebed8;">(</span><span style="color: #EEDC82;">"#emacs"</span>
    <span style="color: #EEDC82;">"#python"</span>
    <span style="color: #EEDC82;">"#odoo"</span>
    <span style="color: #EEDC82;">"#reactjs"</span>
    <span style="color: #EEDC82;">"#latex"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  helm-circe

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2c84da" class="outline-3">
<h3 id="orgc2c84da"><span class="section-number-3">9.8</span> restclient</h3>
<div class="outline-text-3" id="text-9-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">restclient</span>
  <span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Then wrap it w/ this, you can then embed restcall in org!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>load-file <span style="color: #EEDC82;">"~/workspace/3rd/ob-restclient.el/ob-restclient.el"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">ob-restclient</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>org-babel-do-load-languages
 'org-babel-load-languages
 '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>restclient . t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd644334" class="outline-3">
<h3 id="orgd644334"><span class="section-number-3">9.9</span> lsp</h3>
<div class="outline-text-3" id="text-9-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-mode</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">set prefix for lsp-command-keymap (few alternatives - "C-l", "C-c l")</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> lsp-keymap-prefix <span style="color: #EEDC82;">"C-c l"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">replace XXX-mode with concrete major-mode(e. g. python-mode)</span>
         <span style="color: #b0b1a3;">(</span>XXX-mode . lsp<span style="color: #b0b1a3;">)</span>
         <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">if you want which-key integration</span>
         <span style="color: #b0b1a3;">(</span>lsp-mode . lsp-enable-which-key-integration<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:commands</span> lsp<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> lsp-keymap-prefix <span style="color: #EEDC82;">"C-c l"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>css-mode-hook . lsp-deferred<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>html-mode-hook . lsp-deferred<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>web-mode-hook . lsp-deferred<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>js2-mode-hook . lsp-deferred<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>c++-mode-hook . lsp-deferred<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>c-mode-hook . lsp-deferred<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>java-mode-hook . lsp-deferred<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>lsp-mode-hook . lsp-enable-which-key-integration<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:commands</span> <span style="color: #93a8c6;">(</span>lsp lsp-deferred<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> lsp-mode-map
              <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-&lt;RET&gt;"</span> . lsp-execute-code-action<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-ui</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> lsp-ui-sideline-enable nil<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span>lsp-mode-hook . lsp-ui-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> lsp-ui-mode-map
              <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c i"</span> . lsp-ui-imenu<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">LSP integration with treemacs</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-treemacs</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:after</span> lsp<span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Debugger</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dap-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:after</span> lsp-mode
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>dap-auto-configure-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> dap-mode-map
              <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c C-c"</span> . dap-java-debug<span style="color: #b0b1a3;">)</span>
              <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c R"</span> . dap-java-run-test-class<span style="color: #b0b1a3;">)</span>
              <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c d"</span> . dap-java-debug-test-method<span style="color: #b0b1a3;">)</span>
              <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c r"</span> . dap-java-run-test-method<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Requires lsp-mode</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-java</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:after</span> lsp
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> lsp-java-format-on-type-enabled nil<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">my/java-mode-hook</span> <span style="color: #b0b1a3;">()</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> c-basic-offset 2
          c-label-offset 0
          tab-width 2
          indent-tabs-mode nil
          require-final-newline nil<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span>java-mode-hook . <span style="color: #b0b1a3;">(</span>lsp my/java-mode-hook<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Requires dap-mode</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dap-java</span>
  <span style="color: #FF80F4;">:ensure</span> nil
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:after</span> <span style="color: #93a8c6;">(</span>lsp-java<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab48dc9" class="outline-3">
<h3 id="orgab48dc9"><span class="section-number-3">9.10</span> languages</h3>
<div class="outline-text-3" id="text-9-10">
<p>
These are minor modes to handle programming language specifics which
are often termed as development rules agreed by the team.
</p>
</div>
<div id="outline-container-org7905d77" class="outline-4">
<h4 id="org7905d77"><span class="section-number-4">9.10.1</span> markdown</h4>
<div class="outline-text-4" id="text-9-10-1">
<p>
Enough to handle my Markdown needs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">writegood-mode</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  markdown-mode

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'auto-mode-alist '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.md\\'"</span> . markdown-mode<span style="color: #b0b1a3;">)</span>
  <span style="color: #b0b1a3;">(</span>add-hook 'markdown-mode-hook
            <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">()</span>
              <span style="color: #aebed8;">(</span>visual-line-mode t<span style="color: #aebed8;">)</span>
              <span style="color: #aebed8;">(</span>writegood-mode t<span style="color: #aebed8;">)</span>
              <span style="color: #aebed8;">(</span>auto-fill-mode t<span style="color: #aebed8;">)</span>
              <span style="color: #aebed8;">(</span>flyspell-mode t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Tweak the section header fonts a bit:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">let*</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>variable-tuple
          <span style="color: #97b098;">(</span><span style="color: #F92672;">cond</span> <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"ETBembo"</span><span style="color: #b0b0b3;">)</span>         '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"ETBembo"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"Source Sans Pro"</span><span style="color: #b0b0b3;">)</span> '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"Source Sans Pro"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"Lucida Grande"</span><span style="color: #b0b0b3;">)</span>   '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"Lucida Grande"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"Verdana"</span><span style="color: #b0b0b3;">)</span>         '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"Verdana"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-family-fonts <span style="color: #EEDC82;">"Sans Serif"</span><span style="color: #b0b0b3;">)</span>    '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:family</span> <span style="color: #EEDC82;">"Sans Serif"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span>nil <span style="color: #b0b0b3;">(</span><span style="color: #FF6C60;">warn</span> <span style="color: #EEDC82;">"Cannot find a Sans Serif Font.  Install Source Sans Pro."</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>headline           `<span style="color: #97b098;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

<span style="color: #93a8c6;">(</span>custom-set-faces
 '<span style="color: #b0b1a3;">(</span>markdown-header-face <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.0<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
 '<span style="color: #b0b1a3;">(</span>markdown-header-face-1 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.3<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
 '<span style="color: #97b098;">(</span>markdown-header-face-2 <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>t <span style="color: #90a890;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.2 <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#8BC34A"</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
 '<span style="color: #97b098;">(</span>markdown-header-face-3 <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>t <span style="color: #90a890;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.1 <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#FEB236"</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
<span style="color: #b0b1a3;">)</span>
</pre>
</div>

<p>
Set more markdown faces:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>custom-theme-set-faces
 'user
 '<span style="color: #93a8c6;">(</span>markdown-code-face <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"gray10"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7a085fe" class="outline-4">
<h4 id="org7a085fe"><span class="section-number-4">9.10.2</span> C/C++</h4>
<div class="outline-text-4" id="text-9-10-2">
</div>
<ol class="org-ol">
<li><a id="org263aada"></a>header/implementation toggle<br />
<div class="outline-text-5" id="text-9-10-2-1">
<p>
Switch from header to implementation file quickly.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'c-mode-common-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
            <span style="color: #b0b1a3;">(</span>local-set-key  <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-c o"</span><span style="color: #97b098;">)</span> 'ff-find-other-file<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org86bddf5"></a>no indentation of namespaces in C++<br />
<div class="outline-text-5" id="text-9-10-2-2">
<p>
Essentially, use the Google C++ style formatting.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">google-c-style</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c-mode-common-hook 'google-set-c-style<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c-mode-common-hook 'google-make-newline-indent<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org7283245" class="outline-4">
<h4 id="org7283245"><span class="section-number-4">9.10.3</span> python</h4>
<div class="outline-text-4" id="text-9-10-3">
<p>
Setup an IDE:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">elpy</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span>elpy-enable<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
ELPY has its own indentation mode, which is overriding the one I use
globally, so disable this one:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'elpy-mode-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>highlight-indentation-mode -1<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Link to yasnippet mode:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'elpy-mode-hook #'yas-minor-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Auto black on save:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'before-save-hook #'elpy-black-fix-code nil t<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Force UTF-8 encoding. Otherwise, elpy will complain w/ some exit 1 abnormal
error.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>setenv <span style="color: #EEDC82;">"PYTHONIOENCODING"</span> <span style="color: #EEDC82;">"utf-8"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'process-coding-system-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"python"</span> . <span style="color: #b0b1a3;">(</span>utf-8 . utf-8<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'process-coding-system-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"elpy"</span> . <span style="color: #b0b1a3;">(</span>utf-8 . utf-8<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'process-coding-system-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"flake8"</span> . <span style="color: #b0b1a3;">(</span>utf-8 . utf-8<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
And set up virtualenv path:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">workon home</span>
<span style="color: #8c8c8c;">(</span>setenv <span style="color: #EEDC82;">"WORKON_HOME"</span> <span style="color: #EEDC82;">"/home/fengxia/.virtualenvs/"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> elpy-rpc-virtualenv-path 'current<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgde3a0c3"></a>auto-virtualenv<br />
<div class="outline-text-5" id="text-9-10-3-1">
<pre class="example">
(use-package auto-virtualenv
  :ensure t
  :init
  (use-package pyvenv
    :ensure t)
  :config
  (add-hook 'python-mode-hook 'auto-virtualenv-set-virtualenv)
  (add-hook 'projectile-after-switch-project-hook 'auto-virtualenv-set-virtualenv)
  )
</pre>
</div>
</li>

<li><a id="org109ccdc"></a>py-autopep8<br />
<div class="outline-text-5" id="text-9-10-3-2">
<p>
Add hook to reformat python code based on pep8 spec. You need to
install <code>pip install autopep8</code> offline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  py-autopep8
  <span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'python-mode-hook 'py-autopep8-enable-on-save<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> py-autopep8-options '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"--max-line-length=88"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3f5c108"></a>py-isort<br />
<div class="outline-text-5" id="text-9-10-3-3">
<p>
Sort python import. Need to install <code>pip install isort</code> offline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  py-isort

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'before-save-hook 'py-isort-before-save<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> py-isort-options '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"-sl --profile black --filter-files"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgdb6564e"></a>imenu-list<br />
<div class="outline-text-5" id="text-9-10-3-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">imenu-list</span>
<span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3344a21"></a>smartparens<br />
<div class="outline-text-5" id="text-9-10-3-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'python-mode-hook #'smartparens-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgc835361"></a>python-black<br />
<div class="outline-text-5" id="text-9-10-3-6">
<p>
I installed <code>black</code> using <code>apt install black</code> because my default
virtualenv is still on python 2.7. If you have 3.x, you should follow
their <a href="https://github.com/psf/black">official instruction</a>. Anyway, I think either should be fine.
</p>

<p>
Now use the emacs wrapper:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">python-black</span>
  <span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org9450a3f"></a>sphinx-doc<br />
<div class="outline-text-5" id="text-9-10-3-7">
<p>
Creat <a href="https://github.com/naiquevin/sphinx-doc.el">sphinx doc</a> string from function definition directly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">sphinx-doc</span>
  <span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>
  <span style="color: #8c8c8c;">(</span>add-hook 'python-mode-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
  <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">sphinx-doc</span><span style="color: #b0b1a3;">)</span>
  <span style="color: #b0b1a3;">(</span>sphinx-doc-mode t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org05c18d9" class="outline-4">
<h4 id="org05c18d9"><span class="section-number-4">9.10.4</span> web-mode</h4>
<div class="outline-text-4" id="text-9-10-4">
<p>
web-mode with config for Polymer editing
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">web-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-enable-current-element-highlight t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-enable-current-column-highlight t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-enable-css-colorization t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> web-mode-markup-indent-offset 2<span style="color: #8c8c8c;">)</span>
  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> web-mode-css-indent-offset 2<span style="color: #8c8c8c;">)</span>
  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> web-mode-code-indent-offset 2<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Who should use this mode:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.html\\'"</span> . web-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.tpl\\.php\\'"</span> . web-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.[agj]sp\\'"</span> . web-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.as[cp]x\\'"</span> . web-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.erb\\'"</span> . web-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.mustache\\'"</span> . web-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.ftl\\'"</span> . web-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
This is actually depending on <code>js-beautify</code>. See <a href="https://github.com/yasuyk/web-beautify">web-beautify</a> for
details.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">web-beautify</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(add-hook 'js2-mode-hook</span>
<span style="color: #8C8C8C;">;;           </span><span style="color: #696969; font-style: italic;">(lambda ()</span>
<span style="color: #8C8C8C;">;;             </span><span style="color: #696969; font-style: italic;">(add-hook 'before-save-hook 'web-beautify-js-buffer t t)))</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(add-hook 'json-mode-hook</span>
<span style="color: #8C8C8C;">;;           </span><span style="color: #696969; font-style: italic;">(lambda ()</span>
<span style="color: #8C8C8C;">;;             </span><span style="color: #696969; font-style: italic;">(add-hook 'before-save-hook 'web-beautify-js-buffer t t)))</span>
<span style="color: #8c8c8c;">(</span>add-hook 'web-mode-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
            <span style="color: #b0b1a3;">(</span>add-hook 'before-save-hook 'web-beautify-html-buffer t t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(add-hook 'css-mode-hook</span>
<span style="color: #8C8C8C;">;;           </span><span style="color: #696969; font-style: italic;">(lambda ()</span>
<span style="color: #8C8C8C;">;;             </span><span style="color: #696969; font-style: italic;">(add-hook 'before-save-hook 'web-beautify-css-buffer t t)))</span>
<span style="color: #8c8c8c;">(</span>add-hook 'html-mode-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
            <span style="color: #b0b1a3;">(</span>add-hook 'before-save-hook 'web-beautify-html-buffer t t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9148d5" class="outline-4">
<h4 id="orgc9148d5"><span class="section-number-4">9.10.5</span> <a href="https://github.com/smihica/emmet-mode">emmet-mode</a></h4>
<div class="outline-text-4" id="text-9-10-5">
<p>
Useful abbreviations when coding in HTML. See <a href="https://github.com/rooney/zencoding">zencoding</a> for details.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">emmet-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span><span style="color: #93a8c6;">(</span>web-mode css-mode scss-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> emmet-expand-jsx-className? t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> emmet-move-cursor-between-quotes t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'emmet-mode-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> emmet-indent-after-insert nil<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'sgml-mode-hook 'emmet-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'web-mode-hook 'emmet-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'css-mode-hook  'emmet-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'scss-mode-hook  'emmet-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org21eb8a4" class="outline-4">
<h4 id="org21eb8a4"><span class="section-number-4">9.10.6</span> javascript family: .js .ts .jsx</h4>
<div class="outline-text-4" id="text-9-10-6">
<p>
There are a couple packages for .js files.
</p>
</div>

<ol class="org-ol">
<li><a id="org26c370b"></a>js2-mode<br />
<div class="outline-text-5" id="text-9-10-6-1">
<p>
First, use <code>js2-mode</code> to handle <code>.js</code> and <code>.jsx</code> files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">js2-mode</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> js2-indent-level 2<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.js[x]\\'"</span> . js2-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.ts[x]\\'"</span> . js2-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook #'smartparens-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook #'<span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq-local</span> electric-indent-inhibit t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org75d945d"></a>prettier<br />
<div class="outline-text-5" id="text-9-10-6-2">
<p>
Link js2-mode to prettier to beautify my code.
Follow <a href="https://github.com/jscheid/prettier.el">official site</a> to install and config.
</p>

<p>
Set which prettier to use. Note that w/ NVM, you must set <code>nvm use 16.15.1</code> in
<code>.bashrc</code> or <code>.zshrc</code> so that shell will use the right path, also. You can check
which is the default node path in effect in Emacs by <code>M-x prettier-info</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>setenv <span style="color: #EEDC82;">"NODE_PATH"</span> <span style="color: #EEDC82;">"/home/fengxia/.nvm/versions/node/v16.15.1/bin"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">prettier</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook 'prettier-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'json-mode-hook 'prettier-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js-mode-hook 'prettier-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> indent-tabs-mode nil js-indent-level 2<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook
 'js2-mode-hook
 <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> <span style="color: #97b098;">(</span>string-match <span style="color: #EEDC82;">"\\.[tj]sx?$"</span> buffer-file-name<span style="color: #97b098;">)</span>
     <span style="color: #97b098;">(</span><span style="color: #F92672;">setq-local</span> prettier-parsers '<span style="color: #aebed8;">(</span>typescript<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org7fd6845"></a>js-doc<br />
<div class="outline-text-5" id="text-9-10-6-3">
<p>
Nothing is complete without a doc solution.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">js-doc</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-mail-address <span style="color: #EEDC82;">"feng.xia@mycompany.io"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-author <span style="color: #b0b1a3;">(</span>format <span style="color: #EEDC82;">"Feng Xia &lt;%s&gt;"</span> js-doc-mail-address<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-url <span style="color: #EEDC82;">"http://www.mycompany.com"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> js-doc-license <span style="color: #EEDC82;">"Company License"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook
          #'<span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
              <span style="color: #b0b1a3;">(</span>define-key js2-mode-map <span style="color: #EEDC82;">"\C-ci"</span> 'js-doc-insert-function-doc<span style="color: #b0b1a3;">)</span>
              <span style="color: #b0b1a3;">(</span>define-key js2-mode-map <span style="color: #EEDC82;">"@"</span> 'js-doc-insert-tag<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgffb48d1" class="outline-4">
<h4 id="orgffb48d1"><span class="section-number-4">9.10.7</span> csv</h4>
<div class="outline-text-4" id="text-9-10-7">
<p>
mode to edit CSV files.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">csv-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:mode</span> <span style="color: #EEDC82;">"\\.csv\\'"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf94ed3d" class="outline-4">
<h4 id="orgf94ed3d"><span class="section-number-4">9.10.8</span> json</h4>
<div class="outline-text-4" id="text-9-10-8">
<p>
This should be installed before the javascript stuff because I'll be
using the <code>prettier</code> as beautifier.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">json-mode</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac07113" class="outline-4">
<h4 id="orgac07113"><span class="section-number-4">9.10.9</span> yaml</h4>
<div class="outline-text-4" id="text-9-10-9">
<p>
Details are <a href="https://github.com/yoshiki/yaml-mode">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">yaml-mode</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"\\.yml\\'"</span> . yaml-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'yaml-mode-hook
          '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
        <span style="color: #b0b1a3;">(</span>define-key yaml-mode-map <span style="color: #EEDC82;">"\C-m"</span> 'newline-and-indent<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Add <a href="https://github.com/iquiw/lsp-yaml">lsp-yaml</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-yaml</span>
  <span style="color: #FF80F4;">:after</span> lsp
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'yaml-mode-hook #'lsp<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org44a4e54" class="outline-4">
<h4 id="org44a4e54"><span class="section-number-4">9.10.10</span> jenkins</h4>
<div class="outline-text-4" id="text-9-10-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">jenkinsfile-mode</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org83ae7f3" class="outline-4">
<h4 id="org83ae7f3"><span class="section-number-4">9.10.11</span> SQL</h4>
<div class="outline-text-4" id="text-9-10-11">
<p>
I guess I would have to deal w/ SQL eventually. See the <a href="https://github.com/purcell/sqlformat">instructions here</a>. You
need to install <code>apt install pgformatter</code> offline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">sqlformat</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
If using <code>pg_format</code>, set the configs:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> sqlformat-command 'pgformatter<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> sqlformat-args '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"-s4"</span> <span style="color: #EEDC82;">"-B"</span> <span style="color: #EEDC82;">"-w150"</span> <span style="color: #EEDC82;">"-k"</span> <span style="color: #EEDC82;">"-f2"</span> <span style="color: #EEDC82;">"-U2"</span> <span style="color: #EEDC82;">"--extra-keyword=/home/fengxia/workspace/tmp/oracle-keywords"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
If using <code>sqlformat</code>, set the configs:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> sqlformat-command 'sqlformat<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> sqlformat-args '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"-k"</span> <span style="color: #EEDC82;">"upper"</span> <span style="color: #EEDC82;">"-i"</span> <span style="color: #EEDC82;">"upper"</span> <span style="color: #EEDC82;">"-s"</span> <span style="color: #EEDC82;">"-r"</span> <span style="color: #EEDC82;">"--indent_width=4"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
And define a keybind for formatting:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'sql-mode-hook '<span style="color: #93a8c6;">(</span>lambda<span style="color: #b0b1a3;">()</span>
  <span style="color: #b0b1a3;">(</span>define-key sql-mode-map <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-c C-f"</span><span style="color: #97b098;">)</span> 'sqlformat-buffer<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8921601" class="outline-4">
<h4 id="org8921601"><span class="section-number-4">9.10.12</span> Microsoft DAX</h4>
<div class="outline-text-4" id="text-9-10-12">
<p>
Load the <code>dax-mode</code> by <a href="https://github.com/fpvmorais/dax-mode/tree/master">github</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>load <span style="color: #EEDC82;">"~/.emacs.d/dax-mode/dax-mode.el"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Add a formatter function by the <a href="https://fpvmorais.com/post/emacs-major-modes-for-power-bi/">blog</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">dax-pretty-print</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Pretty print the DAX buffer via DaxFormatter API."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>goto-char <span style="color: #b0b1a3;">(</span>point-min<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">while</span> <span style="color: #b0b1a3;">(</span>search-forward <span style="color: #EEDC82;">";"</span> nil t<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>replace-match <span style="color: #EEDC82;">","</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>goto-char <span style="color: #b0b1a3;">(</span>point-min<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> payload <span style="color: #b0b1a3;">(</span>make-hash-table<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setf</span> <span style="color: #b0b1a3;">(</span>gethash <span style="color: #EEDC82;">"Dax"</span> payload<span style="color: #b0b1a3;">)</span> `<span style="color: #b0b1a3;">(</span>delete-and-extract-region <span style="color: #97b098;">(</span>point-min<span style="color: #97b098;">)</span> <span style="color: #97b098;">(</span>point-max<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setf</span> <span style="color: #b0b1a3;">(</span>gethash <span style="color: #EEDC82;">"l"</span> payload<span style="color: #b0b1a3;">)</span> <span style="color: #EEDC82;">"short"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let*</span> <span style="color: #b0b1a3;">(</span>
         <span style="color: #97b098;">(</span>url-request-method <span style="color: #EEDC82;">"POST"</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>url-request-extra-headers '<span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span><span style="color: #EEDC82;">"Content-Type"</span> . <span style="color: #EEDC82;">"application/json"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>url-request-data <span style="color: #aebed8;">(</span>json-encode `<span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span><span style="color: #EEDC82;">"Dax"</span> ., <span style="color: #a2b6da;">(</span>delete-and-extract-region <span style="color: #9cb6ad;">(</span>point-min<span style="color: #9cb6ad;">)</span> <span style="color: #9cb6ad;">(</span>point-max<span style="color: #9cb6ad;">)</span><span style="color: #a2b6da;">)</span> <span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(url-request-data (json-encode ,payload))</span>
         <span style="color: #97b098;">(</span>buf <span style="color: #aebed8;">(</span>current-buffer<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>newbuff <span style="color: #aebed8;">(</span>url-retrieve-synchronously <span style="color: #EEDC82;">"http://www.daxformatter.com/api/daxformatter/DaxFormat/"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>set-buffer newbuff<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>goto-char <span style="color: #97b098;">(</span>point-min<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>re-search-forward <span style="color: #EEDC82;">"^$"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>delete-region <span style="color: #97b098;">(</span>point<span style="color: #97b098;">)</span> <span style="color: #97b098;">(</span>point-min<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> noQuotes <span style="color: #97b098;">(</span>substring <span style="color: #aebed8;">(</span>buffer-string<span style="color: #aebed8;">)</span> 1 nil<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> noRN <span style="color: #97b098;">(</span>replace-regexp-in-string <span style="color: #EEDC82;">"\r\n"</span> <span style="color: #EEDC82;">"\n"</span> noQuotes<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> noBars <span style="color: #97b098;">(</span>replace-regexp-in-string <span style="color: #EEDC82;">"\\\\"</span> <span style="color: #EEDC82;">""</span> noRN<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>princ noBars buf<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>kill-buffer newbuff<span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">)</span>
  <span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Last, define a keyboard bind for formatting:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook dax-mode-hook '<span style="color: #93a8c6;">(</span>lambda<span style="color: #b0b1a3;">()</span>
  <span style="color: #b0b1a3;">(</span>define-key sql-mode-map <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-c C-f"</span><span style="color: #97b098;">)</span> 'dax-pretty-print<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org3712e97" class="outline-4">
<h4 id="org3712e97"><span class="section-number-4">9.10.13</span> Terraform</h4>
<div class="outline-text-4" id="text-9-10-13">
<div class="org-src-container">
<pre class="src src-emacs-lis">  (use-package terraform-mode
    :ensure
    :config)
(add-hook 'terraform-mode-hook #'outline-minor-mode)
(setq terraform-format-on-sav t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org97134b5" class="outline-4">
<h4 id="org97134b5"><span class="section-number-4">9.10.14</span> Java</h4>
<div class="outline-text-4" id="text-9-10-14">
<p>
Ah, the one language I promised myself not to learn. But finally, I read about
Java and Spring. It's just, that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-java</span>
  <span style="color: #FF80F4;">:after</span> java
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'java-mode-hook #'lsp<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Some additional packages according to <a href="https://github.com/emacs-lsp/lsp-java">this</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">projectile</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">flycheck</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-mode</span> <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>lsp-mode . lsp-enable-which-key-integration<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">company</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-ui</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">which-key</span> <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>which-key-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dap-mode</span> <span style="color: #FF80F4;">:after</span> lsp-mode <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>dap-auto-configure-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dap-java</span> <span style="color: #FF80F4;">:ensure</span> nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">lsp-treemacs</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org2800b62"></a>lombok<br />
<div class="outline-text-5" id="text-9-10-14-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;;; </span><span style="color: #696969; font-style: italic;">lsp-java-lombok.el --- Description -*- lexical-binding: t; -*-</span>
<span style="color: #8C8C8C;">;;</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Copyright (C) 2021 Kevin Ziegler</span>
<span style="color: #8C8C8C;">;;</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Author: Kevin Ziegler <a href="https://github.com/kevinziegler">&lt;https://github.com/kevinziegler&gt;</a></span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Maintainer: Kevin Ziegler</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Created: February 12, 2021</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Modified: February 12, 2021</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Version: 0.0.1</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Homepage: https://github.com/kevinziegler/lsp-java-lombok</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Package-Requires: ((emacs "24.3"))</span>
<span style="color: #8C8C8C;">;;</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">This file is not part of GNU Emacs.</span>
<span style="color: #8C8C8C;">;;</span>
<span style="color: #8C8C8C;">;;; </span><span style="color: #696969; font-style: italic;">Commentary:</span>
<span style="color: #8C8C8C;">;;  </span><span style="color: #696969; font-style: italic;">Helper library for setting up Lombok with LSP-java</span>
<span style="color: #8C8C8C;">;;</span>
<span style="color: #8C8C8C;">;;; </span><span style="color: #696969; font-style: italic;">Code:</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">lsp-java</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defvar</span> <span style="color: #FD971F;">lsp-java-lombok/enabled</span> nil
  <span style="color: #EEDC82;">"Indicates the LSP server should be started with Lombok."</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defvar</span> <span style="color: #FD971F;">lsp-java-lombok/version</span> nil
  <span style="color: #EEDC82;">"When non-nil, use the specified Lombok version, otherwise use the latest."</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defvar</span> <span style="color: #FD971F;">lsp-java-lombok/jar-url-base</span> <span style="color: #EEDC82;">"https://projectlombok.org/downloads/"</span>
  <span style="color: #EEDC82;">"The base path to download Lombok jars from."</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defvar</span> <span style="color: #FD971F;">lsp-java-lombok/dir</span> user-emacs-directory
  <span style="color: #EEDC82;">"The path on disk where lombok jars are saved."</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">lsp-java-lombok/jar-file</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Get the filename for the Lombok jar."</span>
  <span style="color: #93a8c6;">(</span>concat <span style="color: #EEDC82;">"lombok"</span>
          <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> lsp-java-lombok/version <span style="color: #EEDC82;">"-"</span><span style="color: #b0b1a3;">)</span>
          lsp-java-lombok/version
          <span style="color: #EEDC82;">".jar"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">lsp-java-lombok/jar-path</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Generate the path on disk for the Lombok jar."</span>
  <span style="color: #93a8c6;">(</span>concat user-emacs-directory <span style="color: #b0b1a3;">(</span>lsp-java-lombok/jar-file<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">lsp-java-lombok/download-jar</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Download the latest lombok jar for use with LSP."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let*</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>lombok-url <span style="color: #aebed8;">(</span>url-generic-parse-url lsp-java-lombok/jar-url-base<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>base-path <span style="color: #aebed8;">(</span>file-name-as-directory <span style="color: #b0b0b3;">(</span>url-filename lombok-url<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>file-path <span style="color: #aebed8;">(</span>concat base-path <span style="color: #b0b0b3;">(</span>lsp-java-lombok/jar-file<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setf</span> <span style="color: #97b098;">(</span>url-filename lombok-url<span style="color: #97b098;">)</span> file-path<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>url-copy-file lombok-url <span style="color: #97b098;">(</span>lsp-java-lombok/jar-path<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">lsp-java-lombok/append-vmargs</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Apply lombok args to lsp-java-vmargs."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> lsp-java-vmargs
        <span style="color: #b0b1a3;">(</span>append lsp-java-vmargs
                <span style="color: #97b098;">(</span>concat <span style="color: #EEDC82;">"-javaagent:"</span> <span style="color: #aebed8;">(</span>lsp-java-lombok/jar-path<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">lsp-java-lombok/setup</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Download Lombok if it hasn't been downloaded already."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span>not <span style="color: #97b098;">(</span>file-exists-p <span style="color: #aebed8;">(</span>lsp-java-lombok/jar-path<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>message <span style="color: #EEDC82;">"Could not find lombok for lsp-java.  Downloading..."</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>lsp-java-lombok/download-jar<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">lsp-java-lombok/init</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Initialize lsp-java-lombok."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> lsp-java-lombok/enabled
    <span style="color: #b0b1a3;">(</span>lsp-java-lombok/setup<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>lsp-java-lombok/append-vmargs<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">provide</span> '<span style="color: #FF80F4;">lsp-java-lombok</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;;; </span><span style="color: #696969; font-style: italic;">lsp-java-lombok.el ends here</span>

</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org89a338f" class="outline-3">
<h3 id="org89a338f"><span class="section-number-3">9.11</span> LAST: enforce my tab style</h3>
<div class="outline-text-3" id="text-9-11">
<p>
Found this <a href="https://github.com/syl20bnr/spacemacs/issues/5923">here</a>, and I like it, to set my styles in a central
location. This was researched while battling the .js tab level. I
don't want to use the <code>customize</code> way since that will be a hidden
manual step after a fresh install.
</p>

<p>
First, define a func to include my indent settings. It takes an input
argument:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">my-setup-indent</span> <span style="color: #93a8c6;">(</span>n<span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">java/c/c++</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> standard-indent n<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> c-basic-offset n<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">javascript family</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> javascript-indent-level n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">javascript-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> js-indent-level n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">js-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> js2-basic-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">js2-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> js-switch-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">js-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> javascript-indent-level n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">javacript-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> react-indent-level n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">react-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> js2-basic-offset n<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">html, css</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> web-mode-attr-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">web-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> web-mode-code-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">web-mode, js code in html file</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> web-mode-css-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">web-mode, css in html file</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> web-mode-markup-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">web-mode, html tag in html file</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> web-mode-sql-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">web-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> web-mode-attr-value-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">web-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> web-mode-comment-style 2<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">web-mode</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> css-indent-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">css-mode</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">shells</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> sh-basic-offset n<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">shell scripts</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq-local</span> sh-indentation n<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Now set the tabs:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">my-personal-code-style</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>message <span style="color: #EEDC82;">"My personal code style!"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">use space instead of tab</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> indent-tabs-mode nil<span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">indent 2 spaces width</span>
  <span style="color: #93a8c6;">(</span>my-setup-indent 2<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">it would be lovely if this was enough, but it gets stomped on by modes.</span>
<span style="color: #8c8c8c;">(</span>my-personal-code-style<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
So, to enfore this on some modes:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'css-mode-hook 'my-personal-code-style<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook 'my-personal-code-style<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'react-mode-hook 'my-personal-code-style<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'sh-mode-hook 'my-personal-code-style<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'groovy-mode-hook 'my-personal-code-style<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org85083e4" class="outline-2">
<h2 id="org85083e4"><span class="section-number-2">10</span> Buffers</h2>
<div class="outline-text-2" id="text-10">
<p>
There are three concepts seem to me: desktop, window config, and buffers.
</p>

<ul class="org-ul">
<li>desktop: is like virtual desktop, and you can have many, like i3.</li>
<li>window config: think of it like a look you have created using
buffers, eg. stack them this way or that way, on the same
desktop. So switching a window config will switch the buffer layout
within your current desktop.</li>
<li>buffer: is the building block.</li>
</ul>
</div>

<div id="outline-container-org5d4f00a" class="outline-3">
<h3 id="org5d4f00a"><span class="section-number-3">10.1</span> by packages</h3>
<div class="outline-text-3" id="text-10-1">
</div>
<div id="outline-container-org511cffa" class="outline-4">
<h4 id="org511cffa"><span class="section-number-4">10.1.1</span> multi desktops: eyebrowse</h4>
<div class="outline-text-4" id="text-10-1-1">
<p>
Awesome window manager. It's like using i3m but inside emacs. Use the
<code>C-c C-w &lt;0..9&gt;</code> key to switch to so called desktop. On each desktop,
you can have different buffers open and so on, so I don't have to
close buffers, or <code>C-x b</code> a lot anymore. Look for details <a href="https://depp.brause.cc/eyebrowse/">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">eyebrowse</span>
    <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>eyebrowse-mode t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org931516d" class="outline-4">
<h4 id="org931516d"><span class="section-number-4">10.1.2</span> select buffer</h4>
<div class="outline-text-4" id="text-10-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ace-window</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> aw-ignore-current t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> aw-keys '<span style="color: #b0b1a3;">(</span>?a ?s ?d ?f ?g ?h ?j ?k ?l<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> aw-minibuffer-flag nil<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> aw-background t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-x C-o"</span><span style="color: #b0b1a3;">)</span> 'ace-window<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>custom-set-faces
   '<span style="color: #b0b1a3;">(</span>aw-leading-char-face
     <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:inherit</span> ace-jump-face-foreground
     <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#D52349"</span>
     <span style="color: #FF80F4;">:height</span> 1000
     <span style="color: #FF80F4;">:overline</span> t
     <span style="color: #FF80F4;">:box</span> nil<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbfc7ec0" class="outline-4">
<h4 id="orgbfc7ec0"><span class="section-number-4">10.1.3</span> buffer naming</h4>
<div class="outline-text-4" id="text-10-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">uniquify</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> uniquify-buffer-name-style 'post-forward-angle-brackets<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcd5071a" class="outline-3">
<h3 id="orgcd5071a"><span class="section-number-3">10.2</span> save &amp; restore buffers</h3>
<div class="outline-text-3" id="text-10-2">
<p>
First, you need to create a folder <code>~/.emacs.d/savehist</code>. If not, upon
existing emacs, it will complain, asking you whether you want to
<code>ignore</code> it, answer <code>yes</code> will be fine. No harm. It's just the session
will not then be saved.
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-path <span style="color: #93a8c6;">(</span>list <span style="color: #EEDC82;">"~/.emacs.d/savehist"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-dirname <span style="color: #EEDC82;">"~/.emacs.d/savehist"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-restore-eager 5<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-load-locked-desktop t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>desktop-save-mode 1<span style="color: #8c8c8c;">)</span>

  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> history-length t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> history-delete-duplicates t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> savehist-save-minibuffer-history 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> savehist-additional-variables '<span style="color: #93a8c6;">(</span>kill-ring search-ring regexp-search-ring<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>


<p>
But skip the followings:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> desktop-buffers-not-to-save
     <span style="color: #93a8c6;">(</span>concat <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">"</span>
             <span style="color: #EEDC82;">"^nn\\.a[0-9]+</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.log</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">(ftp)</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">^tags</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">^TAGS"</span>
             <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.emacs.*</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.diary</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.newsrc-dribble</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">|</span><span style="color: #EEDC82;">\\.bbdb"</span>
             <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">$"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'dired-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'Info-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'info-lookup-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'desktop-modes-not-to-save 'fundamental-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
See <a href="https://github.com/thierryvolpiatto/psession">here</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">psession</span>
  <span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>psession-mode 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>psession-savehist-mode 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>psession-autosave-mode 1<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6472802" class="outline-3">
<h3 id="org6472802"><span class="section-number-3">10.3</span> switch window config: winner-mode</h3>
<div class="outline-text-3" id="text-10-3">
<p>
Read <a href="https://www.emacswiki.org/emacs/WinnerMode">here</a>. A config is essentially a look of buffers, and there can be
many, say, a config has two windows side by side, while another is 3
stacked. This mode will let you switch between them on the same desktop.
</p>

<p>
Enables <code>winner-mode</code>. Navigate buffer-window configs with <code>C-c left</code> and
<code>C-c right</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>winner-mode 1<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
However, with eyebrowse, I think this is redundant function. Maybe I should skip
this?
</p>
</div>
</div>

<div id="outline-container-orgaf585fb" class="outline-3">
<h3 id="orgaf585fb"><span class="section-number-3">10.4</span> toggle maximize buffer</h3>
<div class="outline-text-3" id="text-10-4">
<p>
Temporarily maximize a buffer.  <a href="https://gist.github.com/mads379/3402786">found here</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">toggle-maximize-buffer</span> <span style="color: #93a8c6;">()</span> <span style="color: #EEDC82;">"Maximize buffer"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b1a3;">(</span>= 1 <span style="color: #97b098;">(</span>length <span style="color: #aebed8;">(</span>window-list<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
      <span style="color: #b0b1a3;">(</span>jump-to-register '_<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">progn</span>
      <span style="color: #97b098;">(</span>window-configuration-to-register '_<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>delete-other-windows<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Map it to a key.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>M-f8<span style="color: #93a8c6;">]</span> 'toggle-maximize-buffer<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge24969e" class="outline-3">
<h3 id="orge24969e"><span class="section-number-3">10.5</span> buffer decorations</h3>
<div class="outline-text-3" id="text-10-5">
<p>
Setup the visual cues about the current editing buffer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>column-number-mode t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> visible-bell t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> scroll-step 1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq-default</span> transient-mark-mode t<span style="color: #8c8c8c;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">highlight selection</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org32403aa" class="outline-2">
<h2 id="org32403aa"><span class="section-number-2">11</span> Editing</h2>
<div class="outline-text-2" id="text-11">
<p>
The heart of editor is, well, editing. Many things are determining the
experience. Here are the ones I use to make editing quicker, easier,
less typing essentially.
</p>
</div>

<div id="outline-container-org964cb45" class="outline-3">
<h3 id="org964cb45"><span class="section-number-3">11.1</span> by packages</h3>
<div class="outline-text-3" id="text-11-1">
</div>
<div id="outline-container-orga3d53c0" class="outline-4">
<h4 id="orga3d53c0"><span class="section-number-4">11.1.1</span> auto company</h4>
<div class="outline-text-4" id="text-11-1-1">
<p>
A good auto completion thing. See details <a href="https://company-mode.github.io/">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">company</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook 'global-company-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2bd6d66" class="outline-4">
<h4 id="org2bd6d66"><span class="section-number-4">11.1.2</span> undo tree</h4>
<div class="outline-text-4" id="text-11-1-2">
<p>
More <a href="https://elpa.gnu.org/packages/undo-tree.html">undos</a>?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(use-package undo-tree</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #696969; font-style: italic;">:ensure t</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #696969; font-style: italic;">:config</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #696969; font-style: italic;">(setq undo-tree-visualizer-timestamps t)</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #696969; font-style: italic;">(setq undo-tree-visualizer-diff t))</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(global-undo-tree-mode)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">undo-tree</span>
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:diminish</span> undo-tree-mode
  <span style="color: #FF80F4;">:init</span> <span style="color: #93a8c6;">(</span>global-undo-tree-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:custom</span>
  <span style="color: #93a8c6;">(</span>undo-tree-visualizer-diff t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>undo-tree-history-directory-alist '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"."</span> . <span style="color: #EEDC82;">"~/.emacs.d/undo"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>undo-tree-visualizer-timestamps t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org79e098d" class="outline-4">
<h4 id="org79e098d"><span class="section-number-4">11.1.3</span> search &amp; jump</h4>
<div class="outline-text-4" id="text-11-1-3">
</div>
<ol class="org-ol">
<li><a id="org4777c11"></a>ag<br />
<div class="outline-text-5" id="text-11-1-3-1">
<p>
Use the silversearcher.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ag</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> ag-highlight-search t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> ag-reuse-buffers t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Follow the <a href="https://github.com/emacsorphanage/helm-ag">helm-ag manual</a>, "Insert thing at point as default search
pattern, if this value is non nil":
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> helm-ag-insert-at-point 'symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> helm-ag-use-temp-buffer t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orge20f0ec"></a>dumb-jump<br />
<div class="outline-text-5" id="text-11-1-3-2">
<p>
First, let's make sure we have <code>xref</code> because we will hook into the
xref backend:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">xref</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Now install <code>dumb-jump</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dumb-jump</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> dumb-jump-prefer-searcher 'ag<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Some hydra:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defhydra</span> dumb-jump-hydra <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:color</span> blue <span style="color: #FF80F4;">:columns</span> 3<span style="color: #93a8c6;">)</span>
    <span style="color: #EEDC82;">"Dumb Jump"</span>
    <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"j"</span> dumb-jump-go <span style="color: #EEDC82;">"Go"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"o"</span> dumb-jump-go-other-window <span style="color: #EEDC82;">"Other window"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"e"</span> dumb-jump-go-prefer-external <span style="color: #EEDC82;">"Go external"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"x"</span> dumb-jump-go-prefer-external-other-window <span style="color: #EEDC82;">"Go external other window"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"i"</span> dumb-jump-go-prompt <span style="color: #EEDC82;">"Prompt"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"l"</span> dumb-jump-quick-look <span style="color: #EEDC82;">"Quick look"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"b"</span> dumb-jump-back <span style="color: #EEDC82;">"Back"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Last, hook to <code>xref</code> to use <code>M.</code> bind:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'xref-backend-functions #'dumb-jump-xref-activate<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org695dd9f"></a>ripgrep<br />
<div class="outline-text-5" id="text-11-1-3-3">
<p>
This enables searching recursively in projects.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ripgrep</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">projectile-ripgrep</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:requires</span> <span style="color: #93a8c6;">(</span>ripgrep projectile<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org781adf2" class="outline-4">
<h4 id="org781adf2"><span class="section-number-4">11.1.4</span> max 80 cols wide</h4>
<div class="outline-text-4" id="text-11-1-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">column-enforce-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> column-enforce-column 80<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-c m"</span> . 'column-enforce-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">column-enforce-face</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org21f853a" class="outline-4">
<h4 id="org21f853a"><span class="section-number-4">11.1.5</span> highlight whitespace &amp; lines &gt; 80 long</h4>
<div class="outline-text-4" id="text-11-1-5">
<p>
Highlight unnecessary chars and lines over 80.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">whitespace</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> whitespace-style '<span style="color: #b0b1a3;">(</span>face empty tabs lines-tail trailing<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>global-whitespace-mode t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbff639e" class="outline-4">
<h4 id="orgbff639e"><span class="section-number-4">11.1.6</span> browse kill ring</h4>
<div class="outline-text-4" id="text-11-1-6">
<p>
Don't use <code>popup-kill-ring</code> as it's dead. Use the <a href="https://github.com/browse-kill-ring/browse-kill-ring">browse-kill-ring</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">browse-kill-ring</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> browse-kill-ring-highlight-current-entry t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> browse-kill-ring-highlight-inserted-item t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>browse-kill-ring-default-keybindings<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org43ab51f" class="outline-4">
<h4 id="org43ab51f"><span class="section-number-4">11.1.7</span> parenthesis</h4>
<div class="outline-text-4" id="text-11-1-7">
<p>
Borrowing from old init.el:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>show-paren-mode t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-attribute 'region nil
                    <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"#666"</span>
                    <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#d52349"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-background 'show-paren-match <span style="color: #93a8c6;">(</span>face-background 'default<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-foreground 'show-paren-match <span style="color: #EEDC82;">"#d52349"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-attribute 'show-paren-match nil
                    <span style="color: #FF80F4;">:weight</span> 'extra-bold<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgefa1770"></a>show matching delimiters (default: on)<br />
<div class="outline-text-5" id="text-11-1-7-1">
<p>
Use <a href="https://github.com/Fanael/rainbow-delimiters">rainbow-delimiter</a>. Do not set the
<code>rainbow-delimiters-mismatched-face</code> because it will raise alarm all all
the following brackets when there is a mismatch, like a xmas lights,
and it's distracting to find out the actual mismatch!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">rainbow-delimiters</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>set-face-attribute 'rainbow-delimiters-unmatched-face nil
                      <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"GhostWhite"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook #'rainbow-delimiters-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3269a27"></a>type using smartparens (default: on)<br />
<div class="outline-text-5" id="text-11-1-7-2">
<p>
Well, who wants to type parenthesis.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">smartparens</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">smartparens-config</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'prog-mode-hook #'smartparens-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgb4cd88a" class="outline-4">
<h4 id="orgb4cd88a"><span class="section-number-4">11.1.8</span> string inflection (default: some modes)</h4>
<div class="outline-text-4" id="text-11-1-8">
<p>
This is useful in coding to change a string to snake, camel and so on.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">string-inflection</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'python-mode-hook
            '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
               <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-q C-u"</span><span style="color: #97b098;">)</span>
                              'string-inflection-python-style-cycle<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
            '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
               <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-q C-u"</span><span style="color: #97b098;">)</span>
                              'string-inflection-python-style-cycle<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'mu4e-compose-mode-hook
            '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
               <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-q C-u"</span><span style="color: #97b098;">)</span>
                              'string-inflection-python-style-cycle<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'js2-mode-hook
            '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span>
               <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-q C-u"</span><span style="color: #97b098;">)</span>
                              'string-inflection-python-style-cycle<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5ed151" class="outline-4">
<h4 id="orgd5ed151"><span class="section-number-4">11.1.9</span> annotate-mode (default: some modes)</h4>
<div class="outline-text-4" id="text-11-1-9">
<p>
The file-annotations are store externally. Seems to fail with
<code>args-out-of-range</code> and then Emacs is confused. (filed issue for this)
</p>

<p>
Also, it seems to interfere with colorful modes like <code>magit</code> or
<code>org-agenda-mode</code> so that I went with a whitelist instead of the wish of
a blacklist of modes.
</p>

<p>
Read more <a href="https://github.com/bastibe/annotate.el">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">annotate</span>
  <span style="color: #FF80F4;">:ensure</span> t

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">for ledger-mode, as 'C-c C-a' is taken there.</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"C-c C-A"</span> . 'annotate-annotate<span style="color: #93a8c6;">)</span>

  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-hook 'org-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'csv-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'c++-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'sh-mode 'annotate-mode<span style="color: #93a8c6;">)</span>
<span style="color: #8C8C8C;">;;;  </span><span style="color: #696969; font-style: italic;">(define-globalized-minor-mode global-annotate-mode annotate-mode</span>
<span style="color: #8C8C8C;">;;;    </span><span style="color: #696969; font-style: italic;">(lambda () (annotate-mode 1)))</span>
<span style="color: #8C8C8C;">;;;  </span><span style="color: #696969; font-style: italic;">(global-annotate-mode 1)</span>
  <span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1674cb" class="outline-4">
<h4 id="orgf1674cb"><span class="section-number-4">11.1.10</span> writeroom-mode (default: off)</h4>
<div class="outline-text-4" id="text-11-1-10">
<p>
It seems to be a particular way of changing the buffer look so the
writer can focus on, writing. Read <a href="https://github.com/joostkremers/writeroom-mode">more here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">writeroom-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc53aa49" class="outline-4">
<h4 id="orgc53aa49"><span class="section-number-4">11.1.11</span> anzu</h4>
<div class="outline-text-4" id="text-11-1-11">
<p>
Show number of search matches.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span>
  anzu

  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-anzu-mode +1<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf85a357" class="outline-4">
<h4 id="orgf85a357"><span class="section-number-4">11.1.12</span> move-text</h4>
<div class="outline-text-4" id="text-11-1-12">
<p>
Looks convenient <a href="https://github.com/emacsfodder/move-text">here</a>:
</p>
<ul class="org-ul">
<li><code>Meta-up</code> move-text-up (line or active region)</li>
<li><code>Meta-down</code> move-text-down (line or active region)</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">move-text</span>
    <span style="color: #FF80F4;">:ensure</span>
    <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>move-text-default-bindings<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe6fe49" class="outline-4">
<h4 id="orgbe6fe49"><span class="section-number-4">11.1.13</span> tabs to 2</h4>
<div class="outline-text-4" id="text-11-1-13">
<p>
These are global tab settings. Since TAB is such a sensitive thing,
each coding mode may have a different style/preference that will
override this.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq-default</span> indent-tabs-mode nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> require-final-newline t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> indent-line-function 'insert-tab<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq-default</span> tab-width 2<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc47d845" class="outline-3">
<h3 id="orgc47d845"><span class="section-number-3">11.2</span> no trailing spaces</h3>
<div class="outline-text-3" id="text-11-2">
<p>
Delete all trailing white space in the buffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> next-line-add-newlines nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'before-save-hook 'delete-trailing-whitespace<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org875fd07" class="outline-3">
<h3 id="org875fd07"><span class="section-number-3">11.3</span> iedit mode</h3>
<div class="outline-text-3" id="text-11-3">
<p>
Instead of using the string replacement, use this edit mode will
highlight all the occurances in the buffer, and now your editing will
take effect on all of them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">iedit</span>
  <span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-i"</span><span style="color: #93a8c6;">)</span> 'iedit-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7738147" class="outline-3">
<h3 id="org7738147"><span class="section-number-3">11.4</span> ediff</h3>
<div class="outline-text-3" id="text-11-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>custom-set-variables
 '<span style="color: #93a8c6;">(</span>ediff-window-setup-function 'ediff-setup-windows-plain<span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>ediff-diff-options <span style="color: #EEDC82;">"-w"</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>ediff-split-window-function 'split-window-horizontally<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5b8939f" class="outline-2">
<h2 id="org5b8939f"><span class="section-number-2">12</span> Navigate file &amp; dir</h2>
<div class="outline-text-2" id="text-12">
<p>
I'm not quite used to using emacs as file manager yet. To me, it's
much easier to just start a shell and type.
</p>

<p>
Nonetheless, navigating code tree is necessary, and the one like CP is
so deeply buried that having a good navigator is probably a good
thing.
</p>

<p>
The most dramatic thing is <a href="#treemacs">treemacs</a>, which I need some time to get
used to. It looks nice, but feels a bit, exaggerated to my taste.
</p>
</div>

<div id="outline-container-org391a73b" class="outline-3">
<h3 id="org391a73b"><span class="section-number-3">12.1</span> dir hack</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dash</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-hacks-utils</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org97ea6d0" class="outline-3">
<h3 id="org97ea6d0"><span class="section-number-3">12.2</span> dired-rainbow</h3>
<div class="outline-text-3" id="text-12-2">
<p>
Make the dired coloful. Copied from <a href="https://github.com/Fuco1/dired-hacks">dired-hacks</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-rainbow</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">progn</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define-chmod</span> directory <span style="color: #EEDC82;">"#6cb2eb"</span> <span style="color: #EEDC82;">"d.*"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> html <span style="color: #EEDC82;">"#eb5286"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"css"</span> <span style="color: #EEDC82;">"less"</span> <span style="color: #EEDC82;">"sass"</span> <span style="color: #EEDC82;">"scss"</span> <span style="color: #EEDC82;">"htm"</span> <span style="color: #EEDC82;">"html"</span> <span style="color: #EEDC82;">"jhtm"</span> <span style="color: #EEDC82;">"mht"</span> <span style="color: #EEDC82;">"eml"</span> <span style="color: #EEDC82;">"mustache"</span> <span style="color: #EEDC82;">"xhtml"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> xml <span style="color: #EEDC82;">"#f2d024"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"xml"</span> <span style="color: #EEDC82;">"xsd"</span> <span style="color: #EEDC82;">"xsl"</span> <span style="color: #EEDC82;">"xslt"</span> <span style="color: #EEDC82;">"wsdl"</span> <span style="color: #EEDC82;">"bib"</span> <span style="color: #EEDC82;">"json"</span> <span style="color: #EEDC82;">"msg"</span> <span style="color: #EEDC82;">"pgn"</span> <span style="color: #EEDC82;">"rss"</span> <span style="color: #EEDC82;">"yaml"</span> <span style="color: #EEDC82;">"yml"</span> <span style="color: #EEDC82;">"rdata"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> document <span style="color: #EEDC82;">"#9561e2"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"docm"</span> <span style="color: #EEDC82;">"doc"</span> <span style="color: #EEDC82;">"docx"</span> <span style="color: #EEDC82;">"odb"</span> <span style="color: #EEDC82;">"odt"</span> <span style="color: #EEDC82;">"pdb"</span> <span style="color: #EEDC82;">"pdf"</span> <span style="color: #EEDC82;">"ps"</span> <span style="color: #EEDC82;">"rtf"</span> <span style="color: #EEDC82;">"djvu"</span> <span style="color: #EEDC82;">"epub"</span> <span style="color: #EEDC82;">"odp"</span> <span style="color: #EEDC82;">"ppt"</span> <span style="color: #EEDC82;">"pptx"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> markdown <span style="color: #EEDC82;">"#ffed4a"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"org"</span> <span style="color: #EEDC82;">"etx"</span> <span style="color: #EEDC82;">"info"</span> <span style="color: #EEDC82;">"markdown"</span> <span style="color: #EEDC82;">"md"</span> <span style="color: #EEDC82;">"mkd"</span> <span style="color: #EEDC82;">"nfo"</span> <span style="color: #EEDC82;">"pod"</span> <span style="color: #EEDC82;">"rst"</span> <span style="color: #EEDC82;">"tex"</span> <span style="color: #EEDC82;">"textfile"</span> <span style="color: #EEDC82;">"txt"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> database <span style="color: #EEDC82;">"#6574cd"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"xlsx"</span> <span style="color: #EEDC82;">"xls"</span> <span style="color: #EEDC82;">"csv"</span> <span style="color: #EEDC82;">"accdb"</span> <span style="color: #EEDC82;">"db"</span> <span style="color: #EEDC82;">"mdb"</span> <span style="color: #EEDC82;">"sqlite"</span> <span style="color: #EEDC82;">"nc"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> media <span style="color: #EEDC82;">"#de751f"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"mp3"</span> <span style="color: #EEDC82;">"mp4"</span> <span style="color: #EEDC82;">"MP3"</span> <span style="color: #EEDC82;">"MP4"</span> <span style="color: #EEDC82;">"avi"</span> <span style="color: #EEDC82;">"mpeg"</span> <span style="color: #EEDC82;">"mpg"</span> <span style="color: #EEDC82;">"flv"</span> <span style="color: #EEDC82;">"ogg"</span> <span style="color: #EEDC82;">"mov"</span> <span style="color: #EEDC82;">"mid"</span> <span style="color: #EEDC82;">"midi"</span> <span style="color: #EEDC82;">"wav"</span> <span style="color: #EEDC82;">"aiff"</span> <span style="color: #EEDC82;">"flac"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> image <span style="color: #EEDC82;">"#f66d9b"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"tiff"</span> <span style="color: #EEDC82;">"tif"</span> <span style="color: #EEDC82;">"cdr"</span> <span style="color: #EEDC82;">"gif"</span> <span style="color: #EEDC82;">"ico"</span> <span style="color: #EEDC82;">"jpeg"</span> <span style="color: #EEDC82;">"jpg"</span> <span style="color: #EEDC82;">"png"</span> <span style="color: #EEDC82;">"psd"</span> <span style="color: #EEDC82;">"eps"</span> <span style="color: #EEDC82;">"svg"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> log <span style="color: #EEDC82;">"#c17d11"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"log"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> shell <span style="color: #EEDC82;">"#f6993f"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"awk"</span> <span style="color: #EEDC82;">"bash"</span> <span style="color: #EEDC82;">"bat"</span> <span style="color: #EEDC82;">"sed"</span> <span style="color: #EEDC82;">"sh"</span> <span style="color: #EEDC82;">"zsh"</span> <span style="color: #EEDC82;">"vim"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> interpreted <span style="color: #EEDC82;">"#38c172"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"py"</span> <span style="color: #EEDC82;">"ipynb"</span> <span style="color: #EEDC82;">"rb"</span> <span style="color: #EEDC82;">"pl"</span> <span style="color: #EEDC82;">"t"</span> <span style="color: #EEDC82;">"msql"</span> <span style="color: #EEDC82;">"mysql"</span> <span style="color: #EEDC82;">"pgsql"</span> <span style="color: #EEDC82;">"sql"</span> <span style="color: #EEDC82;">"r"</span> <span style="color: #EEDC82;">"clj"</span> <span style="color: #EEDC82;">"cljs"</span> <span style="color: #EEDC82;">"scala"</span> <span style="color: #EEDC82;">"js"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> compiled <span style="color: #EEDC82;">"#4dc0b5"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"asm"</span> <span style="color: #EEDC82;">"cl"</span> <span style="color: #EEDC82;">"lisp"</span> <span style="color: #EEDC82;">"el"</span> <span style="color: #EEDC82;">"c"</span> <span style="color: #EEDC82;">"h"</span> <span style="color: #EEDC82;">"c++"</span> <span style="color: #EEDC82;">"h++"</span> <span style="color: #EEDC82;">"hpp"</span> <span style="color: #EEDC82;">"hxx"</span> <span style="color: #EEDC82;">"m"</span> <span style="color: #EEDC82;">"cc"</span> <span style="color: #EEDC82;">"cs"</span> <span style="color: #EEDC82;">"cp"</span> <span style="color: #EEDC82;">"cpp"</span> <span style="color: #EEDC82;">"go"</span> <span style="color: #EEDC82;">"f"</span> <span style="color: #EEDC82;">"for"</span> <span style="color: #EEDC82;">"ftn"</span> <span style="color: #EEDC82;">"f90"</span> <span style="color: #EEDC82;">"f95"</span> <span style="color: #EEDC82;">"f03"</span> <span style="color: #EEDC82;">"f08"</span> <span style="color: #EEDC82;">"s"</span> <span style="color: #EEDC82;">"rs"</span> <span style="color: #EEDC82;">"hi"</span> <span style="color: #EEDC82;">"hs"</span> <span style="color: #EEDC82;">"pyc"</span> <span style="color: #EEDC82;">".java"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> executable <span style="color: #EEDC82;">"#8cc4ff"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"exe"</span> <span style="color: #EEDC82;">"msi"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> compressed <span style="color: #EEDC82;">"#51d88a"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"7z"</span> <span style="color: #EEDC82;">"zip"</span> <span style="color: #EEDC82;">"bz2"</span> <span style="color: #EEDC82;">"tgz"</span> <span style="color: #EEDC82;">"txz"</span> <span style="color: #EEDC82;">"gz"</span> <span style="color: #EEDC82;">"xz"</span> <span style="color: #EEDC82;">"z"</span> <span style="color: #EEDC82;">"Z"</span> <span style="color: #EEDC82;">"jar"</span> <span style="color: #EEDC82;">"war"</span> <span style="color: #EEDC82;">"ear"</span> <span style="color: #EEDC82;">"rar"</span> <span style="color: #EEDC82;">"sar"</span> <span style="color: #EEDC82;">"xpi"</span> <span style="color: #EEDC82;">"apk"</span> <span style="color: #EEDC82;">"xz"</span> <span style="color: #EEDC82;">"tar"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> packaged <span style="color: #EEDC82;">"#faad63"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"deb"</span> <span style="color: #EEDC82;">"rpm"</span> <span style="color: #EEDC82;">"apk"</span> <span style="color: #EEDC82;">"jad"</span> <span style="color: #EEDC82;">"jar"</span> <span style="color: #EEDC82;">"cab"</span> <span style="color: #EEDC82;">"pak"</span> <span style="color: #EEDC82;">"pk3"</span> <span style="color: #EEDC82;">"vdf"</span> <span style="color: #EEDC82;">"vpk"</span> <span style="color: #EEDC82;">"bsp"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> encrypted <span style="color: #EEDC82;">"#ffed4a"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"gpg"</span> <span style="color: #EEDC82;">"pgp"</span> <span style="color: #EEDC82;">"asc"</span> <span style="color: #EEDC82;">"bfe"</span> <span style="color: #EEDC82;">"enc"</span> <span style="color: #EEDC82;">"signature"</span> <span style="color: #EEDC82;">"sig"</span> <span style="color: #EEDC82;">"p12"</span> <span style="color: #EEDC82;">"pem"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> fonts <span style="color: #EEDC82;">"#6cb2eb"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"afm"</span> <span style="color: #EEDC82;">"fon"</span> <span style="color: #EEDC82;">"fnt"</span> <span style="color: #EEDC82;">"pfb"</span> <span style="color: #EEDC82;">"pfm"</span> <span style="color: #EEDC82;">"ttf"</span> <span style="color: #EEDC82;">"otf"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> partition <span style="color: #EEDC82;">"#e3342f"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"dmg"</span> <span style="color: #EEDC82;">"iso"</span> <span style="color: #EEDC82;">"bin"</span> <span style="color: #EEDC82;">"nrg"</span> <span style="color: #EEDC82;">"qcow"</span> <span style="color: #EEDC82;">"toast"</span> <span style="color: #EEDC82;">"vcd"</span> <span style="color: #EEDC82;">"vmdk"</span> <span style="color: #EEDC82;">"bak"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define</span> vc <span style="color: #EEDC82;">"#0074d9"</span> <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"git"</span> <span style="color: #EEDC82;">"gitignore"</span> <span style="color: #EEDC82;">"gitattributes"</span> <span style="color: #EEDC82;">"gitmodules"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">dired-rainbow-define-chmod</span> executable-unix <span style="color: #EEDC82;">"#38c172"</span> <span style="color: #EEDC82;">"-.*x.*"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org695c306" class="outline-3">
<h3 id="org695c306"><span class="section-number-3">12.3</span> dired-narrow</h3>
<div class="outline-text-3" id="text-12-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-narrow</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa42d68" class="outline-3">
<h3 id="orgaa42d68"><span class="section-number-3">12.4</span> dired-collapse</h3>
<div class="outline-text-3" id="text-12-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-collapse</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org36b9330" class="outline-3">
<h3 id="org36b9330"><span class="section-number-3">12.5</span> dired-filter</h3>
<div class="outline-text-3" id="text-12-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">dired-filter</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9b7e564" class="outline-3">
<h3 id="treemacs"><span class="section-number-3">12.6</span> treemacs (default: off)</h3>
<div class="outline-text-3" id="text-treemacs">
<p>
Copied from <a href="https://github.com/Alexander-Miller/treemacs#installation">here</a>. I'm leaving this mode off by default. <code>C-c t t</code> to
enable it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">treemacs</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span> t
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">with-eval-after-load</span> 'winum
    <span style="color: #b0b1a3;">(</span>define-key winum-keymap <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"M-0"</span><span style="color: #97b098;">)</span> #'treemacs-select-window<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">progn</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> treemacs-collapse-dirs                 <span style="color: #97b098;">(</span><span style="color: #F92672;">if</span> treemacs-python-executable 3 0<span style="color: #97b098;">)</span>
          treemacs-deferred-git-apply-delay      0.5
          treemacs-directory-name-transformer    #'identity
          treemacs-display-in-side-window        t
          treemacs-eldoc-display                 t
          treemacs-file-event-delay              5000
          treemacs-file-extension-regex          treemacs-last-period-regex-value
          treemacs-file-follow-delay             0.2
          treemacs-file-name-transformer         #'identity
          treemacs-follow-after-init             t
          treemacs-git-command-pipe              <span style="color: #EEDC82;">""</span>
          treemacs-goto-tag-strategy             'refetch-index
          treemacs-indentation                   2
          treemacs-indentation-string            <span style="color: #EEDC82;">" "</span>
          treemacs-is-never-other-window         nil
          treemacs-max-git-entries               5000
          treemacs-missing-project-action        'ask
          treemacs-move-forward-on-expand        nil
          treemacs-no-png-images                 nil
          treemacs-no-delete-other-windows       t
          treemacs-project-follow-cleanup        nil
          treemacs-persist-file                  <span style="color: #97b098;">(</span>expand-file-name <span style="color: #EEDC82;">".cache/treemacs-persist"</span> user-emacs-directory<span style="color: #97b098;">)</span>
          treemacs-position                      'left
          treemacs-recenter-distance             0.1
          treemacs-recenter-after-file-follow    nil
          treemacs-recenter-after-tag-follow     nil
          treemacs-recenter-after-project-jump   'always
          treemacs-recenter-after-project-expand 'on-distance
          treemacs-show-cursor                   nil
          treemacs-show-hidden-files             t
          treemacs-silent-filewatch              nil
          treemacs-silent-refresh                nil
          treemacs-sorting                       'alphabetic-asc
          treemacs-space-between-root-nodes      t
          treemacs-tag-follow-cleanup            t
          treemacs-tag-follow-delay              1.5
          treemacs-user-mode-line-format         nil
          treemacs-user-header-line-format       nil
          treemacs-width                         35
          treemacs-workspace-switch-cleanup      nil<span style="color: #b0b1a3;">)</span>

    <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">The default width and height of the icons is 22 pixels. If you are</span>
    <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">using a Hi-DPI display, uncomment this to double the icon size.</span>
    <span style="color: #8C8C8C;">;;</span><span style="color: #696969; font-style: italic;">(treemacs-resize-icons 44)</span>

    <span style="color: #b0b1a3;">(</span>treemacs-follow-mode t<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>treemacs-filewatch-mode t<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>treemacs-fringe-indicator-mode t<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">pcase</span> <span style="color: #97b098;">(</span>cons <span style="color: #aebed8;">(</span>not <span style="color: #b0b0b3;">(</span>null <span style="color: #90a890;">(</span>executable-find <span style="color: #EEDC82;">"git"</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                 <span style="color: #aebed8;">(</span>not <span style="color: #b0b0b3;">(</span>null treemacs-python-executable<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>`<span style="color: #aebed8;">(</span>t . t<span style="color: #aebed8;">)</span>
       <span style="color: #aebed8;">(</span>treemacs-git-mode 'deferred<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>`<span style="color: #aebed8;">(</span>t . _<span style="color: #aebed8;">)</span>
       <span style="color: #aebed8;">(</span>treemacs-git-mode 'simple<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span>
  <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> global-map
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-0"</span>       . treemacs-select-window<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-x t 1"</span>   . treemacs-delete-other-windows<span style="color: #b0b1a3;">)</span>
          <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-x t t"</span>   . treemacs<span style="color: #b0b1a3;">)</span>
          <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-x t B"</span>   . treemacs-bookmark<span style="color: #b0b1a3;">)</span>
          <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-x t C-t"</span> . treemacs-find-file<span style="color: #b0b1a3;">)</span>
          <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-x t M-t"</span> . treemacs-find-tag<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>


  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">treemacs-icons-dired</span>
    <span style="color: #FF80F4;">:after</span> treemacs dired
    <span style="color: #FF80F4;">:ensure</span> t
      <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>treemacs-icons-dired-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">treemacs-projectile</span>
    <span style="color: #FF80F4;">:after</span> treemacs projectile
    <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">treemacs-magit</span>
    <span style="color: #FF80F4;">:after</span> treemacs magit
    <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Add some files to ignore, eg. ~.pyc`:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">with-eval-after-load</span> 'treemacs
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">treemacs-ignore-gitignore</span> <span style="color: #b0b1a3;">(</span>file _<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>string= file <span style="color: #EEDC82;">".pyc"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">push</span> #'treemacs-ignore-gitignore treemacs-ignored-file-predicates<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd79cfd6" class="outline-2">
<h2 id="orgd79cfd6"><span class="section-number-2">13</span> Helm</h2>
<div class="outline-text-2" id="text-13">
<p>
Helm should really has its own section because it touches everything!
</p>

<p>
I just took over the config described in this <a href="https://tuhdo.github.io/helm-intro.html">helm intro</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">helm</span>
 <span style="color: #FF80F4;">:ensure</span> t
 <span style="color: #FF80F4;">:delight</span> helm-mode
 <span style="color: #FF80F4;">:config</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(require 'helm-config)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">The default "C-x c" is quite close to "C-x C-c", which quits Emacs.</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Changed to "C-c h". Note: We must set "C-c h" globally, because we</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">cannot change `</span><span style="color: #FF80F4; font-style: italic;">helm-command-prefix-key</span><span style="color: #696969; font-style: italic;">' once `</span><span style="color: #FF80F4; font-style: italic;">helm-config</span><span style="color: #696969; font-style: italic;">' is loaded.</span>
  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c h"</span><span style="color: #b0b1a3;">)</span> 'helm-command-prefix<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>global-unset-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-x c"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span>define-key helm-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"&lt;tab&gt;"</span><span style="color: #b0b1a3;">)</span> 'helm-execute-persistent-action<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">rebind tab to run persistent action</span>
  <span style="color: #93a8c6;">(</span>define-key helm-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-M-x"</span><span style="color: #b0b1a3;">)</span> 'helm-execute-persistent-action<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">make TAB work in terminal</span>
  <span style="color: #93a8c6;">(</span>define-key helm-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-z"</span><span style="color: #b0b1a3;">)</span>  'helm-select-action<span style="color: #93a8c6;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">list actions using C-z</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span>executable-find <span style="color: #EEDC82;">"curl"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> helm-google-suggest-use-curl-p t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-split-window-inside-p            t <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">open helm buffer inside current window, not occupy whole other window</span>
        helm-move-to-line-cycle-in-source     t <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">move to end or beginning of source when reaching top or bottom of source.</span>
        helm-ff-search-library-in-sexp        t <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">search for library in `</span><span style="color: #FF80F4; font-style: italic;">require</span><span style="color: #696969; font-style: italic;">' and `</span><span style="color: #FF80F4; font-style: italic;">declare-function</span><span style="color: #696969; font-style: italic;">' sexp.</span>
        helm-scroll-amount                    8 <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">scroll 8 lines other window using M-&lt;next&gt;/M-&lt;prior&gt;</span>
        helm-ff-file-name-history-use-recentf t
        helm-echo-input-in-header-line t<span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-autoresize-max-height 50<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-autoresize-min-height 0<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>helm-autoresize-mode 1<span style="color: #93a8c6;">)</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-M-x-fuzzy-match t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-buffers-fuzzy-matching t
        helm-recentf-fuzzy-match    t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-semantic-fuzzy-match t
        helm-imenu-fuzzy-match    t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-locate-fuzzy-match t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-apropos-fuzzy-match t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> helm-lisp-fuzzy-completion t<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span>helm-mode 1<span style="color: #93a8c6;">)</span>
<span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-x C-m"</span><span style="color: #b0b1a3;">)</span> 'helm-M-x<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Found <a href="https://www.reddit.com/r/emacs/comments/30yer0/helm_and_recentf_tips/">this reddit post</a> of using <code>helm-mini</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> helm-mini-default-sources '<span style="color: #93a8c6;">(</span>helm-source-buffers-list
                                  helm-source-recentf
                                  helm-source-bookmarks
                                  helm-source-buffer-not-found<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org065f193" class="outline-2">
<h2 id="org065f193"><span class="section-number-2">14</span> Write chinese</h2>
<div class="outline-text-2" id="text-14">
<p>
I have been using this one w/ reasonable success.
</p>

<p>
First, install pyim.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">pyim</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:defer</span> 10
  <span style="color: #FF80F4;">:config</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#20116;&#31508;&#29992;&#25143;&#20351;&#29992; wbdict &#35789;&#24211;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(use-package pyim-wbdict</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #696969; font-style: italic;">:ensure nil</span>
  <span style="color: #8C8C8C;">;;   </span><span style="color: #696969; font-style: italic;">:config (pyim-wbdict-gbk-enable))</span>

  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> default-input-method <span style="color: #EEDC82;">"pyim"</span><span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#25105;&#20351;&#29992;&#20840;&#25340;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> pyim-default-scheme 'quanpin<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#35774;&#32622; pyim &#25506;&#38024;&#35774;&#32622;&#65292;&#36825;&#26159; pyim &#39640;&#32423;&#21151;&#33021;&#35774;&#32622;&#65292;&#21487;&#20197;&#23454;&#29616; *&#26080;&#30171;* &#20013;&#33521;&#25991;&#20999;&#25442; :-)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#25105;&#33258;&#24049;&#20351;&#29992;&#30340;&#20013;&#33521;&#25991;&#21160;&#24577;&#20999;&#25442;&#35268;&#21017;&#26159;&#65306;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">1. &#20809;&#26631;&#21482;&#26377;&#22312;&#27880;&#37322;&#37324;&#38754;&#26102;&#65292;&#25165;&#21487;&#20197;&#36755;&#20837;&#20013;&#25991;&#12290;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">2. &#20809;&#26631;&#21069;&#26159;&#27721;&#23383;&#23383;&#31526;&#26102;&#65292;&#25165;&#33021;&#36755;&#20837;&#20013;&#25991;&#12290;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">3. &#20351;&#29992; M-j &#24555;&#25463;&#38190;&#65292;&#24378;&#21046;&#23558;&#20809;&#26631;&#21069;&#30340;&#25340;&#38899;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026;&#20013;&#25991;&#12290;</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(setq-default pyim-english-input-switch-functions</span>
  <span style="color: #8C8C8C;">;;               </span><span style="color: #696969; font-style: italic;">'(pyim-probe-dynamic-english</span>
  <span style="color: #8C8C8C;">;;                 </span><span style="color: #696969; font-style: italic;">pyim-probe-isearch-mode</span>
  <span style="color: #8C8C8C;">;;                 </span><span style="color: #696969; font-style: italic;">pyim-probe-program-mode</span>
  <span style="color: #8C8C8C;">;;                 </span><span style="color: #696969; font-style: italic;">pyim-probe-org-structure-template))</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(setq-default pyim-punctuation-half-width-functions</span>
  <span style="color: #8C8C8C;">;;               </span><span style="color: #696969; font-style: italic;">'(pyim-probe-punctuation-line-beginning</span>
  <span style="color: #8C8C8C;">;;                 </span><span style="color: #696969; font-style: italic;">pyim-probe-punctuation-after-punctuation))</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#24320;&#21551;&#25340;&#38899;&#25628;&#32034;&#21151;&#33021;</span>
  <span style="color: #93a8c6;">(</span>pyim-isearch-mode 1<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#20351;&#29992; pupup-el &#26469;&#32472;&#21046;&#36873;&#35789;&#26694;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> pyim-page-tooltip 'popup<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#36873;&#35789;&#26694;&#26174;&#31034;5&#20010;&#20505;&#36873;&#35789;</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> pyim-page-length 7<span style="color: #93a8c6;">)</span>

  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">&#35753; Emacs &#21551;&#21160;&#26102;&#33258;&#21160;&#21152;&#36733; pyim &#35789;&#24211;</span>
  <span style="color: #93a8c6;">(</span>add-hook 'emacs-startup-hook
            #'<span style="color: #b0b1a3;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #97b098;">()</span> <span style="color: #97b098;">(</span>pyim-restart-1 t<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span>
  <span style="color: #93a8c6;">(</span><span style="color: #8C8C8C;">;</span><span style="color: #696969; font-style: italic;">&#19982; pyim-probe-dynamic-english &#37197;&#21512;</span>
  <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-j"</span> . pyim-convert-code-at-point<span style="color: #b0b1a3;">)</span>

  <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-;"</span> . pyim-delete-word-from-personal-buffer<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Add a basic dictionary.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Basedict</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">pyim-basedict</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>pyim-basedict-enable<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Last, a couple global settins.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-\\"</span><span style="color: #93a8c6;">)</span> 'toggle-input-method<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> default-input-method <span style="color: #EEDC82;">"pyim"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge07ad8d" class="outline-2">
<h2 id="orge07ad8d"><span class="section-number-2">15</span> Office stuff</h2>
<div class="outline-text-2" id="text-15">
<p>
Using emacs in a corporate env can be daunting.
</p>
</div>

<div id="outline-container-org7327279" class="outline-3">
<h3 id="org7327279"><span class="section-number-3">15.1</span> mu4e email</h3>
<div class="outline-text-3" id="text-15-1">
<p>
mu4e only a emac client. The workhorse are davmail, isync and mu. You need to install these offline and hook them up using the config below.
</p>
</div>

<div id="outline-container-org6b288d5" class="outline-4">
<h4 id="org6b288d5"><span class="section-number-4">15.1.1</span> install &amp; minimal setup</h4>
<div class="outline-text-4" id="text-15-1-1">
<p>
First thing first, load the package. As you can see, I have used <code>apt-get</code> install mu4e.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list 'load-path <span style="color: #EEDC82;">"/usr/local/share/emacs/site-lisp/mu4e/"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">mu4e</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">mu4e-contrib</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Then we load <code>maildirs-extension</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">mu4e-maildirs-extension</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>mu4e-maildirs-extension<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Now, we tell emacs I want to use <code>mu4e</code> as email client:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mail-user-agent 'mu4e-user-agent<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Link to a couple modes to help me writing good emails:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'mu4e-compose-mode-hook
<span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
<span style="color: #b0b1a3;">(</span>visual-line-mode t<span style="color: #b0b1a3;">)</span>
<span style="color: #b0b1a3;">(</span>writegood-mode t<span style="color: #b0b1a3;">)</span>
<span style="color: #b0b1a3;">(</span>flyspell-mode t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8067ce0" class="outline-4">
<h4 id="org8067ce0"><span class="section-number-4">15.1.2</span> mu4e-column-faces</h4>
<div class="outline-text-4" id="text-15-1-2">
<p>
I like it! I installed via <code>list-package</code> as <code>C-x C-e</code> of the block below didn't
work for some reason!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">mu4e-column-faces</span>
  <span style="color: #FF80F4;">:after</span> mu4e
  <span style="color: #FF80F4;">:config</span> <span style="color: #93a8c6;">(</span>mu4e-column-faces-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdab0091" class="outline-4">
<h4 id="orgdab0091"><span class="section-number-4">15.1.3</span> customize face</h4>
<div class="outline-text-4" id="text-15-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>custom-set-faces
 '<span style="color: #93a8c6;">(</span>mu4e-header-highlight-face <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"tomato"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 <span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org15cde9b" class="outline-4">
<h4 id="org15cde9b"><span class="section-number-4">15.1.4</span> context</h4>
<div class="outline-text-4" id="text-15-1-4">
<p>
In 1.8.7 we can setup different <a href="https://www.djcbsoftware.nl/code/mu/mu4e/Contexts-example.html">context</a> so we can use the same mu4e for both
private emails and work emails. Awesome!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-contexts
   `<span style="color: #93a8c6;">(</span> ,<span style="color: #b0b1a3;">(</span>make-mu4e-context
         <span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">"Hotmail"</span>
         <span style="color: #FF80F4;">:enter-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">()</span> <span style="color: #aebed8;">(</span>mu4e-message <span style="color: #EEDC82;">"Entering hotmail context"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #FF80F4;">:leave-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">()</span> <span style="color: #aebed8;">(</span>mu4e-message <span style="color: #EEDC82;">"Leaving hotmail context"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">we match based on the contact-fields of the message</span>
         <span style="color: #FF80F4;">:match-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">(</span>msg<span style="color: #aebed8;">)</span>
                       <span style="color: #aebed8;">(</span><span style="color: #F92672;">when</span> msg
                         <span style="color: #b0b0b3;">(</span>mu4e-message-contact-field-matches msg
                           <span style="color: #FF80F4;">:to</span> <span style="color: #EEDC82;">"feng_xia41103@hotmail.com"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #FF80F4;">:vars</span> '<span style="color: #97b098;">(</span> <span style="color: #aebed8;">(</span> user-mail-address     . <span style="color: #EEDC82;">"feng_xia41103@hotmail.com"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> user-full-name      . <span style="color: #EEDC82;">"Feng Xia"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-smtp-user . <span style="color: #EEDC82;">"feng_xia41103@hotmail.com"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-default-smtp-server . <span style="color: #EEDC82;">"smtp-mail.outlook.com"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-smtp-server . <span style="color: #EEDC82;">"smtp-mail.outlook.com"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-smtp-service . 587 <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> starttls-use-gnutls . t<span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> message-user-organization . <span style="color: #EEDC82;">"Hotmail"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> mu4e-compose-reply-to-address . <span style="color: #EEDC82;">"feng_xia41103@hotmail.com"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> mu4e-compose-signature .
                    <span style="color: #b0b0b3;">(</span>concat
                      <span style="color: #EEDC82;">"Best,\n"</span>
                      <span style="color: #EEDC82;">"feng\n"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>

      ,<span style="color: #b0b1a3;">(</span>make-mu4e-context
         <span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">"Work"</span>
         <span style="color: #FF80F4;">:enter-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">()</span> <span style="color: #aebed8;">(</span>mu4e-message <span style="color: #EEDC82;">"Switch to the Work context"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">no leave-func</span>
         <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">we match based on the maildir of the message</span>
         <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">this matches maildir /Arkham and its sub-directories</span>
         <span style="color: #FF80F4;">:match-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">(</span>msg<span style="color: #aebed8;">)</span>
                       <span style="color: #aebed8;">(</span><span style="color: #F92672;">when</span> msg
                         <span style="color: #b0b0b3;">(</span>string-match-p <span style="color: #EEDC82;">"^/Mycompany"</span> <span style="color: #90a890;">(</span>mu4e-message-field msg <span style="color: #FF80F4;">:maildir</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #FF80F4;">:vars</span> '<span style="color: #97b098;">(</span> <span style="color: #aebed8;">(</span> user-mail-address      . <span style="color: #EEDC82;">"feng.xia@mycompany.io"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> user-full-name       . <span style="color: #EEDC82;">"Feng Xia"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> message-user-organization . <span style="color: #EEDC82;">"Mycompany Inc."</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-smtp-user . <span style="color: #EEDC82;">"feng.xia@mycompany.io"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-default-smtp-server . <span style="color: #EEDC82;">"localhost"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-smtp-server . <span style="color: #EEDC82;">"localhost"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> smtpmail-smtp-service . 1025 <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> starttls-use-gnutls . nil<span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> mu4e-compose-reply-to-address . <span style="color: #EEDC82;">"feng.xia@mycompany.io"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> mu4e-compose-signature  .
                    <span style="color: #b0b0b3;">(</span>concat
                     <span style="color: #EEDC82;">"Best regards,\n\n"</span>
                     <span style="color: #EEDC82;">"Feng Xia\n\n"</span>
                     <span style="color: #EEDC82;">"W: http://www.mycompany.io</span><span style="color: #FF6C60;">\</span><span style="color: #EEDC82;">(not )"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>

      ,<span style="color: #b0b1a3;">(</span>make-mu4e-context
         <span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">"gmail"</span>
         <span style="color: #FF80F4;">:enter-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">()</span> <span style="color: #aebed8;">(</span>mu4e-message <span style="color: #EEDC82;">"Entering gmail context"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #FF80F4;">:leave-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">()</span> <span style="color: #aebed8;">(</span>mu4e-message <span style="color: #EEDC82;">"Leaving gmail context"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">we match based on the contact-fields of the message</span>
         <span style="color: #FF80F4;">:match-func</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">(</span>msg<span style="color: #aebed8;">)</span>
                       <span style="color: #aebed8;">(</span><span style="color: #F92672;">when</span> msg
                         <span style="color: #b0b0b3;">(</span>mu4e-message-contact-field-matches msg
                           <span style="color: #FF80F4;">:to</span> <span style="color: #EEDC82;">"fengxia41103@gmail.com"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #FF80F4;">:vars</span> '<span style="color: #97b098;">(</span> <span style="color: #aebed8;">(</span> user-mail-address     . <span style="color: #EEDC82;">"fengxia41103@gmail.com"</span> <span style="color: #aebed8;">)</span>
                  <span style="color: #aebed8;">(</span> user-full-name      . <span style="color: #EEDC82;">"Feng Xia"</span> <span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> smtpmail-smtp-user . <span style="color: #EEDC82;">"fengxia41103@gmail.com"</span> <span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> smtpmail-default-smtp-server . <span style="color: #EEDC82;">"smtp.gmail.com"</span> <span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> smtpmail-smtp-server . <span style="color: #EEDC82;">"smtp.gmail.com"</span> <span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> smtpmail-smtp-service . 587 <span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> starttls-use-gnutls . t<span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> mu4e-compose-reply-to-address . <span style="color: #EEDC82;">"fengxia41103@gmail.com"</span> <span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> message-user-organization . <span style="color: #EEDC82;">"Gmail"</span> <span style="color: #aebed8;">)</span>
                    <span style="color: #aebed8;">(</span> mu4e-compose-signature .
                      <span style="color: #b0b0b3;">(</span>concat
                       <span style="color: #EEDC82;">"Best,\n"</span>
                       <span style="color: #EEDC82;">"feng\n"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">set `mu4e-context-policy` and `mu4e-compose-policy` to tweak when mu4e should</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">guess or ask the correct context, e.g.</span>

 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">start with the first (default) context;</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">default is to ask-if-none (ask when there's no context yet, and none match)</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(setq mu4e-context-policy 'pick-first)</span>

 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">compose with the current context is no context matches;</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">default is to ask</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">(setq mu4e-compose-context-policy nil)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2853098" class="outline-4">
<h4 id="org2853098"><span class="section-number-4">15.1.5</span> how to get mails</h4>
<div class="outline-text-4" id="text-15-1-5">
<p>
Setup location of my maildir.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-maildir <span style="color: #93a8c6;">(</span>expand-file-name <span style="color: #EEDC82;">"~/Maildir"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Sync email by calling <code>mbsync</code>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-get-mail-command <span style="color: #EEDC82;">"mbsync -a"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
How often should I check? Value in seconds:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-update-interval 300<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Setup some common folders:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-drafts-folder <span style="color: #EEDC82;">"/drafts"</span>
      mu4e-sent-folder   <span style="color: #EEDC82;">"/sent"</span>
      mu4e-trash-folder  <span style="color: #EEDC82;">"/trash"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Setup some shortcuts as bookmarks:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list
 'mu4e-bookmarks
 '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"flag:attach"</span>
   <span style="color: #EEDC82;">"Messages with attachment"</span>
   ?a<span style="color: #93a8c6;">)</span> <span style="color: #FF6C60;">t</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-to-list
 'mu4e-bookmarks
 '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"size:5M..500M"</span>
   <span style="color: #EEDC82;">"Big messages"</span>
   ?b<span style="color: #93a8c6;">)</span> <span style="color: #FF6C60;">t</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-to-list
 'mu4e-bookmarks
 '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"flag:flagged"</span>
   <span style="color: #EEDC82;">"Flagged messages"</span>
   ?f<span style="color: #93a8c6;">)</span> <span style="color: #FF6C60;">t</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org90ac64f" class="outline-4">
<h4 id="org90ac64f"><span class="section-number-4">15.1.6</span> list view</h4>
<div class="outline-text-4" id="text-15-1-6">
<p>
Customize the list view header:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-headers-date-format <span style="color: #EEDC82;">"%b-%d %a"</span>
      mu4e-headers-fields '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:date</span> . 10<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:flags</span> . 5<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:recipnum</span> . 3<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:from-or-to</span> . 10<span style="color: #b0b1a3;">)</span>
                            <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:thread-subject</span> . nil<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Skip duplicates:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-headers-skip-duplicates t<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Showing related in a tree fashion so I know the context:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-headers-include-related t<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Here is a fun one. I noticed that the email thread grows like that greedy snake
game, a pretty good sign that the team is malfunctioning :) So we add a
displayed number on the number of recipients, and just watch it grow:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-to-list 'mu4e-header-info-custom
             '<span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:recipnum</span> .
                         <span style="color: #b0b1a3;">(</span> <span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">"Number of recipients"</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">long name, as seen in the message-view</span>
                                 <span style="color: #FF80F4;">:shortname</span> <span style="color: #EEDC82;">"R#"</span>           <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">short name, as seen in the headers view</span>
                                 <span style="color: #FF80F4;">:help</span> <span style="color: #EEDC82;">"Number of recipients for this message"</span> <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">tooltip</span>
                                 <span style="color: #FF80F4;">:function</span> <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">(</span>msg<span style="color: #aebed8;">)</span>
                                             <span style="color: #aebed8;">(</span>format <span style="color: #EEDC82;">"%d"</span>
                                                     <span style="color: #b0b0b3;">(</span>+ <span style="color: #90a890;">(</span>length <span style="color: #a2b6da;">(</span>mu4e-message-field msg <span style="color: #FF80F4;">:to</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                                                        <span style="color: #90a890;">(</span>length <span style="color: #a2b6da;">(</span>mu4e-message-field msg <span style="color: #FF80F4;">:cc</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org242988b" class="outline-4">
<h4 id="org242988b"><span class="section-number-4">15.1.7</span> read &amp; attachment</h4>
<div class="outline-text-4" id="text-15-1-7">
<p>
Save attachment to:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-attachment-dir <span style="color: #EEDC82;">"~/Downloads"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
To open HTML in browser:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-view-use-gnus t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'mu4e-view-actions
'<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"ViewInBrowser"</span> . mu4e-action-view-in-browser<span style="color: #93a8c6;">)</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;</span><span style="color: #696969; font-style: italic;">(setq mu4e-html2text-command "html2text -b 72 --mark-code")</span>
</pre>
</div>


<p>
To open a link in email, press <code>g</code>.
</p>

<p>
Attempt to show images when viewing messages:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-view-show-images t<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Use imagemagick, if available:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">when</span> <span style="color: #93a8c6;">(</span>fboundp 'imagemagick-register-types<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>imagemagick-register-types<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org282ec0f" class="outline-4">
<h4 id="org282ec0f"><span class="section-number-4">15.1.8</span> write new</h4>
<div class="outline-text-4" id="text-15-1-8">
<p>
My signature line:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> mu4e-compose-signature
      <span style="color: #93a8c6;">(</span>concat
       <span style="color: #EEDC82;">"Best regards,\n\n"</span>
       <span style="color: #EEDC82;">"Feng Xia\n\n"</span>
       <span style="color: #EEDC82;">"W: http://www.mycompany.io\n"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2618fc3" class="outline-4">
<h4 id="org2618fc3"><span class="section-number-4">15.1.9</span> send</h4>
<div class="outline-text-4" id="text-15-1-9">
<p>
Sending email is to use SMTP. Here I'm showing to use the company one
through <code>davmail</code> which runs smtp listen on port <code>1025</code>. You can also
use Gmail/hotmail:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;;</span><span style="color: #696969; font-style: italic;">(use-package smtpmail</span>
<span style="color: #8C8C8C;">;;  </span><span style="color: #696969; font-style: italic;">:ensure t</span>
<span style="color: #8C8C8C;">;;  </span><span style="color: #696969; font-style: italic;">:config</span>
<span style="color: #8C8C8C;">;;</span><span style="color: #696969; font-style: italic;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">user-mail-address "feng.xia@mycompany.io"</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">smtpmail-smtp-user "feng.xia@mycompany.io"</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">smtpmail-default-smtp-server "localhost"</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">smtpmail-smtp-service 1025</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">starttls-use-gnutls nil</span>
  <span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> send-mail-function 'smtpmail-send-it
        smtpmail-debug-info t
        smtpmail-auth-credentials <span style="color: #93a8c6;">(</span>expand-file-name <span style="color: #EEDC82;">"~/.authinfo"</span><span style="color: #93a8c6;">)</span>
        smtpmail-stream-type nil
        starttls-extra-arguments nil<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
There is a toggle where you can queue the sending email first instead
of sending to server immediately. This is useful for travel when you
just write, then queue, then when reconnected to the internect, send.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> smtpmail-queue-mail nil
      smtpmail-queue-dir <span style="color: #EEDC82;">"~/Maildir/queue/cur"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org02168b0" class="outline-4">
<h4 id="org02168b0"><span class="section-number-4">15.1.10</span> reply</h4>
<div class="outline-text-4" id="text-15-1-10">
<p>
When replying an email, auto fill in my info:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">mu4e-compose-reply-to-address "feng.xia@mycompany.io"</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">user-mail-address "feng.xia@mycompany.io"</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">user-full-name "Feng Xia"</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">message-signature  (concat</span>
<span style="color: #8C8C8C;">;;                     </span><span style="color: #696969; font-style: italic;">"Feng Xia\n\n"</span>
<span style="color: #8C8C8C;">;;                     </span><span style="color: #696969; font-style: italic;">"W: http://www.mycompany.io\n")</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span>
        message-citation-line-format <span style="color: #EEDC82;">"On %Y-%m-%d %H:%M:%S, %f wrote:"</span>
        message-citation-line-function 'message-insert-formatted-citation-line
        mu4e-headers-results-limit 500<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7388a56" class="outline-4">
<h4 id="org7388a56"><span class="section-number-4">15.1.11</span> kill all buffer upon exit</h4>
<div class="outline-text-4" id="text-15-1-11">
<p>
mu4e can open a lot of writing buffers. Just kill them all when we exit mu4e:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> message-kill-buffer-on-exit t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org322d6a4" class="outline-4">
<h4 id="org322d6a4"><span class="section-number-4">15.1.12</span> write html</h4>
<div class="outline-text-4" id="text-15-1-12">
<p>
Emacs doesn't like html email body. Nor do I. But one thing I found
out is that markdown mode table will look terrible as plain text on
receiving end. There are a couple ways to work around.
</p>
</div>

<ol class="org-ol">
<li><a id="org6315b60"></a>write in org<br />
<div class="outline-text-5" id="text-15-1-12-1">
<p>
So we now write email in org mode, then call <code>M-x org-mime-htmlize</code> to
convert either the whole buffer or a region to html before sending:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-mime</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-mime-export-ascii 'utf-8<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org22a253a"></a>write in markdown<br />
<div class="outline-text-5" id="text-15-1-12-2">
<p>
How about writing it in markdown? You don't need to do much. Switch to
<code>markdown-mode</code> to write, then switch back to <code>mu4e-compose-mode</code> and
then <code>C-c C-c</code> to send:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">multipart-html-message</span> <span style="color: #93a8c6;">(</span>plain html<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Creates a multipart HTML email with a text part and an html part."</span>
  <span style="color: #93a8c6;">(</span>concat <span style="color: #EEDC82;">"&lt;#multipart type=alternative&gt;\n"</span>
          <span style="color: #EEDC82;">"&lt;#part type=text/plain&gt;"</span>
          plain
          <span style="color: #EEDC82;">"&lt;#part type=text/html&gt;\n"</span>
          html
          <span style="color: #EEDC82;">"&lt;#/multipart&gt;\n"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">convert-message-to-markdown</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Convert the message in the current buffer to a multipart HTML email.</span>

<span style="color: #EEDC82;">The HTML is rendered by treating the message content as Markdown."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">unless</span> <span style="color: #b0b1a3;">(</span>executable-find <span style="color: #EEDC82;">"pandoc"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #FF6C60;">error</span> <span style="color: #EEDC82;">"Pandoc not found, unable to convert message"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let*</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>begin
          <span style="color: #aebed8;">(</span><span style="color: #F92672;">save-excursion</span>
            <span style="color: #b0b0b3;">(</span>goto-char <span style="color: #90a890;">(</span>point-min<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span>search-forward mail-header-separator<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>end <span style="color: #aebed8;">(</span>point-max<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>html-buf <span style="color: #aebed8;">(</span>generate-new-buffer <span style="color: #EEDC82;">"*mail-md-output*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>exit-code
          <span style="color: #aebed8;">(</span>call-process-region begin end <span style="color: #EEDC82;">"pandoc"</span> nil html-buf nil
                               <span style="color: #EEDC82;">"--quiet"</span> <span style="color: #EEDC82;">"-f"</span> <span style="color: #EEDC82;">"gfm"</span> <span style="color: #EEDC82;">"-t"</span> <span style="color: #EEDC82;">"html"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>html <span style="color: #aebed8;">(</span>format <span style="color: #EEDC82;">"&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n%s\n&lt;/body&gt;&lt;/html&gt;\n"</span>
                <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">with-current-buffer</span> html-buf
                  <span style="color: #90a890;">(</span>buffer-substring <span style="color: #a2b6da;">(</span>point-min<span style="color: #a2b6da;">)</span> <span style="color: #a2b6da;">(</span>point-max<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>raw-body <span style="color: #aebed8;">(</span>buffer-substring begin end<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> <span style="color: #97b098;">(</span>not <span style="color: #aebed8;">(</span>= exit-code 0<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #FF6C60;">error</span> <span style="color: #EEDC82;">"Markdown conversion failed, see %s"</span> <span style="color: #aebed8;">(</span>buffer-name html-buf<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">with-current-buffer</span> html-buf
      <span style="color: #97b098;">(</span>set-buffer-modified-p nil<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>kill-buffer<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>undo-boundary<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>delete-region begin end<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">save-excursion</span>
      <span style="color: #97b098;">(</span>goto-char begin<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>newline<span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>insert <span style="color: #aebed8;">(</span>multipart-html-message raw-body html<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">message-md-send</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> arg<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Convert the current buffer and send it.</span>
<span style="color: #EEDC82;">If given prefix arg ARG, skips markdown conversion."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"P"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">unless</span> arg
    <span style="color: #b0b1a3;">(</span>convert-message-to-markdown<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>message-send<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">message-md-send-and-exit</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> arg<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Convert the current buffer and send it, then exit from mail buffer.</span>
<span style="color: #EEDC82;">If given prefix arg ARG, skips markdown conversion."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span> <span style="color: #EEDC82;">"P"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">unless</span> arg
    <span style="color: #b0b1a3;">(</span>convert-message-to-markdown<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>message-send-and-exit<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">with-eval-after-load</span> 'message
 <span style="color: #93a8c6;">(</span>define-key message-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c C-s"</span><span style="color: #b0b1a3;">)</span> #'message-md-send<span style="color: #93a8c6;">)</span>
 <span style="color: #93a8c6;">(</span>define-key message-mode-map <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c C-c"</span><span style="color: #b0b1a3;">)</span> #'message-md-send-and-exit<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org501f18c" class="outline-4">
<h4 id="org501f18c"><span class="section-number-4">15.1.13</span> capture to org</h4>
<div class="outline-text-4" id="text-15-1-13">
<p>
It is possible to capture an email to org as todo shown <a href="https://www.djcbsoftware.nl/code/mu/mu4e/Org_002dmode-links.html">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>define-key mu4e-headers-mode-map <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c c"</span><span style="color: #93a8c6;">)</span> 'mu4e-org-store-and-capture<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key mu4e-view-mode-map    <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c c"</span><span style="color: #93a8c6;">)</span> 'mu4e-org-store-and-capture<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-org8081f53" class="outline-3">
<h3 id="org8081f53"><span class="section-number-3">15.2</span> slack</h3>
<div class="outline-text-3" id="text-15-2">
<p>
Install slack client. It's a bit involved to get token and cookie, and <b>you need
both</b>!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">slack</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:defer</span> 4
  <span style="color: #FF80F4;">:init</span> <span style="color: #93a8c6;">(</span>make-directory <span style="color: #EEDC82;">"/tmp/emacs-slack-images/"</span> t<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> slack-mode-map
              <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"@"</span> . slack-message-embed-mention<span style="color: #97b098;">)</span>
               <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"#"</span> . slack-message-embed-channel<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:custom</span>
  <span style="color: #93a8c6;">(</span>slack-buffer-emojify t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>slack-prefer-current-team t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>slack-image-file-directory <span style="color: #EEDC82;">"/tmp/emacs-slack-images/"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>slack-buffer-create-on-notify t<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>slack-thread-also-send-to-room t<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
    <span style="color: #93a8c6;">(</span>slack-register-team
     <span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">"mycompanyio"</span>
     <span style="color: #FF80F4;">:default</span> t
     <span style="color: #FF80F4;">:token</span> <span style="color: #b0b1a3;">(</span>auth-source-pick-first-password
             <span style="color: #FF80F4;">:host</span> <span style="color: #EEDC82;">"mycompanyio.slack.com"</span>
             <span style="color: #FF80F4;">:user</span> <span style="color: #EEDC82;">"feng.xia@mycompany.io^token"</span><span style="color: #b0b1a3;">)</span>
     <span style="color: #FF80F4;">:cookie</span> <span style="color: #b0b1a3;">(</span>auth-source-pick-first-password
             <span style="color: #FF80F4;">:host</span> <span style="color: #EEDC82;">"mycompanyio.slack.com"</span>
             <span style="color: #FF80F4;">:user</span> <span style="color: #EEDC82;">"feng.xia@mycompany.io^cookie"</span><span style="color: #b0b1a3;">)</span>
     <span style="color: #FF80F4;">:subscribed-channels</span> '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>eng-chat software_dev<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     <span style="color: #FF80F4;">:full-and-display-names</span> t<span style="color: #93a8c6;">)</span>
    <span style="color: #93a8c6;">(</span>add-to-list 'org-agenda-files <span style="color: #EEDC82;">"~/workspace/me/org/slack.org"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">global start slack</span>
 <span style="color: #8c8c8c;">(</span>slack-start<span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">display a nice timestamp in slack</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> lui-time-stamp-format <span style="color: #EEDC82;">"[%Y-%m-%d %H:%M]"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> lui-time-stamp-only-when-changed-p t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> lui-time-stamp-position 'right<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> lui-time-stamp-face '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>t <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"light gray"</span> <span style="color: #FF80F4;">:weight</span> normal<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Add a hydra:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c &lt;f3&gt;"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">defhydra</span> slack-hydra <span style="color: #b0b1a3;">(</span><span style="color: #FF80F4;">:hint</span> nil<span style="color: #b0b1a3;">)</span>
    <span style="color: #EEDC82;">"</span>
<span style="color: #EEDC82;">      Channel: _c_:channel _l_:update</span>
<span style="color: #EEDC82;">      Message: _i_:im _u_:update _r_:reaction _e_:edit msg _M-p_:prev _M-n_:next</span>
<span style="color: #EEDC82;">        Slack: _S_:start _C_: leave</span>
<span style="color: #EEDC82;">        _q_:cancel</span>
<span style="color: #EEDC82;">    "</span>


    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"c"</span> slack-channel-select <span style="color: #EEDC82;">"channel"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"l"</span> slack-channel-list-update <span style="color: #EEDC82;">"channel update"</span><span style="color: #b0b1a3;">)</span>

    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"i"</span> slack-im-select <span style="color: #EEDC82;">"im"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"u"</span> slack-im-list-update <span style="color: #EEDC82;">"im update"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"r"</span> slack-message-add-reaction <span style="color: #EEDC82;">"reaction"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"e"</span> slack-message-edit <span style="color: #EEDC82;">"edit msg"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-p"</span> slack-buffer-goto-prev-message<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"M-n"</span> slack-buffer-goto-next-message<span style="color: #b0b1a3;">)</span>

    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"S"</span> slack-start <span style="color: #EEDC82;">"Start"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C"</span> slack-ws-close <span style="color: #EEDC82;">"Leave"</span><span style="color: #b0b1a3;">)</span>

    <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"q"</span>  nil <span style="color: #EEDC82;">"cancel"</span> <span style="color: #FF80F4;">:color</span> yellow<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Add alert:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">alert</span>
  <span style="color: #FF80F4;">:commands</span> <span style="color: #93a8c6;">(</span>alert<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> alert-default-style 'libnotify<span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Add slack new msg alert, and add it to an org file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">alert</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:init</span>
  <span style="color: #93a8c6;">(</span>alert-define-style
   'my/alert-style <span style="color: #FF80F4;">:title</span>
   <span style="color: #EEDC82;">"Make Org headings for messages I receive - Style"</span>
   <span style="color: #FF80F4;">:notifier</span>
   <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #97b098;">(</span>info<span style="color: #97b098;">)</span>
     <span style="color: #97b098;">(</span><span style="color: #F92672;">when</span> <span style="color: #aebed8;">(</span>get-buffer <span style="color: #EEDC82;">"slack.org"</span><span style="color: #aebed8;">)</span> <span style="color: #aebed8;">(</span><span style="color: #F92672;">with-current-buffer</span> <span style="color: #EEDC82;">"slack.org"</span> <span style="color: #b0b0b3;">(</span>save-buffer<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
     <span style="color: #97b098;">(</span>write-region
      <span style="color: #aebed8;">(</span>s-concat
       <span style="color: #EEDC82;">"* TODO "</span>
       <span style="color: #b0b0b3;">(</span>plist-get info <span style="color: #FF80F4;">:title</span><span style="color: #b0b0b3;">)</span>
       <span style="color: #EEDC82;">" : "</span>
       <span style="color: #b0b0b3;">(</span>format
        <span style="color: #EEDC82;">"%s %s :slack:"</span>
        <span style="color: #90a890;">(</span>plist-get info <span style="color: #FF80F4;">:title</span><span style="color: #90a890;">)</span>
        <span style="color: #90a890;">(</span>s-truncate 127 <span style="color: #a2b6da;">(</span>plist-get info <span style="color: #FF80F4;">:message</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
       <span style="color: #EEDC82;">"\n"</span>
       <span style="color: #b0b0b3;">(</span>format <span style="color: #EEDC82;">"\n &lt;%s&gt;"</span> <span style="color: #90a890;">(</span>format-time-string <span style="color: #EEDC82;">"%Y-%m-%d %H:%M"</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
       <span style="color: #EEDC82;">"\n"</span>
       <span style="color: #b0b0b3;">(</span>plist-get info <span style="color: #FF80F4;">:message</span><span style="color: #b0b0b3;">)</span>
       <span style="color: #EEDC82;">"\n"</span><span style="color: #aebed8;">)</span>
      nil
      <span style="color: #EEDC82;">"~/workspace/me/org/slack.org"</span>
      t<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> alert-default-style 'message<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'alert-user-configuration
               '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:category</span> . <span style="color: #EEDC82;">"slack"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span> my/alert-style nil<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6b2c87f" class="outline-2">
<h2 id="org6b2c87f"><span class="section-number-2">16</span> Hobbies</h2>
<div class="outline-text-2" id="text-16">
</div>
<div id="outline-container-org9e8806c" class="outline-3">
<h3 id="org9e8806c"><span class="section-number-3">16.1</span> elfeed</h3>
<div class="outline-text-3" id="text-16-1">
<p>
Read news:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">elfeed</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:config</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> elfeed-feeds
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"http://rss.slashdot.org/Slashdot/slashdotMain"</span> dev<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"https://fengxia41103.github.io/myblog/feeds/all.atom.xml"</span> me<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd95ce28" class="outline-3">
<h3 id="orgd95ce28"><span class="section-number-3">16.2</span> taskjuggler</h3>
<div class="outline-text-3" id="text-16-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">tj3-mode</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> org-plus-contrib
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">ox-taskjuggler</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>custom-set-variables
   '<span style="color: #b0b1a3;">(</span>org-taskjuggler-process-command <span style="color: #EEDC82;">"/usr/local/bin/tj3 --silent --no-color --output-dir %o %f"</span><span style="color: #b0b1a3;">)</span>
   '<span style="color: #b0b1a3;">(</span>org-taskjuggler-project-tag <span style="color: #EEDC82;">"PRJ"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org804ba92" class="outline-2">
<h2 id="org804ba92"><span class="section-number-2">17</span> My doc writing</h2>
<div class="outline-text-2" id="text-17">
<p>
Writing doc is painful, not because I don't like writing, but because
I hate WORD. So I have been trying all kinds of things to generate PDF
and have people accept my PDF. I used to write simply in LaTex,
plain. Then of course there is the big-org which can be converted. But
since I have been writing a lot of Markdown for my blogs, I don't feel
like converting all my writings into `.org` just fo the sake of org
mode. So instead, I have had success in writing the Pandoc version of
Markdown for my two Lenovo reference architecture papers, and I think
it gives me more control of the LaTex template, the CSS file I can
customize, and so on. So I'll stick to it for now.
</p>
</div>

<div id="outline-container-org89ddb04" class="outline-3">
<h3 id="org89ddb04"><span class="section-number-3">17.1</span> pandoc</h3>
<div class="outline-text-3" id="text-17-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">pandoc-mode</span>
  <span style="color: #FF80F4;">:ensure</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'pandoc-mode-hook 'pandoc-load-default-settings<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge9eee46" class="outline-2">
<h2 id="orge9eee46"><span class="section-number-2">18</span> The big Org</h2>
<div class="outline-text-2" id="text-18">
<p>
Org-mode is, overwhelming! It can do a lot, and it takes a long time
for me to understand what it does (and what it doesn't). Part of this
config in org mode is just the way to force myself to learn org mdoe
and write things in org mode. I haven't yet taken full advantage of
its TODO capability. Well, one day.
</p>
</div>

<div id="outline-container-org2402b51" class="outline-3">
<h3 id="org2402b51"><span class="section-number-3">18.1</span> init</h3>
<div class="outline-text-3" id="text-18-1">
<p>
If variable <code>org-directory</code> is not set yet, map it to my home's
files. You may set this in the <code>~/.emacs</code> to another value,
e.g. <code>(setq org-directory "/ssh:fleury@machine.site.com:OrgFiles")</code>
</p>
</div>

<div id="outline-container-org7ca50e1" class="outline-4">
<h4 id="org7ca50e1"><span class="section-number-4">18.1.1</span> NEXT This does not seem to work, check out doc about <a href="https://stackoverflow.com/questions/3806423/how-can-i-get-a-variables-initial-value-in-elisp">defcustom</a></h4>
<div class="outline-text-4" id="text-18-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org</span>
  <span style="color: #FF80F4;">:ensure</span> nil
  <span style="color: #FF80F4;">:delight</span> org-mode
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>org-mode . visual-line-mode<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>org-mode . variable-pitch-mode<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>org-mode . org-indent-mode<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfdd192f" class="outline-3">
<h3 id="orgfdd192f"><span class="section-number-3">18.2</span> others</h3>
<div class="outline-text-3" id="text-18-2">
<p>
Don't know what they belong to. Just stuck them here. There are some functions
used by the following code. So unfortunately this section must comes in early.
</p>
</div>

<div id="outline-container-org4aa53fa" class="outline-4">
<h4 id="org4aa53fa"><span class="section-number-4">18.2.1</span> by packages</h4>
<div class="outline-text-4" id="text-18-2-1">
</div>
<ol class="org-ol">
<li><a id="orge2cd681"></a>org-protocol<br />
<div class="outline-text-5" id="text-18-2-1-1">
<p>
Let other tools use emacs client to interact
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">require</span> '<span style="color: #FF80F4;">org-protocol</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orga8f76ff"></a>org-board<br />
<div class="outline-text-5" id="text-18-2-1-2">
<p>
Archive entire sites locally with `wget`.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-board</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>global-set-key <span style="color: #b0b1a3;">(</span>kbd <span style="color: #EEDC82;">"C-c o"</span><span style="color: #b0b1a3;">)</span> org-board-keymap<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org848500d"></a>image (M-I)<br />
<div class="outline-text-5" id="text-18-2-1-3">
<p>
Make the display of images a simple key-stroke away.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/org-toggle-iimage-in-org</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"display images in your org file"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b1a3;">(</span>face-underline-p 'org-link<span style="color: #b0b1a3;">)</span>
      <span style="color: #b0b1a3;">(</span>set-face-underline 'org-link nil<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>set-face-underline 'org-link t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>iimage-mode 'toggle<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">iimage</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'iimage-mode-image-regex-alist
               <span style="color: #b0b1a3;">(</span>cons <span style="color: #97b098;">(</span>concat <span style="color: #EEDC82;">"\\[\\[file:</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">(</span><span style="color: #EEDC82;">~?"</span> iimage-mode-image-filename-regex
                             <span style="color: #EEDC82;">"</span><span style="color: #A63A62;">\\</span><span style="color: #A63A62;">)</span><span style="color: #EEDC82;">\\]"</span><span style="color: #97b098;">)</span>  <span style="color: #FF6C60;">1</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>add-hook 'org-mode-hook <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #97b098;">()</span>
                             <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">display images</span>
                             <span style="color: #97b098;">(</span>local-set-key <span style="color: #EEDC82;">"\M-I"</span> 'paf/org-toggle-iimage-in-org<span style="color: #97b098;">)</span>
                            <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org27305a3" class="outline-4">
<h4 id="org27305a3"><span class="section-number-4">18.2.2</span> snippets found online</h4>
<div class="outline-text-4" id="text-18-2-2">
<p>
Some helper snippets found online.
</p>
</div>

<ol class="org-ol">
<li><a id="org6bdd7ab"></a>Open remote org dir<br />
<div class="outline-text-5" id="text-18-2-2-1">
<p>
In your <code>.emacs</code> just add this to configure the location:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> remote-org-directory <span style="color: #EEDC82;">"/ssh:fleury@my.hostname.com:OrgFiles"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Then you can use the keyboard shortcut to open that dir.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defcustom</span> <span style="color: #FD971F;">remote-org-directory</span> <span style="color: #EEDC82;">"~/OrgFiles"</span>
  <span style="color: #EEDC82;">"Location of remove OrgFile directory, should you have one."</span>
  <span style="color: #FF80F4;">:type</span> 'string
  <span style="color: #FF80F4;">:group</span> 'paf<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/open-remote-org-directory</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>find-file remote-org-directory<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x r o"</span><span style="color: #93a8c6;">)</span> 'paf/open-remote-org-directory<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org8bc81a8"></a>Org-relative file function<br />
<div class="outline-text-5" id="text-18-2-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">org-relative-file</span> <span style="color: #93a8c6;">(</span>filename<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Compute an expanded absolute file path for org files"</span>
  <span style="color: #93a8c6;">(</span>expand-file-name filename org-directory<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orga3c2e76"></a>Adjust tags on the right<br />
<div class="outline-text-5" id="text-18-2-2-3">
<p>
Dynamically adjust tag position <a href="https://orgmode.org/worg/org-hacks.html#org0560357">source on worg</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-reset-tags</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"In org-mode buffers it will reset tag position according to</span>
<span style="color: #EEDC82;">`</span><span style="color: #FF80F4;">org-tags-column</span><span style="color: #EEDC82;">'."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">and</span>
         <span style="color: #97b098;">(</span>not <span style="color: #aebed8;">(</span>string= <span style="color: #b0b0b3;">(</span>buffer-name<span style="color: #b0b0b3;">)</span> <span style="color: #EEDC82;">"*Remember*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #97b098;">(</span>eql major-mode 'org-mode<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">let</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>b-m-p <span style="color: #b0b0b3;">(</span>buffer-modified-p<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">condition-case</span> nil
          <span style="color: #aebed8;">(</span><span style="color: #F92672;">save-excursion</span>
            <span style="color: #b0b0b3;">(</span>goto-char <span style="color: #90a890;">(</span>point-min<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span>command-execute 'outline-next-visible-heading<span style="color: #b0b0b3;">)</span>
            <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">disable (message) that org-set-tags generates</span>
            <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">cl-letf</span> <span style="color: #90a890;">(</span><span style="color: #a2b6da;">(</span><span style="color: #9cb6ad;">(</span>symbol-function 'message<span style="color: #9cb6ad;">)</span> #'format<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
              <span style="color: #90a890;">(</span>org-set-tags 1 t<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span>set-buffer-modified-p b-m-p<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span><span style="color: #FF6C60;">error</span> nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-now</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Right-adjust `</span><span style="color: #FF80F4;">org-tags-column</span><span style="color: #EEDC82;">' value, then reset tag position."</span>
  <span style="color: #93a8c6;">(</span>set <span style="color: #b0b1a3;">(</span>make-local-variable 'org-tags-column<span style="color: #b0b1a3;">)</span>
       <span style="color: #b0b1a3;">(</span>- <span style="color: #97b098;">(</span>- <span style="color: #aebed8;">(</span>window-width<span style="color: #aebed8;">)</span> <span style="color: #aebed8;">(</span>length org-ellipsis<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>ba/org-adjust-tags-column-reset-tags<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-maybe</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"If `</span><span style="color: #FF80F4;">ba/org-adjust-tags-column</span><span style="color: #EEDC82;">' is set to non-nil, adjust tags."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> ba/org-adjust-tags-column
    <span style="color: #b0b1a3;">(</span>ba/org-adjust-tags-column-now<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-before-save</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Tags need to be left-adjusted when saving."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">when</span> ba/org-adjust-tags-column
     <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> org-tags-column 1<span style="color: #b0b1a3;">)</span>
     <span style="color: #b0b1a3;">(</span>ba/org-adjust-tags-column-reset-tags<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">ba/org-adjust-tags-column-after-save</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Revert left-adjusted tag position done by before-save hook."</span>
  <span style="color: #93a8c6;">(</span>ba/org-adjust-tags-column-maybe<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>set-buffer-modified-p nil<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">between invoking org-refile and displaying the prompt (which</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">triggers window-configuration-change-hook) tags might adjust,</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">which invalidates the org-refile cache</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defadvice</span> <span style="color: #A6E22E;">org-refile</span> <span style="color: #93a8c6;">(</span>around org-refile-disable-adjust-tags<span style="color: #93a8c6;">)</span>
  <span style="color: #EEDC82;">"Disable dynamically adjusting tags"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>ba/org-adjust-tags-column nil<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    ad-do-it<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>ad-activate 'org-refile<span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Now set it up</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> ba/org-adjust-tags-column t<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">automatically align tags on right-hand side</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">TODO(fleury): Does not seem to work as of 2017/12/18</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Seems to work again 2018/11/01</span>
<span style="color: #8c8c8c;">(</span>add-hook 'window-configuration-change-hook
          'ba/org-adjust-tags-column-maybe<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'before-save-hook 'ba/org-adjust-tags-column-before-save<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'after-save-hook 'ba/org-adjust-tags-column-after-save<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'org-agenda-mode-hook <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
                                  <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> org-agenda-tags-column <span style="color: #97b098;">(</span>- <span style="color: #aebed8;">(</span>window-width<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orga89cdaf"></a><span class="todo TODO">TODO</span> Update <code>org-set-tags-to</code><br />
<div class="outline-text-6" id="text-18-2-2-3-1">
<p>
<a href="https://orgmode.org/worg/doc.html#org-set-tags-to"><code>org-set-tags-to</code></a> is gone, and <code>org-set-tags</code> with &gt; 1 args is not working.
Not sure what to replace it with though&#x2026;
</p>
</div>
</li>
</ol>
</li>

<li><a id="orgddfaf0c"></a>Preserve structure in archives<br />
<div class="outline-text-5" id="text-18-2-2-4">
<p>
Make sure archiving preserves the same tree structure, including when
archiving subtrees.  <a href="https://orgmode.org/worg/org-hacks.html#org4265b4c">source on org</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">my-org-inherited-no-file-tags</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>tags <span style="color: #aebed8;">(</span>org-entry-get nil <span style="color: #EEDC82;">"ALLTAGS"</span> 'selective<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        <span style="color: #97b098;">(</span>ltags <span style="color: #aebed8;">(</span>org-entry-get nil <span style="color: #EEDC82;">"TAGS"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span>mapc <span style="color: #97b098;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #aebed8;">(</span>tag<span style="color: #aebed8;">)</span>
            <span style="color: #aebed8;">(</span><span style="color: #F92672;">setq</span> tags
                  <span style="color: #b0b0b3;">(</span>replace-regexp-in-string <span style="color: #90a890;">(</span>concat tag <span style="color: #EEDC82;">":"</span><span style="color: #90a890;">)</span> <span style="color: #EEDC82;">""</span> tags<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span>append org-file-tags <span style="color: #aebed8;">(</span><span style="color: #F92672;">when</span> ltags <span style="color: #b0b0b3;">(</span>split-string ltags <span style="color: #EEDC82;">":"</span> t<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> <span style="color: #97b098;">(</span>string= <span style="color: #EEDC82;">":"</span> tags<span style="color: #97b098;">)</span> nil tags<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
This used to work, but <code>org-extract-archive-file</code> is no longer defined.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defadvice</span> <span style="color: #A6E22E;">org-archive-subtree</span>
    <span style="color: #93a8c6;">(</span>around my-org-archive-subtree-low-level activate<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>tags <span style="color: #aebed8;">(</span>my-org-inherited-no-file-tags<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        <span style="color: #97b098;">(</span>org-archive-location
         <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">save-excursion</span> <span style="color: #90a890;">(</span>org-back-to-heading<span style="color: #90a890;">)</span>
                             <span style="color: #90a890;">(</span>&gt; <span style="color: #a2b6da;">(</span>org-outline-level<span style="color: #a2b6da;">)</span> 1<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
             <span style="color: #b0b0b3;">(</span>concat <span style="color: #90a890;">(</span>car <span style="color: #a2b6da;">(</span>split-string org-archive-location <span style="color: #EEDC82;">"::"</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                     <span style="color: #EEDC82;">"::* "</span>
                     <span style="color: #90a890;">(</span>car <span style="color: #a2b6da;">(</span>org-get-outline-path<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
           org-archive-location<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    ad-do-it
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">with-current-buffer</span> <span style="color: #97b098;">(</span>find-file-noselect <span style="color: #aebed8;">(</span>org-extract-archive-file<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">save-excursion</span>
        <span style="color: #aebed8;">(</span><span style="color: #F92672;">while</span> <span style="color: #b0b0b3;">(</span>org-up-heading-safe<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span>org-set-tags tags<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgddbe299"></a>Properties collector (default: off)<br />
<div class="outline-text-5" id="text-18-2-2-5">
<p>
Collect properties into tables. See documentation in the file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>load-file <span style="color: #EEDC82;">"~/Emacs/org-collector.el"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org6596203"></a>access org file remotely via SSH<br />
<div class="outline-text-5" id="text-18-2-2-6">
<p>
Let's bind this to a key, so I can open remote dirs. I suually put
this in my <code>.emacs</code> as it is host- and user-specific.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/open-remote-org-dir</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>dired <span style="color: #EEDC82;">"/ssh:remote.host.com:org"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-M-x r o"</span><span style="color: #93a8c6;">)</span> 'paf/open-remote-org-dir<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org58f92b8"></a>bash command<br />
<div class="outline-text-5" id="text-18-2-2-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-babel-sh-command <span style="color: #EEDC82;">"bash"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org48779ac"></a>OrgRoam templates<br />
<div class="outline-text-5" id="text-18-2-2-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-roam-capture-templates
      `<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"m"</span> <span style="color: #EEDC82;">"Meeting"</span> entry <span style="color: #97b098;">(</span><span style="color: #F92672;">function</span> org-roam--capture-get-point<span style="color: #97b098;">)</span>
             <span style="color: #EEDC82;">"* %?\n%U\n%^{with}\n"</span>
             <span style="color: #FF80F4;">:file-name</span> <span style="color: #EEDC82;">"meeting/%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
             <span style="color: #FF80F4;">:head</span> <span style="color: #EEDC82;">"#+title: ${title}\n#+roam_tags: %^{with}\n\n"</span>
             <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgff6c1af" class="outline-3">
<h3 id="orgff6c1af"><span class="section-number-3">18.3</span> key mappings</h3>
<div class="outline-text-3" id="text-18-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c l"</span><span style="color: #93a8c6;">)</span> 'org-store-link<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c c"</span><span style="color: #93a8c6;">)</span> 'org-capture<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c a"</span><span style="color: #93a8c6;">)</span> 'org-agenda<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">(</span>kbd <span style="color: #EEDC82;">"C-c b"</span><span style="color: #93a8c6;">)</span> 'org-iswitchb<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span>
            <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-&lt;up&gt;"</span><span style="color: #97b098;">)</span> 'org-move-subtree-up<span style="color: #b0b1a3;">)</span>
            <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-&lt;down&gt;"</span><span style="color: #97b098;">)</span> 'org-move-subtree-down<span style="color: #b0b1a3;">)</span>
            <span style="color: #b0b1a3;">(</span>local-set-key <span style="color: #97b098;">(</span>kbd <span style="color: #EEDC82;">"C-c C-l"</span><span style="color: #97b098;">)</span> 'org-insert-link<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org9dd3d9c" class="outline-3">
<h3 id="org9dd3d9c"><span class="section-number-3">18.4</span> display settings</h3>
<div class="outline-text-3" id="text-18-4">
<p>
Some config for display. Some of these are borrowed from <a href="https://zzamboni.org/post/beautifying-org-mode-in-emacs/">here</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-hide-leading-stars t<span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">auto log a clock when task is closed</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-log-done t<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-startup-indented t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-startup-folded t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-ellipsis <span style="color: #EEDC82;">"..."</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-hide-emphasis-markers t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org3b42cf4" class="outline-4">
<h4 id="org3b42cf4"><span class="section-number-4">18.4.1</span> org-bullets</h4>
<div class="outline-text-4" id="text-18-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-bullets</span>
  <span style="color: #FF80F4;">:ensure</span>
  <span style="color: #FF80F4;">:hook</span> <span style="color: #93a8c6;">(</span>org-mode . org-bullets-mode<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org414bdee" class="outline-4">
<h4 id="org414bdee"><span class="section-number-4">18.4.2</span> headline font</h4>
<div class="outline-text-4" id="text-18-4-2">
<p>
This will make headline and text body different font size.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">let*</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>variable-tuple
          <span style="color: #97b098;">(</span><span style="color: #F92672;">cond</span> <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"ETBembo"</span><span style="color: #b0b0b3;">)</span>         '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"ETBembo"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"Source Sans Pro"</span><span style="color: #b0b0b3;">)</span> '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"Source Sans Pro"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"Lucida Grande"</span><span style="color: #b0b0b3;">)</span>   '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"Lucida Grande"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-list-fonts <span style="color: #EEDC82;">"Verdana"</span><span style="color: #b0b0b3;">)</span>         '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:font</span> <span style="color: #EEDC82;">"Verdana"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>x-family-fonts <span style="color: #EEDC82;">"Sans Serif"</span><span style="color: #b0b0b3;">)</span>    '<span style="color: #b0b0b3;">(</span><span style="color: #FF80F4;">:family</span> <span style="color: #EEDC82;">"Sans Serif"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                <span style="color: #aebed8;">(</span>nil <span style="color: #b0b0b3;">(</span><span style="color: #FF6C60;">warn</span> <span style="color: #EEDC82;">"Cannot find a Sans Serif Font.  Install Source Sans Pro."</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span>headline           `<span style="color: #97b098;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>

    <span style="color: #93a8c6;">(</span>custom-theme-set-faces
     'user
     `<span style="color: #b0b1a3;">(</span>org-level-8 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-level-7 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-level-6 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-level-5 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-level-4 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.0<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-level-3 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.1 <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#FEB236"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-level-2 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.2 <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"burleywood"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-level-1 <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.3<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
     `<span style="color: #b0b1a3;">(</span>org-document-title <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>t <span style="color: #b0b0b3;">(</span>,@headline ,@variable-tuple <span style="color: #FF80F4;">:height</span> 1.5 <span style="color: #FF80F4;">:underline</span> nil<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc34b5d" class="outline-4">
<h4 id="orgdc34b5d"><span class="section-number-4">18.4.3</span> custom font</h4>
<div class="outline-text-4" id="text-18-4-3">
<p>
Tweaks to customize font faces in org found <a href="https://zzamboni.org/post/beautifying-org-mode-in-emacs/">here</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>custom-set-faces
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">custom-set-faces was added by Custom.</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">If you edit it by hand, you could mess it up, so be careful.</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Your init file should contain only one such instance.</span>
 <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">If there is more than one, they won't work right.</span>
 '<span style="color: #93a8c6;">(</span>default <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>aw-leading-char-face <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> ace-jump-face-foreground <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#D52349"</span> <span style="color: #FF80F4;">:height</span> 1000 <span style="color: #FF80F4;">:overline</span> t <span style="color: #FF80F4;">:box</span> nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>fixed-pitch <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:family</span> <span style="color: #EEDC82;">"Fira Code"</span> <span style="color: #FF80F4;">:height</span> 140<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>font-lock-comment-face <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"dim gray"</span> <span style="color: #FF80F4;">:slant</span> oblique<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"forest green"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-branch-current <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:box</span> 1 <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:height</span> 2.0<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-branch-local <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"tomato"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-branch-remote <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"yellow"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-diff-context-highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"#ffffff"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"dim gray"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-diff-file-heading-highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"#ffffff"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"black"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-diff-hunk-heading <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"gainsboro"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"tomato"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-diff-hunk-heading-highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"DarkGoldenrod3"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"black"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-diff-revision-summary <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> magit-diff-hunk-heading <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"black"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-diff-revision-summary-highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"gold"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-section-heading-selection <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"dark red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>magit-section-highlight <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"tan4"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>markdown-code-face <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"gray10"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-agenda-current-time <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-time-grid <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"yellow"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-agenda-date <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-agenda-structure <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"pale green"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"black"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-agenda-date-weekend <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-agenda-date <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"light blue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-block <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> fixed-pitch <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"light gray"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-block-background <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"gray10"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-block-begin-line <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:underline</span> <span style="color: #EEDC82;">"#A7A6AA"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"GreenYellow"</span> <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"gray30"</span> <span style="color: #FF80F4;">:extend</span> t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-block-end-line <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:underline</span> <span style="color: #EEDC82;">"#A7A6AA"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"GreenYellow"</span> <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"gray30"</span> <span style="color: #FF80F4;">:extend</span> t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-bold <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#d52349"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-code <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> <span style="color: #b0b0b3;">(</span>shadow fixed-pitch<span style="color: #b0b0b3;">)</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"tomato"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-document-info <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"dark orange"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-document-info-keyword <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> <span style="color: #b0b0b3;">(</span>shadow fixed-pitch<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-document-title <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span> <span style="color: #FF80F4;">:family</span> <span style="color: #EEDC82;">"Sans Serif"</span> <span style="color: #FF80F4;">:height</span> 1.5 <span style="color: #FF80F4;">:underline</span> nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-indent <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> <span style="color: #b0b0b3;">(</span>org-hide fixed-pitch<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-1 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span> <span style="color: #FF80F4;">:height</span> 1.3<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-2 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"seashell"</span> <span style="color: #FF80F4;">:height</span> 1.2<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-3 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:height</span> 1.1 <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#FEB236"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-4 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-5 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-6 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-7 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-level-8 <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> default <span style="color: #FF80F4;">:weight</span> bold <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#F5F5F5"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-link <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> fixed-pitch <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"royal blue"</span> <span style="color: #FF80F4;">:underline</span> t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-meta-line <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> <span style="color: #b0b0b3;">(</span>font-lock-comment-face fixed-pitch<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-property-value <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> fixed-pitch<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span> t<span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-special-keyword <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> <span style="color: #b0b0b3;">(</span>font-lock-comment-face fixed-pitch<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-table <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> fixed-pitch <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"#83a598"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-tag <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> <span style="color: #b0b0b3;">(</span>shadow fixed-pitch<span style="color: #b0b0b3;">)</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-verbatim <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> <span style="color: #b0b0b3;">(</span>shadow fixed-pitch<span style="color: #b0b0b3;">)</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"tomato"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-column <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> fixed-pitch<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>region <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"forest green"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga65c399" class="outline-3">
<h3 id="orga65c399"><span class="section-number-3">18.5</span> writing stuff</h3>
<div class="outline-text-3" id="text-18-5">
<p>
Part 1, writing stuff such as taking notes.
</p>
</div>

<div id="outline-container-orga994828" class="outline-4">
<h4 id="orga994828"><span class="section-number-4">18.5.1</span> by packages</h4>
<div class="outline-text-4" id="text-18-5-1">
</div>
<ol class="org-ol">
<li><a id="orga817ffb"></a>Zetteldeft<br />
<div class="outline-text-5" id="text-18-5-1-1">
<p>
This is a note-taking packages inspired by the principles of the
<a href="https://zettelkasten.de/">Zettelkasteno.</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">deft</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">avy</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">zetteldeft</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> <span style="color: #93a8c6;">(</span>org deft avy<span style="color: #93a8c6;">)</span>

  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> deft-extensions '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"org"</span> <span style="color: #EEDC82;">"md"</span> <span style="color: #EEDC82;">"txt"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> deft-directory <span style="color: #b0b1a3;">(</span>org-relative-file <span style="color: #EEDC82;">"Zettelkasten"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> deft-recursive t<span style="color: #93a8c6;">)</span>

  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z d"</span> . deft<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z D"</span> . zetteldeft-deft-new-search<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z R"</span> . deft-refresh<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z s"</span> . zetteldeft-search-at-point<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z c"</span> . zetteldeft-search-current-id<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z f"</span> . zetteldeft-follow-link<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z F"</span> . zetteldeft-avy-file-search-ace-window<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z l"</span> . zetteldeft-avy-link-search<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z t"</span> . zetteldeft-avy-tag-search<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z T"</span> . zetteldeft-tag-buffer<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z i"</span> . zetteldeft-find-file-id-insert<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z I"</span> . zetteldeft-find-file-full-title-insert<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z o"</span> . zetteldeft-find-file<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z n"</span> . zetteldeft-new-file<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z N"</span> . zetteldeft-new-file-and-link<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"C-c z r"</span> . zetteldeft-file-rename<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3d701f0"></a>plant-uml<br />
<div class="outline-text-5" id="text-18-5-1-2">
<p>
Tell where PlantUML is to be found. This needs to be downloaded and
installed separately, see the <a href="http://plantuml.com/">PlantUML website</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">plantuml-mode</span>
 <span style="color: #FF80F4;">:ensure</span> t
 <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> plantuml-jar-path <span style="color: #EEDC82;">"~/workspace/me/myblog/content/downloads/plantuml.jar"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-plantuml-jar-path <span style="color: #EEDC82;">"~/workspace/me/myblog/content/downloads/plantuml.jar"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Let us edit PlantUML snippets in plantuml-mode within orgmode</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'org-src-lang-modes '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"plantuml"</span> . plantuml<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">make it load this language (for export ?)</span>
  <span style="color: #93a8c6;">(</span>org-babel-do-load-languages 'org-babel-load-languages '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>plantuml . t<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Enable plantuml-mode for PlantUML files</span>
  <span style="color: #93a8c6;">(</span>add-to-list 'auto-mode-alist '<span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\\.plantuml\\'"</span> . plantuml-mode<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org2eeff9f" class="outline-4">
<h4 id="org2eeff9f"><span class="section-number-4">18.5.2</span> org-link-abbrev</h4>
<div class="outline-text-4" id="text-18-5-2">
<p>
This lets one write links as e.g. [ [b:123457] ]
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-link-abbrev-alist
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"b"</span> . <span style="color: #EEDC82;">"http://b/"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"go"</span> . <span style="color: #EEDC82;">"http://go/"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"cl"</span> . <span style="color: #EEDC82;">"http://cr/"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f0dd9f" class="outline-4">
<h4 id="org2f0dd9f"><span class="section-number-4">18.5.3</span> auto line wrap</h4>
<div class="outline-text-4" id="text-18-5-3">
<p>
Wrap around after 80 columns. The key is auto-fill mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook '<span style="color: #93a8c6;">(</span>lambda <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">setq</span> fill-column 80<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook 'turn-on-auto-fill<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org659f048" class="outline-3">
<h3 id="org659f048"><span class="section-number-3">18.6</span> export</h3>
<div class="outline-text-3" id="text-18-6">
<p>
Part 2, exporting.
</p>

<p>
This is big deal. It took me a while to learn org, and even right now
I still don't know how to use it for schedule management. This feels
like latex, it's wonderful, but not common among non-org-mode folks.
</p>

<p>
Add a few formats to the export functionality of org-mode.
</p>
</div>

<div id="outline-container-org72964ea" class="outline-4">
<h4 id="org72964ea"><span class="section-number-4">18.6.1</span> org-babel</h4>
<div class="outline-text-4" id="text-18-6-1">
<p>
What kind of code block languages do I need
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-confirm-babel-evaluate 'nil<span style="color: #8c8c8c;">)</span> <span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">Don't ask before executing</span>

<span style="color: #8c8c8c;">(</span>org-babel-do-load-languages
 'org-babel-load-languages
 '<span style="color: #93a8c6;">(</span>
   <span style="color: #b0b1a3;">(</span>R . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>dot . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>emacs-lisp . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>gnuplot . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>python . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #8C8C8C;">;;</span><span style="color: #696969; font-style: italic;">(sh . t)</span>
   <span style="color: #b0b1a3;">(</span>latex . t<span style="color: #b0b1a3;">)</span>
   <span style="color: #b0b1a3;">(</span>shell . t<span style="color: #b0b1a3;">)</span>
  <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4da5f14" class="outline-4">
<h4 id="org4da5f14"><span class="section-number-4">18.6.2</span> markdown</h4>
<div class="outline-text-4" id="text-18-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-md</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3fcd8c5" class="outline-4">
<h4 id="org3fcd8c5"><span class="section-number-4">18.6.3</span> beamer</h4>
<div class="outline-text-4" id="text-18-6-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-beamer</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7a4ce17" class="outline-4">
<h4 id="org7a4ce17"><span class="section-number-4">18.6.4</span> org-reveal</h4>
<div class="outline-text-4" id="text-18-6-4">
<p>
You need to install <code>reveal.js</code> offline, then specify its path here.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-reveal</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:after</span> <span style="color: #93a8c6;">(</span>htmlize<span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-reveal-root <span style="color: #b0b1a3;">(</span>expand-file-name <span style="color: #EEDC82;">"~/reveal.js"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">htmlize</span>
  <span style="color: #FF80F4;">:ensure</span> t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org67e6b3f" class="outline-4">
<h4 id="org67e6b3f"><span class="section-number-4">18.6.5</span> odt</h4>
<div class="outline-text-4" id="text-18-6-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-odt</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc75c8a5" class="outline-4">
<h4 id="orgc75c8a5"><span class="section-number-4">18.6.6</span> taskjuggler</h4>
<div class="outline-text-4" id="text-18-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-taskjuggler</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org947d522" class="outline-4">
<h4 id="org947d522"><span class="section-number-4">18.6.7</span> confluence</h4>
<div class="outline-text-4" id="text-18-6-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">ox-confluence</span>
  <span style="color: #FF80F4;">:defer</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9ad2aa0" class="outline-3">
<h3 id="org9ad2aa0"><span class="section-number-3">18.7</span> managing life (aka. agenda/todo)</h3>
<div class="outline-text-3" id="text-18-7">
<p>
Part 3 of org, managing TODOs.
</p>
</div>


<div id="outline-container-org1f53801" class="outline-4">
<h4 id="org1f53801"><span class="section-number-4">18.7.1</span> where are my agenda files</h4>
<div class="outline-text-4" id="text-18-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-files   <span style="color: #93a8c6;">(</span>list <span style="color: #EEDC82;">"~/workspace/me/org/"</span><span style="color: #93a8c6;">)</span>
      org-log-done 'time
      <span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org352bb6a" class="outline-4">
<h4 id="org352bb6a"><span class="section-number-4">18.7.2</span> by packages</h4>
<div class="outline-text-4" id="text-18-7-2">
</div>
<ol class="org-ol">
<li><a id="orgf3c52de"></a>org-super-agenda<br />
<div class="outline-text-5" id="text-18-7-2-1">
<p>
This enables a more fine-grained filtering of the agenda items.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-super-agenda</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span>org-super-agenda-mode t<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org838ccca"></a>org-clock-convenience<br />
<div class="outline-text-5" id="text-18-7-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-clock-convenience</span>
  <span style="color: #FF80F4;">:ensure</span> t
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #FF80F4;">:map</span> org-agenda-mode-map
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"&lt;S-right&gt;"</span> . org-clock-convenience-timestamp-up<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"&lt;S-left&gt;"</span> . org-clock-convenience-timestamp-down<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"["</span> . org-clock-convenience-fill-gap<span style="color: #b0b1a3;">)</span>
           <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"]"</span> . org-clock-convenience-fill-gap-both<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgfc3b15f"></a>org-habit<br />
<div class="outline-text-5" id="text-18-7-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-habit</span>
  <span style="color: #FF80F4;">:delight</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-graph-column 38<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-preceding-days 35<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-following-days 10<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-habit-show-habits-only-for-today nil<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgdf85a64"></a>org-secretary<br />
<div class="outline-text-5" id="text-18-7-2-4">
<p>
This package is good, but it does not do it simply. I re-modeled it
somewhat below.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-secretary</span>
  <span style="color: #FF80F4;">:ensure</span> org-plus-contrib
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-sec-me <span style="color: #EEDC82;">"feng"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-tag-alist '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"PRJ"</span> . ?p<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESIGNDOC"</span> . ?D<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"Milestone"</span> . ?m<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESK"</span> . ?d<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"HOME"</span> . ?h<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"VC"</span> . ?v<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
This is my version of the org-secretary
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">paf-secretary</span>
  <span style="color: #FF80F4;">:load-path</span> <span style="color: #EEDC82;">"~/Emacs"</span>
  <span style="color: #FF80F4;">:bind</span> <span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\C-cw"</span> . paf-sec-set-with<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\C-cW"</span> . paf-sec-set-where<span style="color: #b0b1a3;">)</span>
         <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"\C-cj"</span> . paf-sec-tag-entry<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> paf-sec-me <span style="color: #EEDC82;">"paf"</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-tag-alist '<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"PRJ"</span> . ?p<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESIGNDOC"</span> . ?D<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"Milestone"</span> . ?m<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"DESK"</span> . ?d<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"HOME"</span> . ?h<span style="color: #97b098;">)</span>
                        <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"VC"</span> . ?v<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgf38ca20"></a>org-duration<br />
<div class="outline-text-5" id="text-18-7-2-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">use-package</span> <span style="color: #FF80F4;">org-duration</span>
  <span style="color: #FF80F4;">:config</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">setq</span> org-duration-units
        `<span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span><span style="color: #EEDC82;">"min"</span> . 1<span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"h"</span> . 60<span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"d"</span> . ,<span style="color: #aebed8;">(</span>* 60 8<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"w"</span> . ,<span style="color: #aebed8;">(</span>* 60 8 5<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"m"</span> . ,<span style="color: #aebed8;">(</span>* 60 8 5 4<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
          <span style="color: #97b098;">(</span><span style="color: #EEDC82;">"y"</span> . ,<span style="color: #aebed8;">(</span>* 60 8 5 4 10<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>org-duration-set-regexps<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org5efcf54" class="outline-4">
<h4 id="org5efcf54"><span class="section-number-4">18.7.3</span> keywords &amp; status state machine</h4>
<div class="outline-text-4" id="text-18-7-3">
<p>
TODO doesn't have to have a special keyword. However, once you have a
list, you can enjoy things like color coded font, status transition
timestamp, and kinda of query report such as "give me the list of my
&lt;meetings&gt;". Just convenient.
</p>

<p>
The state machine is essentially your workflow, how you want to take a
task through its stages, eg. from ready to in-progress to in-review to
done. So really, develop a workflow of your own that fits your way of
thinking, and it should feel natural how you handle a todo in daily
life.
</p>

<p>
I think this is the single most challenging point to adopt Org because
people, myself included, are hardly capable to analyze your own task
handling habit to abstract such workflow. Company hires consulting
firms to do that for them; an individual, unlikely. We coast along
life everyday, but who can write down "here is how I get a TODO off my
list, each time!?".
</p>

<p>
Anyway, I think adopting Org is essentially to force yourself into a
<b>routine</b> that is codified. It sounds rigid, IT-ish. But for efficiency,
it's a necessary evil.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-todo-keywords
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>sequence <span style="color: #EEDC82;">"TODO(t!)"</span> <span style="color: #EEDC82;">"WORKING(w!)"</span> <span style="color: #EEDC82;">"|"</span> <span style="color: #EEDC82;">"DONE(d!)"</span> <span style="color: #EEDC82;">"CANCELLED(C@)"</span> <span style="color: #EEDC82;">"DEFERRED(D@)"</span> <span style="color: #EEDC82;">"SOMEDAY(S!)"</span> <span style="color: #EEDC82;">"FAILED(F!)"</span> <span style="color: #EEDC82;">"REFILED(R!)"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>sequence <span style="color: #EEDC82;">"TASK(m!)"</span> <span style="color: #EEDC82;">"ACTIVE"</span> <span style="color: #EEDC82;">"|"</span> <span style="color: #EEDC82;">"DONE(d!)"</span> <span style="color: #EEDC82;">"CANCELLED(C@)"</span> <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-tags-exclude-from-inheritance '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"PRJ"</span> <span style="color: #EEDC82;">"REGULAR"</span><span style="color: #93a8c6;">)</span>
      org-use-property-inheritance '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"PRIORITY"</span><span style="color: #93a8c6;">)</span>
      org-stuck-projects '<span style="color: #93a8c6;">(</span><span style="color: #EEDC82;">"+PRJ/-DONE-CANCELLED"</span>
                           <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">it is considered stuck if there is no next action</span>
                           <span style="color: #b0b1a3;">(</span><span style="color: #8C8C8C;">;</span><span style="color: #696969; font-style: italic;">"TODO"</span>
                            <span style="color: #EEDC82;">"WORKING"</span> <span style="color: #EEDC82;">"ACTIVE"</span> <span style="color: #EEDC82;">"TASK"</span><span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">()</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-todo-keyword-faces
      '<span style="color: #93a8c6;">(</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"TODO"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"GhostWhite"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"TASK"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"steelblue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"NEXT"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"STARTED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"green"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"WAITING"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"FLAG_GATED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"SOMEDAY"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"steelblue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"MAYBE"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"steelblue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"AI"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"NEW"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"RUNNING"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"WORKED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"green"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"FAILED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"REFILED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"gray"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">For publications</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"APPLIED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"ACCEPTED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"orange"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"REJECTED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"red"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"PUBLISHED"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"green"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Other stuff</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"ACTIVE"</span> . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"darkgreen"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga909a1d" class="outline-4">
<h4 id="orga909a1d"><span class="section-number-4">18.7.4</span> priorities</h4>
<div class="outline-text-4" id="text-18-7-4">
<p>
Set color for priorities based on <a href="http://pragmaticemacs.com/emacs/org-mode-basics-vi-a-simple-todo-list/">this</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-priority-faces '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>?A . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"OrangeRed"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
                           <span style="color: #b0b1a3;">(</span>?B . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"LightSteelBlue"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
                           <span style="color: #b0b1a3;">(</span>?C . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"OliveDrab"</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org09928f2" class="outline-4">
<h4 id="org09928f2"><span class="section-number-4">18.7.5</span> capture &amp; refile</h4>
<div class="outline-text-4" id="text-18-7-5">
<p>
Capture and refile stuff, with some templates that I think are useful.
</p>

<p>
Very nice post on how to get capture templats from a file: <a href="https://joshrollinswrites.com/help-desk-head-desk/org-capture-in-files/">Org-capture
in Files</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-default-notes-file <span style="color: #93a8c6;">(</span>org-relative-file <span style="color: #EEDC82;">"~/workspace/me/org/tasks.org"</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-capture-templates
      `<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"t"</span> <span style="color: #EEDC82;">"Task"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"~/workspace/me/org/tasks.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Tasks"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* TODO [#A] %?\nSCHEDULED: %(org-insert-time-stamp (org-read-date nil t \"+0d\"))\n"</span>
         <span style="color: #FF80F4;">:clock-resume</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"i"</span> <span style="color: #EEDC82;">"Idea"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"~/workspace/me/org/tasks.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Ideas"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* SOMEDAY %?\n%U\n\n%x"</span>
         <span style="color: #FF80F4;">:clock-resume</span> t<span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"m"</span> <span style="color: #EEDC82;">"Meeting"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"~/workspace/me/org/meeting.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Meetings"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* %?  :MTG:\n%U\n%^{with}p"</span><span style="color: #b0b1a3;">)</span>

        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"s"</span> <span style="color: #EEDC82;">"Stand-up"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"~/workspace/me/org/tasks.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Meetings"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* Stand-up  :MTG:\n%U\n\n%?"</span><span style="color: #b0b1a3;">)</span>

        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"1"</span> <span style="color: #EEDC82;">"1:1"</span>
         entry <span style="color: #97b098;">(</span>file+headline ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"~/workspace/me/org/meeting.org"</span><span style="color: #aebed8;">)</span> <span style="color: #EEDC82;">"Meetings"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* 1:1 %^{With}  :MTG:\n%U\n:PROPERTIES:\n:with: %\\1\n:END:\n\n%?"</span><span style="color: #b0b1a3;">)</span>

        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"e"</span> <span style="color: #EEDC82;">"Emails"</span> entry <span style="color: #97b098;">(</span>file+headline <span style="color: #EEDC82;">"~/workspace/me/org/tasks.org"</span> <span style="color: #EEDC82;">"Emails"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* TODO %:fromname: %a %?\nDEADLINE: %(org-insert-time-stamp (org-read-date nil t \"+2d\"))"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"j"</span> <span style="color: #EEDC82;">"Jobs"</span> entry <span style="color: #97b098;">(</span>file+headline <span style="color: #EEDC82;">"~/workspace/me/org/jobs.org"</span> <span style="color: #EEDC82;">"Interviews"</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* TODO %:fromname: %a %?\nDEADLINE: %(org-insert-time-stamp (org-read-date nil t \"+1d\"))"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #8C8C8C;">;;</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"j"</span> <span style="color: #EEDC82;">"Journal"</span>
         entry <span style="color: #97b098;">(</span>file+olp+datetree ,<span style="color: #aebed8;">(</span>org-relative-file <span style="color: #EEDC82;">"~/workspace/me/org/journal.org"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
         <span style="color: #EEDC82;">"* %?\n%U"</span>
         <span style="color: #FF80F4;">:clock-in</span> t
         <span style="color: #FF80F4;">:clock-resume</span> t
         <span style="color: #FF80F4;">:kill-buffer</span> t<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">show up to 2 levels for refile targets, in all agenda files</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-refile-targets '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>org-agenda-files . <span style="color: #97b098;">(</span><span style="color: #FF80F4;">:maxlevel</span> . 2<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-log-refile t<span style="color: #8c8c8c;">)</span>  <span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">will add timestamp when refiled.</span>

<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">from: http://doc.norang.ca/org-mode.html</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Exclude DONE state tasks from refile targets</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">bh/verify-refile-target</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Exclude todo keywords with a done state from refile targets"</span>
  <span style="color: #93a8c6;">(</span>not <span style="color: #b0b1a3;">(</span>member <span style="color: #97b098;">(</span>nth 2 <span style="color: #aebed8;">(</span>org-heading-components<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span> org-done-keywords<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-refile-target-verify-function 'bh/verify-refile-target<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org68bb15f" class="outline-4">
<h4 id="org68bb15f"><span class="section-number-4">18.7.6</span> task tracking</h4>
<div class="outline-text-4" id="text-18-7-6">
<p>
Track task dependencies, and dim them in the agenda.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-enforce-todo-dependencies t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-dim-blocked-tasks 'invisible<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org47f9887" class="outline-4">
<h4 id="org47f9887"><span class="section-number-4">18.7.7</span> effort &amp; columns mode</h4>
<div class="outline-text-4" id="text-18-7-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-global-properties
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"Effort_ALL"</span>. <span style="color: #EEDC82;">"0 0:10 0:30 1:00 2:00 4:00 8:00 16:00"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-columns-default-format
      <span style="color: #EEDC82;">"%TODO %30ITEM %3PRIORITY %6Effort{:} %10DEADLINE"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga76b7b8" class="outline-4">
<h4 id="orga76b7b8"><span class="section-number-4">18.7.8</span> shortcut to open first agenda file</h4>
<div class="outline-text-4" id="text-18-7-8">
<p>
F12 open the first agenda file
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">org-get-first-agenda-file</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>find-file <span style="color: #b0b1a3;">(</span>elt org-agenda-files 0<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>f12<span style="color: #93a8c6;">]</span> 'org-get-first-agenda-file<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">; </span><span style="color: #696969; font-style: italic;">F12 on Mac OSX displays the dashboard....</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #93a8c6;">[</span>C-f12<span style="color: #93a8c6;">]</span> 'org-get-first-agenda-file<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org62b11f1" class="outline-4">
<h4 id="org62b11f1"><span class="section-number-4">18.7.9</span> org-agenda</h4>
<div class="outline-text-4" id="text-18-7-9">
</div>
<ol class="org-ol">
<li><a id="orgec83fb7"></a>views<br />
<div class="outline-text-5" id="text-18-7-9-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-custom-commands
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"t"</span> <span style="color: #EEDC82;">"Hot Today"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>agenda <span style="color: #EEDC82;">""</span> <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-agenda-span 'day<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"-with={.+}/WAITING"</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"-with={.+}+TODO=\"STARTED\""</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"/NEXT"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"T"</span> <span style="color: #EEDC82;">"Team Today"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>agenda <span style="color: #EEDC82;">""</span> <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-agenda-span 'day<span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
                           <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"with={.+}"</span>
                                    <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-super-agenda-groups
                                      '<span style="color: #a2b6da;">(</span><span style="color: #9cb6ad;">(</span><span style="color: #FF80F4;">:auto-property</span> <span style="color: #EEDC82;">"with"</span><span style="color: #9cb6ad;">)</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
                                    <span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"r"</span> <span style="color: #EEDC82;">"Recurring"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>tags <span style="color: #EEDC82;">"REGULAR"</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"/WAITING"</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"TODO=\"STARTED\""</span><span style="color: #aebed8;">)</span>
                          <span style="color: #aebed8;">(</span>tags-todo <span style="color: #EEDC82;">"/NEXT"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"n"</span> <span style="color: #EEDC82;">"Agenda and all TODO's"</span> <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>agenda <span style="color: #EEDC82;">""</span><span style="color: #aebed8;">)</span>
                                      <span style="color: #aebed8;">(</span>alltodo <span style="color: #EEDC82;">""</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"N"</span> <span style="color: #EEDC82;">"Next actions"</span> tags-todo <span style="color: #EEDC82;">"-dowith={.+}/!-TASK-TODO"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"h"</span> <span style="color: #EEDC82;">"Work todos"</span> tags-todo <span style="color: #EEDC82;">"-dowith={.+}/!-TASK"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"H"</span> <span style="color: #EEDC82;">"All work todos"</span> tags-todo <span style="color: #EEDC82;">"-personal/!-TASK-CANCELLED"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"A"</span> <span style="color: #EEDC82;">"Work todos with doat or dowith"</span> tags-todo
         <span style="color: #EEDC82;">"dowith={.+}/!-TASK"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-agenda-todo-ignore-scheduled nil<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>

        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"p"</span> <span style="color: #EEDC82;">"Tasks with current WITH and WHERE"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>tags-todo <span style="color: #b0b0b3;">(</span>paf-sec-replace-with-where <span style="color: #EEDC82;">"with={$WITH}"</span> <span style="color: #EEDC82;">".+"</span><span style="color: #b0b0b3;">)</span>
                     <span style="color: #b0b0b3;">(</span><span style="color: #90a890;">(</span>org-agenda-overriding-header
                       <span style="color: #a2b6da;">(</span>paf-sec-replace-with-where <span style="color: #EEDC82;">"Tasks with $WITH in $WHERE"</span> <span style="color: #EEDC82;">"anyone"</span> <span style="color: #EEDC82;">"any place"</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                      <span style="color: #90a890;">(</span>org-super-agenda-groups
                       '<span style="color: #a2b6da;">(</span><span style="color: #9cb6ad;">(</span><span style="color: #FF80F4;">:name</span> <span style="color: #EEDC82;">""</span> <span style="color: #FF80F4;">:pred</span> paf-sec-limit-to-with-where<span style="color: #9cb6ad;">)</span>
                         <span style="color: #9cb6ad;">(</span><span style="color: #FF80F4;">:discard</span> <span style="color: #8c8c8c;">(</span><span style="color: #FF80F4;">:anything</span> t<span style="color: #8c8c8c;">)</span><span style="color: #9cb6ad;">)</span><span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span><span style="color: #b0b0b3;">)</span>
                     <span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"j"</span> <span style="color: #EEDC82;">"TODO dowith and TASK with"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-sec-with-view <span style="color: #EEDC82;">"TODO dowith"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-stuck-with-view <span style="color: #EEDC82;">"TALK with"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-where-view <span style="color: #EEDC82;">"TODO doat"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-assigned-with-view <span style="color: #EEDC82;">"TASK with"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>org-sec-stuck-with-view <span style="color: #EEDC82;">"STUCK with"</span><span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span>todo <span style="color: #EEDC82;">"STARTED"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #EEDC82;">"J"</span> <span style="color: #EEDC82;">"Interactive TODO dowith and TASK with"</span>
         <span style="color: #97b098;">(</span><span style="color: #aebed8;">(</span>org-sec-who-view <span style="color: #EEDC82;">"TODO dowith"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-skip-deadline-prewarning-if-scheduled 2<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgb1b0ee0"></a>delight<br />
<div class="outline-text-5" id="text-18-7-9-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>delight 'org-agenda-mode<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org734d7de"></a>colors and faces<br />
<div class="outline-text-5" id="text-18-7-9-3">
<p>
Make the calendar day info a bit more visible and contrasted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Faces to make the calendar more colorful.</span>
<span style="color: #8c8c8c;">(</span>custom-set-faces
 '<span style="color: #93a8c6;">(</span>org-agenda-current-time <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-time-grid <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"yellow"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-agenda-date <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-agenda-structure <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"pale green"</span> <span style="color: #FF80F4;">:foreground</span> <span style="color: #EEDC82;">"black"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
 '<span style="color: #93a8c6;">(</span>org-agenda-date-weekend <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>t <span style="color: #aebed8;">(</span><span style="color: #FF80F4;">:inherit</span> org-agenda-date <span style="color: #FF80F4;">:background</span> <span style="color: #EEDC82;">"light blue"</span> <span style="color: #FF80F4;">:weight</span> bold<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orga48d805"></a>now marker<br />
<div class="outline-text-5" id="text-18-7-9-4">
<p>
A more visible current-time marker in the agenda
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-current-time-string <span style="color: #EEDC82;">"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; NOW &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org526049e"></a>auto-refresh<br />
<div class="outline-text-5" id="text-18-7-9-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">will refresh it only if already visible</span>
<span style="color: #8c8c8c;">(</span>run-at-time nil 180 'update-agenda-if-visible<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;;</span><span style="color: #696969; font-style: italic;">(add-hook 'org-mode-hook</span>
<span style="color: #8C8C8C;">;;          </span><span style="color: #696969; font-style: italic;">(lambda () (run-at-time nil 180 'kiwon/org-agenda-redo-in-other-window)))</span>
</pre>
</div>


<p>
This would open the agenda if any org file was opened. In the end, I
don't like this feature, so it is disabled by not tangling it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Make this happen only if we open an org file.</span>
<span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>run-with-idle-timer 600 t 'jump-to-org-agenda<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd2e86ef"></a>auto-save org files when idle<br />
<div class="outline-text-5" id="text-18-7-9-6">
<p>
This will save them regularly when the idle for more than a minute.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>add-hook 'org-mode-hook
          <span style="color: #93a8c6;">(</span><span style="color: #F92672;">lambda</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">(</span>run-with-idle-timer 600 t 'org-save-all-org-buffers<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgfeea8b9"></a>export<br />
<div class="outline-text-5" id="text-18-7-9-7">
<p>
That's the export function to update the agenda view.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-agenda-exporter-settings
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span>ps-number-of-columns 2<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>ps-portrait-mode t<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>org-agenda-add-entry-text-maxlines 5<span style="color: #b0b1a3;">)</span>
        <span style="color: #b0b1a3;">(</span>htmlize-output-type 'font<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">dmg-org-update-agenda-file</span> <span style="color: #93a8c6;">(</span><span style="color: #66D9EF;">&amp;optional</span> force<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">save-excursion</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">save-window-excursion</span>
      <span style="color: #97b098;">(</span><span style="color: #F92672;">let</span> <span style="color: #aebed8;">(</span><span style="color: #b0b0b3;">(</span>file <span style="color: #EEDC82;">"~/www/agenda/agenda.html"</span><span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span>org-agenda-list<span style="color: #aebed8;">)</span>
        <span style="color: #aebed8;">(</span>org-agenda-write file<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgaa4d3a0"></a>Auto-Refresh Agenda<br />
<div class="outline-text-5" id="text-18-7-9-8">
<p>
Refresh org-mode agenda regularly.  <a href="https://orgmode.org/worg/org-hacks.html#orgab827a7">source on worg</a> There are two
functions that supposedly do the same.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">kiwon/org-agenda-redo-in-other-window</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Call org-agenda-redo function even in the non-agenda buffer."</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>agenda-window <span style="color: #aebed8;">(</span>get-buffer-window org-agenda-buffer-name t<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">when</span> agenda-window
      <span style="color: #97b098;">(</span><span style="color: #F92672;">with-selected-window</span> agenda-window <span style="color: #aebed8;">(</span>org-agenda-redo<span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">update-agenda-if-visible</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>buf <span style="color: #aebed8;">(</span>get-buffer <span style="color: #EEDC82;">"*Org Agenda*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        wind<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> buf
        <span style="color: #97b098;">(</span>org-agenda-redo<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orge968441"></a>Display Agenda when idle<br />
<div class="outline-text-5" id="text-18-7-9-9">
<p>
Show the agenda when emacs left idle.  <a href="https://orgmode.org/worg/org-hacks.html#orgaea636d">source on worg</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">jump-to-org-agenda</span> <span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">interactive</span><span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>buf <span style="color: #aebed8;">(</span>get-buffer <span style="color: #EEDC82;">"*Org Agenda*"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
        wind<span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> buf
        <span style="color: #97b098;">(</span><span style="color: #F92672;">if</span> <span style="color: #aebed8;">(</span><span style="color: #F92672;">setq</span> wind <span style="color: #b0b0b3;">(</span>get-buffer-window buf<span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span>
            <span style="color: #aebed8;">(</span>select-window wind<span style="color: #aebed8;">)</span>
          <span style="color: #aebed8;">(</span><span style="color: #F92672;">if</span> <span style="color: #b0b0b3;">(</span>called-interactively-p 'any<span style="color: #b0b0b3;">)</span>
              <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">progn</span>
                <span style="color: #90a890;">(</span>select-window <span style="color: #a2b6da;">(</span>display-buffer buf t t<span style="color: #a2b6da;">)</span><span style="color: #90a890;">)</span>
                <span style="color: #90a890;">(</span>org-fit-window-to-buffer<span style="color: #90a890;">)</span>
                <span style="color: #90a890;">(</span>org-agenda-redo<span style="color: #90a890;">)</span>
                <span style="color: #b0b0b3;">)</span>
            <span style="color: #b0b0b3;">(</span><span style="color: #F92672;">with-selected-window</span> <span style="color: #90a890;">(</span>display-buffer buf<span style="color: #90a890;">)</span>
              <span style="color: #90a890;">(</span>org-fit-window-to-buffer<span style="color: #90a890;">)</span>
              <span style="color: #8C8C8C;">;;</span><span style="color: #696969; font-style: italic;">(org-agenda-redo)</span>
              <span style="color: #b0b0b3;">)</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span>
      <span style="color: #97b098;">(</span>call-interactively 'org-agenda-list<span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
  <span style="color: #8C8C8C;">;;</span><span style="color: #696969; font-style: italic;">(let ((buf (get-buffer "*Calendar*")))</span>
  <span style="color: #8C8C8C;">;;  </span><span style="color: #696969; font-style: italic;">(unless (get-buffer-window buf)</span>
  <span style="color: #8C8C8C;">;;    </span><span style="color: #696969; font-style: italic;">(org-agenda-goto-calendar)))</span>
  <span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgcf56e0d"></a>Display location in agenda<br />
<div class="outline-text-5" id="text-18-7-9-10">
<p>
From some help on <a href="https://emacs.stackexchange.com/questions/26249/customize-text-after-task-in-custom-org-agenda-view">this page</a> I think this could work:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">defun</span> <span style="color: #A6E22E;">paf/org-agenda-get-location</span><span style="color: #93a8c6;">()</span>
  <span style="color: #EEDC82;">"Gets the value of the LOCATION property"</span>
  <span style="color: #93a8c6;">(</span><span style="color: #F92672;">let</span> <span style="color: #b0b1a3;">(</span><span style="color: #97b098;">(</span>loc <span style="color: #aebed8;">(</span>org-entry-get <span style="color: #b0b0b3;">(</span>point<span style="color: #b0b0b3;">)</span> <span style="color: #EEDC82;">"LOCATION"</span><span style="color: #aebed8;">)</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #b0b1a3;">(</span><span style="color: #F92672;">if</span> <span style="color: #97b098;">(</span>&gt; <span style="color: #aebed8;">(</span>length loc<span style="color: #aebed8;">)</span> 0<span style="color: #97b098;">)</span>
        loc
      <span style="color: #EEDC82;">""</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Also, to set this after org-mode has loaded (<a href="https://emacs.stackexchange.com/questions/19091/how-to-set-org-agenda-prefix-format-before-org-agenda-starts">see here</a>):
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">with-eval-after-load</span> 'org-agenda
  <span style="color: #93a8c6;">(</span>add-to-list 'org-agenda-prefix-format
               '<span style="color: #b0b1a3;">(</span>agenda . <span style="color: #EEDC82;">"  %-12:c%?-12t %(paf/org-agenda-get-location)% s"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org76bd4ca" class="outline-4">
<h4 id="org76bd4ca"><span class="section-number-4">18.7.10</span> org-clock properties</h4>
<div class="outline-text-4" id="text-18-7-10">
<p>
Good <a href="https://writequit.org/denver-emacs/presentations/2017-04-11-time-clocking-with-org.html">note about using the clock.</a>
</p>

<p>
Clock stuff into a drawer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-clock-into-drawer t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-log-into-drawer t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-clock-int-drawer <span style="color: #EEDC82;">"CLOCK"</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
And according to <a href="https://orgmode.org/manual/Clocking-Work-Time.html">this</a>, set clock history:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-clock-persist 'history<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>org-clock-persistence-insinuate<span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
Set clock out upon task done and prettify:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">Clock out when moving task to a done state</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-clock-out-when-done t<span style="color: #8c8c8c;">)</span>
<span style="color: #8C8C8C;">;; </span><span style="color: #696969; font-style: italic;">use pretty things for the clocktable</span>
<span style="color: #8c8c8c;">(</span><span style="color: #F92672;">setq</span> org-pretty-entities t<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org76581bc" class="outline-3">
<h3 id="org76581bc"><span class="section-number-3">18.8</span> LAST step: reload org</h3>
<div class="outline-text-3" id="text-18-8">
<p>
Ran into a <a href="https://github.com/seagle0128/.emacs.d/issues/129">strange error</a>, and reloading org at the end is the
solution:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8c8c8c;">(</span>org-mode-restart<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3db076a" class="outline-2">
<h2 id="org3db076a"><span class="section-number-2">19</span> THE END</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Feng Xia</p>
<p class="date">Created: 2023-11-07 Tue 09:24</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
